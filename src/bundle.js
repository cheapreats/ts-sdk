(()=>{"use strict";var e={844:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(72),i=r(67),a=n(r(412)),d=r(156),s=r(894),u=r(883),l=r(287),p=r(945),h=r(680),c=r(814),m=r(731),_=r(210),C=r(526),y=r(490),g=r(612),$=r(927),v=r(748),P=r(53),S=r(115),f=r(357),E=r(475),A=r(817),w=r(359),I=r(0),T=r(402),b=r(836),R=r(486),L=r(422),k=r(374);let O={endpoints:n(r(584)).default};t.App=class{constructor(){this._token=null,this._adaptor=new i.CheaprEatsGraphQLAdaptor({graphQLEndpoint:this.getConfiguration().endpoints.graphQLEndpoint.production}),this._authorizationController=new d.AuthorizationController(this),this._cartController=new s.CartController(this),this._categoryController=new u.CategoryController(this),this._customerController=new l.CustomerController(this),this._customerTokenController=new p.CustomerTokenController(this),this._couponController=new h.CouponController(this),this._employeeController=new c.EmployeeController(this),this._employeeTokenController=new m.EmployeeTokenController(this),this._graphController=new _.GraphController(this),this._headOfficeController=new C.HeadOfficeController(this),this._menuItemController=new y.MenuItemController(this),this._modifierController=new g.ModifierController(this),this._vendorController=new $.VendorController(this),this._verificationController=new v.VerificationController(this),this._validationController=new P.ValidationController(this),this._surveyController=new S.SurveyController(this),this._orderController=new f.OrderController(this),this._imageController=new E.ImageController(this),this._payoutController=new A.PayoutController(this),this._explorePageController=new w.ExplorePageController(this),this._flashSaleController=new I.FlashSaleController(this),this._tipController=new T.TipController(this),this._loyaltyProgramController=new b.LoyaltyProgramController(this),this._loyaltyCardController=new R.LoyaltyCardController(this),this._redeemableItemController=new L.RedeemableItemController(this),this._remoteConfigurationController=new k.RemoteConfigurationController(this)}get Authorization(){return{getTokenScope:this._authorizationController.getTokenScope}}get Cart(){return{updateNote:this._cartController.updateNote,removeCoupon:this._cartController.removeCoupon,applyCoupon:this._cartController.applyCoupon,delete:this._cartController.delete,removeItem:this._cartController.removeItem,addItem:this._cartController.addItem,create:this._cartController.create}}get Category(){return{create:this._categoryController.create,delete:this._categoryController.delete,update:this._categoryController.update,batchUpdate:this._categoryController.batchUpdate}}get Customer(){return{create:this._customerController.create,enrollApnsToken:this._customerController.enrollApnsToken,revokeApnsToken:this._customerController.revokeApnsToken,enrollFcmToken:this._customerController.enrollFcmToken,revokeFcmToken:this._customerController.revokeFcmToken,update:this._customerController.update,updateCreditCard:this._customerController.updateCreditCard,createWallet:this._customerController.createWallet,reloadWallet:this._customerController.reloadWallet,resetPassword:this._customerController.resetPassword,sendPasswordResetCode:this._customerController.sendPasswordResetCode,refundWallet:this._customerController.refundWallet,createWalletTransaction:this._customerController.createWalletTransaction,addFavouriteVendor:this._customerController.addFavouriteVendor,removeFavouriteVendor:this._customerController.removeFavouriteVendor,addFavouriteItem:this._customerController.addFavouriteItem,removeFavouriteItem:this._customerController.removeFavouriteItem}}get CustomerToken(){return{create:this._customerTokenController.create}}get Coupon(){return{create:this._couponController.create}}get Employee(){return{create:this._employeeController.create,update:this._employeeController.update,delete:this._employeeController.delete,enrollTerminalFcm:this._employeeController.enrollTerminalFcm,revokeTerminalFcm:this._employeeController.revokeTerminalFcm,resetEmployeePassword:this._employeeController.resetEmployeePassword,sendPasswordResetCode:this._employeeController.sendPasswordResetCode}}get EmployeeToken(){return{create:this._employeeTokenController.create}}get Graph(){return{query:this._graphController.query}}get MenuItem(){return{create:this._menuItemController.create,update:this._menuItemController.update,batchUpdate:this._menuItemController.batchUpdate,delete:this._menuItemController.delete}}get Modifier(){return{create:this._modifierController.create,update:this._modifierController.update,delete:this._modifierController.delete}}get Order(){return{create:this._orderController.create,cancel:this._orderController.cancel,beginPreparing:this._orderController.beginPreparing,prepared:this._orderController.prepared,complete:this._orderController.complete}}get HeadOffice(){return{create:this._headOfficeController.create,update:this._headOfficeController.update,delete:this._headOfficeController.delete}}get Verification(){return{startVerificationSession:this._verificationController.startVerificationSession,checkVerificationSession:this._verificationController.checkVerificationSession}}get Vendor(){return{create:this._vendorController.create,createWithEmployee:this._vendorController.createWithEmployee,update:this._vendorController.update,updateAllMenuItemsStatus:this._vendorController.updateAllMenuItemsStatus,deleteVendorTester:this._vendorController.deleteVendorTester,addVendorTesterByEmailAddress:this._vendorController.addVendorTesterByEmailAddress,updateVendorApprovalStatus:this._vendorController.updateVendorApprovalStatus,requestVendorApproval:this._vendorController.requestVendorApproval}}get Validation(){return{Customer:{signupEmail:this._validationController.customerSignupEmail,signupPhone:this._validationController.customerSignupPhone}}}get Survey(){return{create:this._surveyController.create,update:this._surveyController.update,archive:this._surveyController.archive,delete:this._surveyController.delete,release:this._surveyController.release,createSurveyResponse:this._surveyController.createSurveyResponse}}get Image(){return{upload:this._imageController.upload,getLink:this._imageController.getLink}}get Payout(){return{request:this._payoutController.request,update:this._payoutController.update,cancel:this._payoutController.cancel}}get ExplorePage(){return{replace:this._explorePageController.replace}}get FlashSale(){return{create:this._flashSaleController.create,update:this._flashSaleController.update}}get Tip(){return{create:this._tipController.create}}get LoyaltyProgram(){return{create:this._loyaltyProgramController.create,update:this._loyaltyProgramController.update,delete:this._loyaltyProgramController.delete}}get LoyaltyCard(){return{createLoyaltyCardAndEnroll:this._loyaltyCardController.createLoyaltyCardAndEnroll,awardPointsToLoyaltyCard:this._loyaltyCardController.awardPointsToLoyaltyCard,awardShareablePointsToLoyaltyCard:this._loyaltyCardController.awardShareablePointsToLoyaltyCard,shareLoyaltyPoints:this._loyaltyCardController.shareLoyaltyPoints,redeemLoyaltyPointsForCoupon:this._loyaltyCardController.redeemLoyaltyPointsForCoupon}}get RedeemableItem(){return{create:this._redeemableItemController.create,update:this._redeemableItemController.update,delete:this._redeemableItemController.delete}}get RemoteConfiguration(){return{fetch:this._remoteConfigurationController.fetch,deleteRawConfiguration:this._remoteConfigurationController.deleteRawConfiguration,updateRawConfiguration:this._remoteConfigurationController.updateRawConfiguration,createRawConfiguration:this._remoteConfigurationController.createRawConfiguration}}get Util(){return{strToIdentifier:o.strToIdentifier}}getAdaptor(){return this._adaptor}getConfiguration(){return O}setAuthenticationToken(e){this._token=e,this._adaptor.setAuthenticationToken(e)}getAuthenticationToken(){return this._token}isCompatible(){let e=`\n            query {\n                is_sdk_version_supported(version:"${a.default.version}")\n            }\n        `;return new Promise((t,r)=>{this.Graph.query(e).then(e=>{t(e.is_sdk_version_supported)}).catch(e=>{r(e)})})}setApolloEndpoint(e){this.setGraphQLEndpoint(e)}setGraphQLEndpoint(e){O.endpoints.graphQLEndpoint.production=e,this._adaptor=new i.CheaprEatsGraphQLAdaptor({graphQLEndpoint:this.getConfiguration().endpoints.graphQLEndpoint.production})}setVerificationEndpoint(e){O.endpoints.verificationEndpoint.production=e}setValidationEndpoint(e){O.endpoints.validationEndpoint.production=e}setImageEndpoint(e){O.endpoints.imageEndpoint.production=e}setImageDistributionEndpoint(e){O.endpoints.imageEndpoint.distribution=e}}},810:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.Adaptor=class{constructor(e){this._config=e}run(e){throw new Error("Not implemented")}}},67:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(810),i=r(684),a=n(r(412));class d extends o.Adaptor{constructor(e){super(e),this._graphQLLink=new i.GraphQLLink(e.graphQLEndpoint,{version:a.default.version||null})}setAuthenticationToken(e){this._graphQLLink=new i.GraphQLLink(this._config.graphQLEndpoint,{headers:{version:a.default.version,authorization:e}})}setGraphQLEndpoint(e){this._graphQLLink=new i.GraphQLLink(e),this._config.graphQLEndpoint=e}query(e,t={}){return this._graphQLLink.query({query:e,variables:t})}mutate(e,t={}){return this._graphQLLink.mutate({query:e,variables:t})}}t.CheaprEatsGraphQLAdaptor=d},156:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.AuthorizationController=class{constructor(e){this.app=e,this.getTokenScope=this.getTokenScope.bind(this)}getTokenScope(e){let t=`\n            query {\n                auth_token_scope(token: "${e}")\n            }\n        `;return new Promise((e,r)=>this.app.getAdaptor().query(t).then(t=>{e(t.auth_token_scope)}).catch(e=>{r(e)}))}}},894:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.CartController=class{constructor(e){this.app=e,this.updateNote=this.updateNote.bind(this),this.removeCoupon=this.removeCoupon.bind(this),this.applyCoupon=this.applyCoupon.bind(this),this.delete=this.delete.bind(this),this.removeItem=this.removeItem.bind(this),this.addItem=this.addItem.bind(this),this.create=this.create.bind(this)}updateNote(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $note: String!) {\n                    updateNoteForCart(cart_id: $cartId, note: $note) {\n                        _id\n                    }\n                }\n            ",{cartId:e,note:t}).then(e=>{r(e.updateNoteForCart)}).catch(e=>{n(e)})})}removeCoupon(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $cartCouponId: String!) {\n                    removeCouponFromCart(cart_id: $cartId, cart_coupon_id: $cartCouponId) {\n                        _id\n                    }\n                }\n            ",{cartId:e,cartCouponId:t}).then(e=>{r(e.removeCouponFromCart)}).catch(e=>{n(e)})})}applyCoupon(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $couponCode: String!) {\n                    applyCouponToCart(cart_id: $cartId, coupon_code: $couponCode) {\n                        _id\n                    }\n                }\n            ",{cartId:e,couponCode:t}).then(e=>{r(e.applyCouponToCart)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!) {\n                    deleteCart(cart_id: $cartId)\n                }\n            ",{cartId:e}).then(e=>{t(e.deleteCart)}).catch(e=>{r(e)})})}removeItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $cartItemId: String!) {\n                    removeItemFromCart(\n                        cart_id: $cartId,\n                        cart_item_id: $cartItemId\n                    ) {\n                        _id\n                    }\n                }\n            ",{cartId:e,cartItemId:t}).then(e=>{r(e.removeItemFromCart)}).catch(e=>{n(e)})})}addItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $item: AddItemToCartInput!) {\n                    addItemToCart(\n                        cart_id: $cartId,\n                        item: $item\n                    ) {\n                        _id\n                    }\n                }\n            ",{cartId:e,item:t}).then(e=>{r(e.addItemCart)}).catch(e=>{n(e)})})}create(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($customerId: String!, $vendorId: String!) {\n                    createCart(\n                        customer_id: $customerId,\n                        vendor_id: $vendorId\n                    ) {\n                        _id\n                    }\n                }\n            ",{customerId:e,vendorId:t}).then(e=>{r(e.createCart)}).catch(e=>{n(e)})})}}},883:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.CategoryController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.batchUpdate=this.batchUpdate.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCategoryMutation ($category: CreateCategoryInput!) {\n                    createCategory(category: $category) {\n                        _id\n                    }\n                }\n            ",{category:e}).then(e=>{t(e.createCategory._id)}).catch(e=>{r(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteCategoryMutation ($id: String!) {\n                    deleteCategory(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteCategory)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateCategoryMutation ($id: String!, $category: UpdateCategoryInput!) {\n                    updateCategory(id: $id, category: $category) {\n                        _id\n                    }\n                }\n            ",{id:e,category:t}).then(e=>{r(e.updateCategory._id)}).catch(e=>{n(e)})})}batchUpdate(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($categories: [BatchUpdateCategoriesInput]!){\n                    batchUpdateCategories(categories: $categories) {\n                        _id\n                    }\n                }\n            ",{categories:e}).then(e=>{t(e.batchUpdateCategories)}).catch(e=>{r(e)})})}}},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.CouponController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCouponMutation ($coupon: CreateCouponInput!) {\n                    createCoupon(coupon: $coupon) {\n                        _id\n                    }\n                }\n            ",{coupon:e}).then(e=>{t(e.createCoupon._id)}).catch(e=>{r(e)})})}}},287:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(814);t.CustomerController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.updateCreditCard=this.updateCreditCard.bind(this),this.enrollApnsToken=this.enrollApnsToken.bind(this),this.revokeApnsToken=this.revokeApnsToken.bind(this),this.enrollFcmToken=this.enrollFcmToken.bind(this),this.revokeFcmToken=this.revokeFcmToken.bind(this),this.createWallet=this.createWallet.bind(this),this.reloadWallet=this.reloadWallet.bind(this),this.sendPasswordResetCode=this.sendPasswordResetCode.bind(this),this.resetPassword=this.resetPassword.bind(this),this.refundWallet=this.refundWallet.bind(this),this.createWalletTransaction=this.createWalletTransaction.bind(this),this.addFavouriteVendor=this.addFavouriteVendor.bind(this),this.removeFavouriteVendor=this.removeFavouriteVendor.bind(this),this.addFavouriteItem=this.addFavouriteItem.bind(this),this.removeFavouriteItem=this.removeFavouriteItem.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCustomerMutation ($customer: CreateCustomerInput!) {\n                    createCustomer(customer: $customer) {\n                        _id\n                    }\n                }\n            ",{customer:e}).then(e=>{t(e.createCustomer._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateCustomerMutation ($id: String!, $customer: UpdateCustomerInput!) {\n                    updateCustomer(id: $id, customer: $customer) {\n                        _id\n                    }\n                }\n            ",{id:e,customer:t}).then(e=>{r(e.updateCustomer._id)}).catch(e=>{n(e)})})}enrollApnsToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation enrollCustomerApnsTokenMutation ($id: String!, $token: String!) {\n                    enrollCustomerApnsToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.enrollCustomerApnsToken)}).catch(e=>{n(e)})})}revokeApnsToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation revokeCustomerApnsTokenMutation ($id: String!, $token: String!) {\n                    revokeCustomerApnsToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.revokeCustomerApnsToken)}).catch(e=>{n(e)})})}enrollFcmToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation enrollCustomerFcmTokenMutation ($id: String!, $token: String!) {\n                    enrollCustomerFcmToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.enrollCustomerFcmToken)}).catch(e=>{n(e)})})}revokeFcmToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation revokeCustomerFcmTokenMutation ($id: String!, $token: String!) {\n                    revokeCustomerFcmToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.revokeCustomerFcmToken)}).catch(e=>{n(e)})})}updateCreditCard(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateCustomerCreditCardMutation ($id: String!, $token: String!) {\n                    updateCustomerCreditCard(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.updateCustomerCreditCard)}).catch(e=>{n(e)})})}createWallet(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCustomerWallet ($id: String!) {\n                    createCustomerWallet(id: $id) {\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e.createCustomerWallet._id)}).catch(e=>{r(e)})})}reloadWallet(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation reloadCustomerWallet ($id: String!, $amount: Int!, $payment_method: String!) {\n                    reloadCustomerWallet(id: $id, amount: $amount, payment_method: $payment_method) {\n                        _id\n                    }\n                }\n            ",{id:e,amount:t,payment_method:r}).then(e=>{n(e.reloadCustomerWallet._id)}).catch(e=>{o(e)})})}sendPasswordResetCode(e,t=n.ResetCodeSendMethod.EMAIL){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation sendCustomerPasswordResetCode ($email_address: String!, $method: ResetCodeSendMethod) {\n                    sendCustomerPasswordResetCode(email_address: $email_address, method:$method)\n                }\n            ",{email_address:e,method:t}).then(e=>{r(e.sendCustomerPasswordResetCode)}).catch(e=>{n(e)})})}resetPassword(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation resetCustomerPassword ($email_address: String!, $code: String!, $password: String!) {\n                    resetCustomerPassword(email_address: $email_address, code: $code, password: $password) {\n                        _id\n                    }\n                }\n            ",{email_address:e,code:t,password:r}).then(e=>{n(e.resetCustomerPassword._id)}).catch(e=>{o(e)})})}refundWallet(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $vendor_id: String!, $amount: Int!, $order_id: String) {\n                    refundCustomerWallet(id: $id, vendor_id: $vendor_id, amount: $amount, order_id: $order_id) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor_id:t,amount:r,order_id:n}).then(e=>{o(e.refundCustomerWallet._id)}).catch(e=>{i(e)})})}createWalletTransaction(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $transaction_type: String!, $amount: Int!, $description: String) {\n                    createCustomerWalletTransaction(id: $id, transaction_type: $transaction_type, amount: $amount, description: $description) {\n                        _id\n                    }\n                }\n            ",{id:e,transaction_type:t,amount:r,description:n}).then(e=>{o(e.createCustomerWalletTransaction._id)}).catch(e=>{i(e)})})}addFavouriteVendor(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $vendor_id: String!) {\n                    addFavouriteVendorForCustomer (id: $id, vendor_id: $vendor_id) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor_id:t}).then(e=>{r(e.addFavouriteVendorForCustomer._id)}).catch(e=>{n(e)})})}removeFavouriteVendor(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $vendor_id: String!) {\n                    removeFavouriteVendorForCustomer (id: $id, vendor_id: $vendor_id) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor_id:t}).then(e=>{r(e.removeFavouriteVendorForCustomer._id)}).catch(e=>{n(e)})})}addFavouriteItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $item_id: String!) {\n                    addFavouriteItemForCustomer (id: $id, item_id: $item_id) {\n                        _id\n                    }\n                }\n            ",{id:e,item_id:t}).then(e=>{r(e.addFavouriteItemForCustomer._id)}).catch(e=>{n(e)})})}removeFavouriteItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id:String!, $item_id:String!) {\n                    removeFavouriteItemForCustomer (id:$id, item_id:$item_id) {\n                        _id\n                    }\n                }\n            ",{id:e,item_id:t}).then(e=>{r(e.removeFavouriteItemForCustomer._id)}).catch(e=>{n(e)})})}}},945:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.CustomerTokenController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation createCustomerTokenMutation ($email_address: String!, $password: String!) {\n                    createCustomerToken(email_address: $email_address, password: $password) {\n                        _id\n                        body\n                        created_at\n                        updated_at\n                    }\n                }\n            ",{email_address:e,password:t}).then(e=>{r(e.createCustomerToken)}).catch(e=>{n(e)})})}}},814:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMAIL="EMAIL",e.SMS="SMS"}(t.ResetCodeSendMethod||(t.ResetCodeSendMethod={}));t.EmployeeController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.enrollTerminalFcm=this.enrollTerminalFcm.bind(this),this.revokeTerminalFcm=this.revokeTerminalFcm.bind(this),this.resetEmployeePassword=this.resetEmployeePassword.bind(this),this.sendPasswordResetCode=this.sendPasswordResetCode.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createEmployeeMutation ($employee: CreateEmployeeInput!) {\n                    createEmployee(employee: $employee) {\n                        _id\n                    }\n                }\n            ",{employee:e}).then(e=>{t(e.createEmployee._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateEmployeeMutation ($id: String!, $employee: UpdateEmployeeInput!) {\n                    updateEmployee(id: $id, employee: $employee) {\n                        _id\n                    }\n                }\n            ",{id:e,employee:t}).then(e=>{r(e.updateEmployee._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteEmployee ($id: String!) {\n                    deleteEmployee(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteEmployee)}).catch(e=>{r(e)})})}enrollTerminalFcm(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation enrollEmployeeTerminalFcmToken ($id: String!, $token: String!) {\n                    enrollEmployeeTerminalFcmToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.enrollEmployeeTerminalFcmToken)}).catch(e=>{n(e)})})}revokeTerminalFcm(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation revokeEmployeeTerminalFcmToken ($token: String!) {\n                    revokeEmployeeTerminalFcmToken(token: $token)\n                }\n            ",{token:e}).then(e=>{t(e.revokeEmployeeTerminalFcmToken)}).catch(e=>{r(e)})})}resetEmployeePassword(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation resetEmployeePassword ($id: String, $email_address:String, $code:String!, $password:String!) {\n                    resetEmployeePassword(id: $id, email_address: $email_address, code: $code, password: $password) {\n                        _id\n                    }\n                }\n            ",{id:e,email_address:t,code:r,password:n}).then(e=>{o(e.resetEmployeePassword._id)}).catch(e=>{i(e)})})}sendPasswordResetCode(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation sendEmployeePasswordResetCode ($email_address: String!, $method:ResetCodeSendMethod) {\n                    sendEmployeePasswordResetCode(email_address: $email_address, method:$method)\n                }\n            ",{email_address:e,method:t}).then(e=>{r(e.sendEmployeePasswordResetCode)}).catch(e=>{n(e)})})}}},731:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.EmployeeTokenController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation createEmployeeTokenMutation ($vendor_id: String!, $username: String!, $password: String!) {\n                    createEmployeeToken(vendor_id: $vendor_id, username: $username, password: $password) {\n                        body\n                    }\n                }\n            ",{vendor_id:e,username:t,password:r}).then(e=>{n(e.createEmployeeToken.body)}).catch(e=>{o(e)})})}}},359:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ExplorePageController=class{constructor(e){this.app=e,this.replace=this.replace.bind(this)}replace(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($advertisements: [AdvertisementInput], $daily_deals: [DailyDealsInput], $special_deals: [SpecialDealsInput], $timely_deals: [TimelyDealsInput]) { \n                    replaceExplorePage(advertisements: $advertisements, daily_deals: $daily_deals, special_deals: $special_deals, timely_deals: $timely_deals) {\n                        updated_at\n                    }\n                }\n            ",{advertisements:e,daily_deals:t,special_deals:r,timely_deals:n}).then(e=>{o(e.replaceExplorePage.updated_at)}).catch(e=>{i(e)})})}}},0:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DOLLAR="DOLLAR",e.PERCENTAGE="PERCENTAGE"}(t.FlashSaleType||(t.FlashSaleType={}));t.FlashSaleController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this)}create(e,t,r,n,o,i){return new Promise((a,d)=>{this.app.getAdaptor().mutate("\n                mutation($vendor_id: String!, $type: FlashSaleType!, $amount: Int!, $items: [FlashSaleItemInput]!, $start_at: String!, $end_at: String!) {\n                    createFlashSale(vendor_id: $vendor_id, type: $type, amount: $amount, items:$items, start_at:$start_at, end_at:$end_at) {\n                        _id\n                    }\n                }\n            ",{vendor_id:e,type:t,amount:r,items:n,start_at:o,end_at:i}).then(e=>{a(e.createFlashSale._id)}).catch(e=>{d(e)})})}update(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation($id: String!, $items: [FlashSaleItemInput], $end_at: String) {\n                    updateFlashSale(id: $id, items:$items, end_at:$end_at) {\n                        _id\n                    }\n                }\n            ",{id:e,items:t,end_at:r}).then(e=>{n(e.updateFlashSale._id)}).catch(e=>{o(e)})})}}},210:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.VENDOR_ADMIN="VENDOR_ADMIN",e.VENDOR_EMPLOYEE="VENDOR_EMPLOYEE",e.CUSTOMER="CUSTOMER",e.MASTER="MASTER",e.INVALID="INVALID"}(t.UserTypes||(t.UserTypes={}));t.GraphController=class{constructor(e){this.app=e,this.query=this.query.bind(this)}query(e,t={}){return this.app.getAdaptor().query(e,t)}}},526:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.HeadOfficeController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createHeadOffice ($identifier: String!) {\n                    createHeadOffice(identifier: $identifier) {\n                        _id\n                    }\n                }\n            ",{identifier:e}).then(e=>{t(e.createHeadOffice._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateHeadOffice ($id: String!, $identifier: String!) {\n                    updateHeadOffice(id: $id, identifier: $identifier) {\n                        _id\n                    }\n                }\n            ",{id:e,identifier:t}).then(e=>{r(e.updateHeadOffice._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteHeadOffice ($id: String!) {\n                    deleteHeadOffice(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteHeadOffice)}).catch(e=>{r(e)})})}}},475:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(348);t.ImageController=class{constructor(e){this.app=e,this.upload=this.upload.bind(this),this.getLink=this.getLink.bind(this)}getHttpLink(e=""){return new n.HttpLink(this.app.getConfiguration().endpoints.imageEndpoint.production+e)}upload(e){const t=this.getHttpLink("/upload");return new Promise((r,n)=>{t.post({data:{image:e}}).then(e=>{r(e.data)}).catch(e=>{n(e)})})}getLink(e,t){return this.app.getConfiguration().endpoints.imageEndpoint.distribution+"/"+e+"-"+t+".png"}}},486:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EARNING="EARNING",e.EARNING_FRIEND="EARNING_FRIEND",e.SHARING="SHARING",e.REDEEMING="REDEEMING"}(t.LoyaltyTransactionType||(t.LoyaltyTransactionType={}));t.LoyaltyCardController=class{constructor(e){this.app=e,this.createLoyaltyCardAndEnroll=this.createLoyaltyCardAndEnroll.bind(this),this.awardPointsToLoyaltyCard=this.awardPointsToLoyaltyCard.bind(this),this.awardShareablePointsToLoyaltyCard=this.awardShareablePointsToLoyaltyCard.bind(this),this.shareLoyaltyPoints=this.shareLoyaltyPoints.bind(this),this.redeemLoyaltyPointsForCoupon=this.redeemLoyaltyPointsForCoupon.bind(this)}createLoyaltyCardAndEnroll(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($loyalty_card:CreateLoyaltyCardInput!) {\n                    createLoyaltyCardAndEnroll(loyalty_card: $loyalty_card) {\n                        _id\n                    }\n                }\n            ",{loyalty_card:e}).then(e=>{t(e.createLoyaltyCardAndEnroll._id)}).catch(e=>{r(e)})})}awardPointsToLoyaltyCard(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $amount: Int!) {\n                    awardPointsToLoyaltyCard(id: $id, amount: $amount) {\n                        _id\n                    }\n                }\n            ",{id:e,amount:t}).then(e=>{r(e.awardPointsToLoyaltyCard._id)}).catch(e=>{n(e)})})}awardShareablePointsToLoyaltyCard(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $amount: Int!) {\n                    awardShareablePointsToLoyaltyCard(id: $id, amount: $amount) {\n                        _id\n                    }\n                }\n            ",{id:e,amount:t}).then(e=>{r(e.awardShareablePointsToLoyaltyCard._id)}).catch(e=>{n(e)})})}shareLoyaltyPoints(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($sender_customer_id: String!, $receiver_phone_number: String!, $loyalty_program_id: String!, $no_of_points_to_share: Int!) {\n                    shareLoyaltyPoints(sender_customer_id: $sender_customer_id, receiver_phone_number: $receiver_phone_number, loyalty_program_id: $loyalty_program_id, no_of_points_to_share: $no_of_points_to_share) {\n                        _id\n                    }\n                }\n            ",{sender_customer_id:e,receiver_phone_number:t,loyalty_program_id:r,no_of_points_to_share:n}).then(e=>{o(e.shareLoyaltyPoints._id)}).catch(e=>{i(e)})})}redeemLoyaltyPointsForCoupon(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($loyalty_card_id: String!, $menu_item_id: String!) {\n                    redeemLoyaltyPointsForCoupon(loyalty_card_id: $loyalty_card_id, menu_item_id: $menu_item_id) {\n                        _id\n                    }\n                }\n            ",{loyalty_card_id:e,menu_item_id:t}).then(e=>{r(e.redeemLoyaltyPointsForCoupon._id)}).catch(e=>{n(e)})})}}},836:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DOLLAR="DOLLAR",e.ORDER="ORDER",e.ITEM="ITEM"}(t.LoyaltyProgramType||(t.LoyaltyProgramType={}));t.LoyaltyProgramController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($loyalty_program: CreateLoyaltyProgramInput!) {\n                    createLoyaltyProgram(loyalty_program: $loyalty_program) {\n                        _id\n                    }\n                }\n            ",{loyalty_program:e}).then(e=>{t(e.createLoyaltyProgram._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id:String!, $loyalty_program: UpdateLoyaltyProgramInput!) {\n                    updateLoyaltyProgram(id:$id, loyalty_program: $loyalty_program) {\n                        _id\n                    }\n                }\n            ",{id:e,loyalty_program:t}).then(e=>{r(e.updateLoyaltyProgram._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteLoyaltyProgram(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteLoyaltyProgram)}).catch(e=>{r(e)})})}}},490:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.MenuItemController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.batchUpdate=this.batchUpdate.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createMenuItemMutation ($menu_item: CreateMenuItemInput!) {\n                    createMenuItem(menu_item: $menu_item) {\n                        _id\n                    }\n                }\n            ",{menu_item:e}).then(e=>{t(e.createMenuItem._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateMenuItemMutation ($id: String!, $menu_item: UpdateMenuItemInput!) {\n                    updateMenuItem(id: $id, menu_item: $menu_item) {\n                        _id\n                    }\n                }\n            ",{id:e,menu_item:t}).then(e=>{r(e.updateMenuItem._id)}).catch(e=>{n(e)})})}batchUpdate(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation batchUpdateMenuItems ($menu_items: [BatchUpdateMenuItemsInput]!) {\n                    batchUpdateMenuItems(menu_items: $menu_items) {\n                        _id\n                    }\n                }\n            ",{menu_items:e}).then(e=>{t(e.batchUpdateMenuItems)}).catch(e=>{r(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteMenuItemMutation ($id: String!) {\n                    deleteMenuItem(id: $id)\n                }\n            ",{id:e}).then(()=>{t()}).catch(e=>{r(e)})})}}},612:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ModifierController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createModifier ($modifier: CreateModifierInput!) {\n                    createModifier(modifier: $modifier) {\n                        _id\n                    }\n                }\n            ",{modifier:e}).then(e=>{t(e.createModifier._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateModifier ($id: String!, $modifier: UpdateModifierInput!) {\n                    updateModifier(id: $id, modifier: $modifier) {\n                        _id\n                    }\n                }\n            ",{id:e,modifier:t}).then(e=>{r(e.updateModifier._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteModifier ($id: String!) {\n                    deleteModifier(id: $id)\n                }\n            ",{id:e}).then(()=>{t()}).catch(e=>{r(e)})})}}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EAT_IN="EAT_IN",e.TAKE_OUT="TAKE_OUT",e.DELIVERY="DELIVERY"}(t.OrderType||(t.OrderType={})),function(e){e.VENDOR_CANCELLED="VENDOR_CANCELLED",e.VENDOR_PREP_CANCELLED="VENDOR_PREP_CANCELLED",e.VENDOR_ITEM_SOLD_OUT="VENDOR_ITEM_SOLD_OUT",e.VENDOR_STORE_CLOSING_SOON="VENDOR_STORE_CLOSING_SOON",e.CUSTOMER_NOT_PICKED_UP="CUSTOMER_NOT_PICKED_UP",e.CUSTOMER_CANCELLED="CUSTOMER_CANCELLED",e.OTHER="OTHER"}(t.OrderCancellationReason||(t.OrderCancellationReason={}));t.OrderController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.cancel=this.cancel.bind(this),this.beginPreparing=this.beginPreparing.bind(this),this.prepared=this.prepared.bind(this),this.complete=this.complete.bind(this)}create(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation createOrderMutation ($order: CreateOrderInput!, $dry: Boolean, $clear_cart: Boolean) {\n                    createOrder(order: $order, dry: $dry, clear_cart: $clear_cart) {\n                        _id\n                    }\n                }\n            ",{order:e,dry:t,clear_cart:r}).then(e=>{n(e.createOrder._id)}).catch(e=>{o(e)})})}cancel(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation cancelOrderMutation ($id: String!, $reason: OrderCancellationReason!, $description: String){\n                    cancelOrder(id: $id, reason: $reason, description: $description){\n                        _id\n                    }\n                }\n            ",{id:e,reason:t,description:r}).then(e=>{n(e)}).catch(e=>{o(e)})})}beginPreparing(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation beginPreparingOrder($id: String!, $estimated_preparing_sec: Int!){\n                    beginPreparingOrder(id: $id, estimated_preparing_sec: $estimated_preparing_sec){\n                        _id\n                    }\n                }\n            ",{id:e,estimated_preparing_sec:t}).then(e=>{r(e)}).catch(e=>{n(e)})})}prepared(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation preparedOrderMutation ($id: String!){\n                    preparedOrder (id: $id){\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e)}).catch(e=>{r(e)})})}complete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation completeOrderMutation ($id: String!){\n                    completeOrder(id: $id){\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e)}).catch(e=>{r(e)})})}}},817:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MANUAL="MANUAL"}(t.PayoutMethod||(t.PayoutMethod={})),function(e){e.PENDING="PENDING",e.IN_TRANSIT="IN_TRANSIT",e.PAID="PAID",e.CANCELLED="CANCELLED"}(t.PayoutStatus||(t.PayoutStatus={})),function(e){e.CREDIT="CREDIT",e.DEBIT="DEBIT"}(t.ServiceChargeType||(t.ServiceChargeType={})),function(e){e.ORDER_TRANSACTION_FEE="ORDER_TRANSACTION_FEE",e.PAYOUT_REQUEST_FEE="PAYOUT_REQUEST_FEE",e.OTHER="OTHER",e.OTHER_TAXABLE="OTHER_TAXABLE",e.TAX="TAX"}(t.ServiceChargeReason||(t.ServiceChargeReason={}));t.PayoutController=class{constructor(e){this.app=e,this.request=this.request.bind(this),this.update=this.update.bind(this),this.cancel=this.cancel.bind(this)}request(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($vendor_id: String!, $dry: Boolean) {\n                    requestPayout(vendor_id: $vendor_id, dry: $dry) {\n                        _id\n                        total\n                    }\n                }\n            ",{vendor_id:e,dry:t}).then(e=>{r(e.requestPayout)}).catch(e=>{n(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $payout:UpdatePayoutInput!) {\n                    updatePayout(id: $id, payout: $payout) {\n                        _id\n                    }\n                }\n            ",{id:e,payout:t}).then(e=>{r(e.updatePayout._id)}).catch(e=>{n(e)})})}cancel(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    cancelPayout(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.cancelPayout)}).catch(e=>{r(e)})})}}},422:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.RedeemableItemController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createRedeemableItem ($redeemable_item: CreateRedeemableItemInput!) {\n                    createRedeemableItem(redeemable_item: $redeemable_item) {\n                        _id\n                    }\n                }\n            ",{redeemable_item:e}).then(e=>{t(e.createRedeemableItem._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id:String!, $redeemable_item: UpdateRedeemableItemInput!) {\n                    updateRedeemableItem(id: $id, redeemable_item: $redeemable_item) {\n                        _id\n                    }\n                }\n            ",{id:e,redeemable_item:t}).then(e=>{r(e.updateRedeemableItem._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteRedeemableItem(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteRedeemableItem)}).catch(e=>{r(e)})})}}},374:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.RemoteConfigurationController=class{constructor(e){this.app=e,this.fetch=this.fetch.bind(this),this.deleteRawConfiguration=this.deleteRawConfiguration.bind(this),this.updateRawConfiguration=this.updateRawConfiguration.bind(this),this.createRawConfiguration=this.createRawConfiguration.bind(this)}fetch(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                query ($name: String!, $version: String!) {\n                    merged_configuration(name: $name, version: $version) {\n                        name\n                        data\n                    }\n                }\n            ",{name:e,version:t}).then(e=>{r(JSON.parse(e.merged_configuration.data))}).catch(e=>{n(e)})})}deleteRawConfiguration(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteRawConfiguration(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteRawConfiguration)}).catch(e=>{r(e)})})}updateRawConfiguration(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $rawConfiguration: UpdateRawConfigurationInput!) {\n                    updateRawConfiguration(id: $id, raw_configuration: $rawConfiguration) {\n                        _id\n                    }\n                }\n            ",{id:e,rawConfiguration:t}).then(e=>{r(e.updateRawConfiguration)}).catch(e=>{n(e)})})}createRawConfiguration(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($rawConfiguration: CreateRawConfigurationInput!) {\n                    createRawConfiguration(raw_configuration: $rawConfiguration) {\n                        _id\n                    }\n                }\n            ",{rawConfiguration:e}).then(e=>{t(e.createRawConfiguration)}).catch(e=>{r(e)})})}}},115:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHECKBOX="CHECKBOX",e.MULTI_CHECKBOX="MULTI_CHECKBOX",e.SHORT_ANSWER="SHORT_ANSWER",e.RATING="RATING"}(t.SurveyQuestionType||(t.SurveyQuestionType={})),function(e){e.AFTER_ORDER="AFTER_ORDER"}(t.SurveyDeliveryRule||(t.SurveyDeliveryRule={}));t.SurveyController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.archive=this.archive.bind(this),this.delete=this.delete.bind(this),this.release=this.release.bind(this),this.createSurveyResponse=this.createSurveyResponse.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($survey: CreateSurveyInput!) {\n                    createSurvey(survey: $survey) {\n                        _id\n                    }\n                }\n            ",{survey:e}).then(e=>{t(e.createSurvey._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $survey: UpdateSurveyInput!) {\n                    updateSurvey(id: $id, survey: $survey) {\n                        _id\n                    }\n                }\n            ",{id:e,survey:t}).then(e=>{r(e.updateSurvey._id)}).catch(e=>{n(e)})})}archive(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    archiveSurvey(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.archiveSurvey)}).catch(e=>{r(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteSurvey(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteSurvey)}).catch(e=>{r(e)})})}release(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    releaseSurvey(id: $id) {\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e.releaseSurvey._id)}).catch(e=>{r(e)})})}createSurveyResponse(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($survey_id: String!, $survey_response: CreateSurveyResponseInput!) {\n                    createSurveyResponse(survey_id: $survey_id, survey_response: $survey_response) {\n                        _id\n                    }\n                }\n            ",{survey_id:e,survey_response:t}).then(e=>{r(e.createSurveyResponse._id)}).catch(e=>{n(e)})})}}},402:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.TipController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($order_id:String!, $amount:Int!) {\n                    createTip(order_id:$order_id, amount:$amount) {\n                        _id,\n                    }\n                }             \n            ",{order_id:e,amount:t}).then(e=>{r(e.createTip._id)}).catch(e=>{n(e)})})}}},53:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(348);t.ValidationController=class{constructor(e){this.app=e,this.customerSignupEmail=this.customerSignupEmail.bind(this),this.customerSignupPhone=this.customerSignupPhone.bind(this)}getHttpLink(e=""){return new n.HttpLink(this.app.getConfiguration().endpoints.validationEndpoint.production+e)}customerSignupEmail(e){return new Promise((t,r)=>{this.getHttpLink("/customer/signup/email").post({data:{email:e}}).then(e=>{t(e.data)}).catch(e=>{r(e)})})}customerSignupPhone(e){return new Promise((t,r)=>{this.getHttpLink("/customer/signup/phone").post({data:{phone:e}}).then(e=>{t(e.data)}).catch(e=>{r(e)})})}}},927:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NOT_APPROVED="NOT_APPROVED",e.PENDING="PENDING",e.APPROVED="APPROVED"}(t.VendorApprovalStatus||(t.VendorApprovalStatus={})),function(e){e.OFF="OFF",e.WEEKLY="WEEKLY",e.BI_WEEKLY="BI_WEEKLY",e.MONTHLY="MONTHLY"}(t.PayoutAutoRequestSchedule||(t.PayoutAutoRequestSchedule={})),function(e){e.FIRST_TIME="FIRST_TIME",e.CASUAL="CASUAL",e.REGULAR="REGULAR"}(t.VendorAnalyticsCustomerType||(t.VendorAnalyticsCustomerType={}));t.VendorController=class{constructor(e){this.app=e,this.deleteVendorTester=this.deleteVendorTester.bind(this),this.addVendorTesterByEmailAddress=this.addVendorTesterByEmailAddress.bind(this),this.updateVendorApprovalStatus=this.updateVendorApprovalStatus.bind(this),this.requestVendorApproval=this.requestVendorApproval.bind(this),this.create=this.create.bind(this),this.update=this.update.bind(this),this.createWithEmployee=this.createWithEmployee.bind(this),this.updateAllMenuItemsStatus=this.updateAllMenuItemsStatus.bind(this)}deleteVendorTester(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteVendorTester(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteVendorTester)}).catch(e=>{r(e)})})}addVendorTesterByEmailAddress(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $email_address: String!) {\n                    addVendorTesterByEmailAddress(id: $id, email_address: $email_address) {\n                        _id\n                    }\n                }\n            ",{id:e,email_address:t}).then(e=>{r(e.addVendorTesterByEmailAddress)}).catch(e=>{n(e)})})}updateVendorApprovalStatus(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $approval_status: VendorApprovalStatus!) {\n                    updateVendorApprovalStatus(id: $id, approval_status: $approval_status) {\n                        _id\n                    }\n                }\n            ",{id:e,approval_status:t}).then(e=>{r(e.updateVendorApprovalStatus._id)}).catch(e=>{n(e)})})}requestVendorApproval(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    requestVendorApproval(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.requestVendorApproval)}).catch(e=>{r(e)})})}create(e){return console.warn("Vendor.create is deprecated, it is recommended for you to move to Vendor.createWithEmployee"),new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createVendorMutation ($vendor: CreateVendorInput!) {\n                    createVendor(vendor: $vendor) {\n                        _id\n                    }\n                }\n            ",{vendor:e}).then(e=>{t(e.createVendor._id)}).catch(e=>{r(e)})})}createWithEmployee(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createVendorWithEmployeeMutation($vendor: CreateVendorWithEmployeeInput!) {\n                    createVendorWithEmployee(vendor: $vendor) {\n                        _id\n                    }\n                }\n            ",{vendor:e}).then(e=>{t(e.createVendorWithEmployee._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateVendorMutation ($id: String!, $vendor: UpdateVendorInput!) {\n                    updateVendor(id: $id, vendor: $vendor) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor:t}).then(e=>{r(e.updateVendor._id)}).catch(e=>{n(e)})})}updateAllMenuItemsStatus(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($vendor_id: String!, $status: String!) {\n                    updateAllMenuItemsStatusForVendor(vendor_id: $vendor_id, status: $status)\n                }\n            ",{vendor_id:e,status:t}).then(e=>{r(e.updateAllMenuItemsStatusForVendor)}).catch(e=>{n(e)})})}}},748:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.VerificationController=class{constructor(e){this.app=e,this.startVerificationSession=this.startVerificationSession.bind(this),this.checkVerificationSession=this.checkVerificationSession.bind(this)}startVerificationSession(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createSmsVerificationSessionMutation ($phone_number:String!) {\n                    createSmsVerificationSession(phone_number:$phone_number) {\n                        uuid\n                    }\n                }\n            ",{phone_number:e}).then(e=>{t(e)}).catch(e=>{r(e)})})}checkVerificationSession(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation verifySmsVerificationSessionMutation ($uuid:String!, $verification_code:String!) {\n                    verifySmsVerificationSession(uuid:$uuid, verification_code:$verification_code) {\n                        phone_number,\n                        verified_status\n                    }\n                }\n            ",{uuid:e,verification_code:t}).then(e=>{r(e)}).catch(e=>{n(e)})})}}},725:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.Link=class{constructor(e){this._url=e}run(e){throw new Error("Not implemented")}}},684:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(293),o=r(435);class i extends n.SynchronousLink{constructor(e,t={}){super(e),this._headers=t.headers||{},this._constructClient()}_constructClient(){this._client=new o.GraphQLClient(this._url,{headers:this._headers})}async query(e){return await this.run(e)}async mutate(e){return await this.run(e)}async run(e){return await this._client.request(e.query,e.variables||{})}}t.GraphQLLink=i},348:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(293),i=n(r(376));class a extends o.SynchronousLink{constructor(e){super(e)}get(e={}){return this.run(Object.assign(e,{method:"get"}))}post(e={}){return this.run(Object.assign(e,{method:"post"}))}put(e={}){return this.run(Object.assign(e,{method:"put"}))}delete(e={}){return this.run(Object.assign(e,{method:"delete"}))}run(e){return new Promise((t,r)=>{i.default.request({method:e.method,url:this._url,data:e.data?e.data:{},headers:e.headers?e.headers:{}}).then(e=>{t(e)}).catch(e=>{r(e)})})}}t.HttpLink=a},293:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(725);class o extends n.Link{constructor(e){super(e),this._type="sync"}}t.SynchronousLink=o},72:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.strToIdentifier=function(e){let t="";for(let r=0;r<e.length;r++)e[r].match(/[A-Za-z0-9]/)?t+=e[r].toLowerCase():"_"!==e[r]&&" "!==e[r]&&"-"!==e[r]||"_"===t[t.length-1]||(t+="_");return"_"===t[t.length-1]&&(t=t.slice(0,t.length-1)),"_"===t[0]&&(t=t.slice(1,t.length)),t}},584:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={graphQLEndpoint:{production:"https://graphql-v1.cheapreats.com/graphql"},verificationEndpoint:{production:"https://ms-verification-v1.cheapreats.com"},validationEndpoint:{production:"https://ms-validation-v1.cheapreats.com"},imageEndpoint:{production:"https://ms-image-v1.cheapreats.com",distribution:"https://static.cheapreats.com"}}},607:(e,t,r)=>{const n=new(r(844).App);"undefined"!=typeof window&&(window.CE=n)},412:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"1.10.35"}},376:e=>{e.exports=axios},435:e=>{e.exports=graphql-request}},t={};!function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL0FwcC50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2FkYXB0b3JzL0FkYXB0b3IudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9hZGFwdG9ycy9DaGVhcHJFYXRzR3JhcGhRTEFkYXB0b3IudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9BdXRob3JpemF0aW9uQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2NvbnRyb2xsZXJzL0NhcnRDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvQ2F0ZWdvcnlDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvQ291cG9uQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2NvbnRyb2xsZXJzL0N1c3RvbWVyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2NvbnRyb2xsZXJzL0N1c3RvbWVyVG9rZW5Db250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvRW1wbG95ZWVDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9FeHBsb3JlUGFnZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9GbGFzaFNhbGVDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvR3JhcGhDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvSGVhZE9mZmljZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9JbWFnZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9Mb3lhbHR5Q2FyZENvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9Mb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9NZW51SXRlbUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9Nb2RpZmllckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9PcmRlckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9QYXlvdXRDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9jb250cm9sbGVycy9TdXJ2ZXlDb250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvVGlwQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2NvbnRyb2xsZXJzL1ZhbGlkYXRpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvY29udHJvbGxlcnMvVmVuZG9yQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2NvbnRyb2xsZXJzL1ZlcmlmaWNhdGlvbkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9saW5rcy9MaW5rLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9hcHAvbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGluay50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvSHR0cExpbmsudHMiLCJ3ZWJwYWNrOi8vQGNoZWFwcmVhdHMvdHMtc2RrLy4vc3JjL2FwcC9saW5rcy9zeW5jaHJvbm91c2xpbmtzL1N5bmNocm9ub3VzTGluay50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvYXBwL3V0aWwvc3RyVG9JZGVudGlmaWVyLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9jb25maWcvZW5kcG9pbnRzLnRzIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvLi9zcmMvdmVyc2lvbi50cyIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvZXh0ZXJuYWwgXCJheGlvc1wiIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay9leHRlcm5hbCBcImdyYXBocWwtcmVxdWVzdFwiIiwid2VicGFjazovL0BjaGVhcHJlYXRzL3RzLXNkay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AY2hlYXByZWF0cy90cy1zZGsvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImNvbmZpZyIsImVuZHBvaW50cyIsInRoaXMiLCJfdG9rZW4iLCJfYWRhcHRvciIsIkNoZWFwckVhdHNHcmFwaFFMQWRhcHRvciIsImdyYXBoUUxFbmRwb2ludCIsImdldENvbmZpZ3VyYXRpb24iLCJwcm9kdWN0aW9uIiwiX2F1dGhvcml6YXRpb25Db250cm9sbGVyIiwiQXV0aG9yaXphdGlvbkNvbnRyb2xsZXIiLCJfY2FydENvbnRyb2xsZXIiLCJDYXJ0Q29udHJvbGxlciIsIl9jYXRlZ29yeUNvbnRyb2xsZXIiLCJDYXRlZ29yeUNvbnRyb2xsZXIiLCJfY3VzdG9tZXJDb250cm9sbGVyIiwiQ3VzdG9tZXJDb250cm9sbGVyIiwiX2N1c3RvbWVyVG9rZW5Db250cm9sbGVyIiwiQ3VzdG9tZXJUb2tlbkNvbnRyb2xsZXIiLCJfY291cG9uQ29udHJvbGxlciIsIkNvdXBvbkNvbnRyb2xsZXIiLCJfZW1wbG95ZWVDb250cm9sbGVyIiwiRW1wbG95ZWVDb250cm9sbGVyIiwiX2VtcGxveWVlVG9rZW5Db250cm9sbGVyIiwiRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIiLCJfZ3JhcGhDb250cm9sbGVyIiwiR3JhcGhDb250cm9sbGVyIiwiX2hlYWRPZmZpY2VDb250cm9sbGVyIiwiSGVhZE9mZmljZUNvbnRyb2xsZXIiLCJfbWVudUl0ZW1Db250cm9sbGVyIiwiTWVudUl0ZW1Db250cm9sbGVyIiwiX21vZGlmaWVyQ29udHJvbGxlciIsIk1vZGlmaWVyQ29udHJvbGxlciIsIl92ZW5kb3JDb250cm9sbGVyIiwiVmVuZG9yQ29udHJvbGxlciIsIl92ZXJpZmljYXRpb25Db250cm9sbGVyIiwiVmVyaWZpY2F0aW9uQ29udHJvbGxlciIsIl92YWxpZGF0aW9uQ29udHJvbGxlciIsIlZhbGlkYXRpb25Db250cm9sbGVyIiwiX3N1cnZleUNvbnRyb2xsZXIiLCJTdXJ2ZXlDb250cm9sbGVyIiwiX29yZGVyQ29udHJvbGxlciIsIk9yZGVyQ29udHJvbGxlciIsIl9pbWFnZUNvbnRyb2xsZXIiLCJJbWFnZUNvbnRyb2xsZXIiLCJfcGF5b3V0Q29udHJvbGxlciIsIlBheW91dENvbnRyb2xsZXIiLCJfZXhwbG9yZVBhZ2VDb250cm9sbGVyIiwiRXhwbG9yZVBhZ2VDb250cm9sbGVyIiwiX2ZsYXNoU2FsZUNvbnRyb2xsZXIiLCJGbGFzaFNhbGVDb250cm9sbGVyIiwiX3RpcENvbnRyb2xsZXIiLCJUaXBDb250cm9sbGVyIiwiX2xveWFsdHlQcm9ncmFtQ29udHJvbGxlciIsIkxveWFsdHlQcm9ncmFtQ29udHJvbGxlciIsIl9sb3lhbHR5Q2FyZENvbnRyb2xsZXIiLCJMb3lhbHR5Q2FyZENvbnRyb2xsZXIiLCJfcmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyIiwiUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyIiwiX3JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyIiwiUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXIiLCJnZXRUb2tlblNjb3BlIiwidXBkYXRlTm90ZSIsInJlbW92ZUNvdXBvbiIsImFwcGx5Q291cG9uIiwiZGVsZXRlIiwicmVtb3ZlSXRlbSIsImFkZEl0ZW0iLCJjcmVhdGUiLCJ1cGRhdGUiLCJiYXRjaFVwZGF0ZSIsImVucm9sbEFwbnNUb2tlbiIsInJldm9rZUFwbnNUb2tlbiIsImVucm9sbEZjbVRva2VuIiwicmV2b2tlRmNtVG9rZW4iLCJ1cGRhdGVDcmVkaXRDYXJkIiwiY3JlYXRlV2FsbGV0IiwicmVsb2FkV2FsbGV0IiwicmVzZXRQYXNzd29yZCIsInNlbmRQYXNzd29yZFJlc2V0Q29kZSIsInJlZnVuZFdhbGxldCIsImNyZWF0ZVdhbGxldFRyYW5zYWN0aW9uIiwiYWRkRmF2b3VyaXRlVmVuZG9yIiwicmVtb3ZlRmF2b3VyaXRlVmVuZG9yIiwiYWRkRmF2b3VyaXRlSXRlbSIsInJlbW92ZUZhdm91cml0ZUl0ZW0iLCJlbnJvbGxUZXJtaW5hbEZjbSIsInJldm9rZVRlcm1pbmFsRmNtIiwicmVzZXRFbXBsb3llZVBhc3N3b3JkIiwicXVlcnkiLCJjYW5jZWwiLCJiZWdpblByZXBhcmluZyIsInByZXBhcmVkIiwiY29tcGxldGUiLCJzdGFydFZlcmlmaWNhdGlvblNlc3Npb24iLCJjaGVja1ZlcmlmaWNhdGlvblNlc3Npb24iLCJjcmVhdGVXaXRoRW1wbG95ZWUiLCJ1cGRhdGVBbGxNZW51SXRlbXNTdGF0dXMiLCJkZWxldGVWZW5kb3JUZXN0ZXIiLCJhZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyIsInVwZGF0ZVZlbmRvckFwcHJvdmFsU3RhdHVzIiwicmVxdWVzdFZlbmRvckFwcHJvdmFsIiwiQ3VzdG9tZXIiLCJzaWdudXBFbWFpbCIsImN1c3RvbWVyU2lnbnVwRW1haWwiLCJzaWdudXBQaG9uZSIsImN1c3RvbWVyU2lnbnVwUGhvbmUiLCJhcmNoaXZlIiwicmVsZWFzZSIsImNyZWF0ZVN1cnZleVJlc3BvbnNlIiwidXBsb2FkIiwiZ2V0TGluayIsInJlcXVlc3QiLCJyZXBsYWNlIiwiY3JlYXRlTG95YWx0eUNhcmRBbmRFbnJvbGwiLCJhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQiLCJhd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQiLCJzaGFyZUxveWFsdHlQb2ludHMiLCJyZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uIiwiZmV0Y2giLCJkZWxldGVSYXdDb25maWd1cmF0aW9uIiwidXBkYXRlUmF3Q29uZmlndXJhdGlvbiIsImNyZWF0ZVJhd0NvbmZpZ3VyYXRpb24iLCJzdHJUb0lkZW50aWZpZXIiLCJ0b2tlbiIsInNldEF1dGhlbnRpY2F0aW9uVG9rZW4iLCJxdWVyeVN0cmluZyIsInZlcnNpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkdyYXBoIiwidGhlbiIsImRhdGEiLCJpc19zZGtfdmVyc2lvbl9zdXBwb3J0ZWQiLCJjYXRjaCIsImUiLCJlbmRwb2ludCIsInNldEdyYXBoUUxFbmRwb2ludCIsInZlcmlmaWNhdGlvbkVuZHBvaW50IiwidmFsaWRhdGlvbkVuZHBvaW50IiwiaW1hZ2VFbmRwb2ludCIsImRpc3RyaWJ1dGlvbiIsIl9jb25maWciLCJFcnJvciIsIkFkYXB0b3IiLCJzdXBlciIsIl9ncmFwaFFMTGluayIsIkdyYXBoUUxMaW5rIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ1cmwiLCJ2YXJpYWJsZXMiLCJtdXRhdGUiLCJhcHAiLCJiaW5kIiwiZ2V0QWRhcHRvciIsImF1dGhfdG9rZW5fc2NvcGUiLCJjYXJ0SWQiLCJub3RlIiwicmVzdWx0IiwidXBkYXRlTm90ZUZvckNhcnQiLCJjYXJ0Q291cG9uSWQiLCJyZW1vdmVDb3Vwb25Gcm9tQ2FydCIsImNvdXBvbkNvZGUiLCJhcHBseUNvdXBvblRvQ2FydCIsImRlbGV0ZUNhcnQiLCJjYXJ0SXRlbUlkIiwicmVtb3ZlSXRlbUZyb21DYXJ0IiwiaXRlbSIsImFkZEl0ZW1DYXJ0IiwiY3VzdG9tZXJJZCIsInZlbmRvcklkIiwiY3JlYXRlQ2FydCIsImNhdGVnb3J5IiwiY3JlYXRlQ2F0ZWdvcnkiLCJfaWQiLCJpZCIsImRlbGV0ZUNhdGVnb3J5IiwidXBkYXRlQ2F0ZWdvcnkiLCJjYXRlZ29yaWVzIiwiYmF0Y2hVcGRhdGVDYXRlZ29yaWVzIiwiY291cG9uIiwiY3JlYXRlQ291cG9uIiwiY3VzdG9tZXIiLCJjcmVhdGVDdXN0b21lciIsInVwZGF0ZUN1c3RvbWVyIiwiZW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW4iLCJyZXZva2VDdXN0b21lckFwbnNUb2tlbiIsImVucm9sbEN1c3RvbWVyRmNtVG9rZW4iLCJyZXZva2VDdXN0b21lckZjbVRva2VuIiwidXBkYXRlQ3VzdG9tZXJDcmVkaXRDYXJkIiwiY3JlYXRlQ3VzdG9tZXJXYWxsZXQiLCJhbW91bnQiLCJwYXltZW50X21ldGhvZCIsInJlbG9hZEN1c3RvbWVyV2FsbGV0IiwiZW1haWxfYWRkcmVzcyIsIm1ldGhvZCIsIlJlc2V0Q29kZVNlbmRNZXRob2QiLCJFTUFJTCIsInNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlIiwiY29kZSIsInBhc3N3b3JkIiwicmVzZXRDdXN0b21lclBhc3N3b3JkIiwidmVuZG9yX2lkIiwib3JkZXJfaWQiLCJyZWZ1bmRDdXN0b21lcldhbGxldCIsInRyYW5zYWN0aW9uX3R5cGUiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZUN1c3RvbWVyV2FsbGV0VHJhbnNhY3Rpb24iLCJhZGRGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lciIsInJlbW92ZUZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyIiwiaXRlbV9pZCIsImFkZEZhdm91cml0ZUl0ZW1Gb3JDdXN0b21lciIsInJlbW92ZUZhdm91cml0ZUl0ZW1Gb3JDdXN0b21lciIsImNyZWF0ZUN1c3RvbWVyVG9rZW4iLCJlbXBsb3llZSIsImNyZWF0ZUVtcGxveWVlIiwidXBkYXRlRW1wbG95ZWUiLCJkZWxldGVFbXBsb3llZSIsImVucm9sbEVtcGxveWVlVGVybWluYWxGY21Ub2tlbiIsInJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbiIsInNlbmRFbXBsb3llZVBhc3N3b3JkUmVzZXRDb2RlIiwidXNlcm5hbWUiLCJjcmVhdGVFbXBsb3llZVRva2VuIiwiYm9keSIsImFkdmVydGlzZW1lbnRzIiwiZGFpbHlfZGVhbHMiLCJzcGVjaWFsX2RlYWxzIiwidGltZWx5X2RlYWxzIiwicmVwbGFjZUV4cGxvcmVQYWdlIiwidXBkYXRlZF9hdCIsIkZsYXNoU2FsZVR5cGUiLCJ0eXBlIiwiaXRlbXMiLCJzdGFydF9hdCIsImVuZF9hdCIsImNyZWF0ZUZsYXNoU2FsZSIsInVwZGF0ZUZsYXNoU2FsZSIsIlVzZXJUeXBlcyIsImlkZW50aWZpZXIiLCJjcmVhdGVIZWFkT2ZmaWNlIiwidXBkYXRlSGVhZE9mZmljZSIsImRlbGV0ZUhlYWRPZmZpY2UiLCJhcHBlbmQiLCJIdHRwTGluayIsImltYWdlIiwibGluayIsImdldEh0dHBMaW5rIiwicG9zdCIsInNpemUiLCJMb3lhbHR5VHJhbnNhY3Rpb25UeXBlIiwibG95YWx0eV9jYXJkIiwic2VuZGVyX2N1c3RvbWVyX2lkIiwicmVjZWl2ZXJfcGhvbmVfbnVtYmVyIiwibG95YWx0eV9wcm9ncmFtX2lkIiwibm9fb2ZfcG9pbnRzX3RvX3NoYXJlIiwibG95YWx0eV9jYXJkX2lkIiwibWVudV9pdGVtX2lkIiwiTG95YWx0eVByb2dyYW1UeXBlIiwibG95YWx0eV9wcm9ncmFtIiwiY3JlYXRlTG95YWx0eVByb2dyYW0iLCJ1cGRhdGVMb3lhbHR5UHJvZ3JhbSIsImRlbGV0ZUxveWFsdHlQcm9ncmFtIiwibWVudV9pdGVtIiwiY3JlYXRlTWVudUl0ZW0iLCJ1cGRhdGVNZW51SXRlbSIsIm1lbnVfaXRlbXMiLCJiYXRjaFVwZGF0ZU1lbnVJdGVtcyIsIm1vZGlmaWVyIiwiY3JlYXRlTW9kaWZpZXIiLCJ1cGRhdGVNb2RpZmllciIsIk9yZGVyVHlwZSIsIk9yZGVyQ2FuY2VsbGF0aW9uUmVhc29uIiwib3JkZXIiLCJkcnkiLCJjbGVhcl9jYXJ0IiwiY3JlYXRlT3JkZXIiLCJyZWFzb24iLCJlc3RpbWF0ZWRfcHJlcGFyaW5nX3NlYyIsIlBheW91dE1ldGhvZCIsIlBheW91dFN0YXR1cyIsIlNlcnZpY2VDaGFyZ2VUeXBlIiwiU2VydmljZUNoYXJnZVJlYXNvbiIsInJlcXVlc3RQYXlvdXQiLCJwYXlvdXQiLCJ1cGRhdGVQYXlvdXQiLCJjYW5jZWxQYXlvdXQiLCJyZWRlZW1hYmxlX2l0ZW0iLCJjcmVhdGVSZWRlZW1hYmxlSXRlbSIsInVwZGF0ZVJlZGVlbWFibGVJdGVtIiwiZGVsZXRlUmVkZWVtYWJsZUl0ZW0iLCJuYW1lIiwiSlNPTiIsInBhcnNlIiwibWVyZ2VkX2NvbmZpZ3VyYXRpb24iLCJyYXdDb25maWd1cmF0aW9uIiwiU3VydmV5UXVlc3Rpb25UeXBlIiwiU3VydmV5RGVsaXZlcnlSdWxlIiwic3VydmV5IiwiY3JlYXRlU3VydmV5IiwidXBkYXRlU3VydmV5IiwiYXJjaGl2ZVN1cnZleSIsImRlbGV0ZVN1cnZleSIsInJlbGVhc2VTdXJ2ZXkiLCJzdXJ2ZXlfaWQiLCJzdXJ2ZXlfcmVzcG9uc2UiLCJjcmVhdGVUaXAiLCJlbWFpbCIsInBob25lIiwiVmVuZG9yQXBwcm92YWxTdGF0dXMiLCJQYXlvdXRBdXRvUmVxdWVzdFNjaGVkdWxlIiwiVmVuZG9yQW5hbHl0aWNzQ3VzdG9tZXJUeXBlIiwiYXBwcm92YWxfc3RhdHVzIiwidmVuZG9yIiwiY29uc29sZSIsIndhcm4iLCJjcmVhdGVWZW5kb3IiLCJjcmVhdGVWZW5kb3JXaXRoRW1wbG95ZWUiLCJ1cGRhdGVWZW5kb3IiLCJzdGF0dXMiLCJ1cGRhdGVBbGxNZW51SXRlbXNTdGF0dXNGb3JWZW5kb3IiLCJwaG9uZV9udW1iZXIiLCJ1dWlkIiwidmVyaWZpY2F0aW9uX2NvZGUiLCJfdXJsIiwiU3luY2hyb25vdXNMaW5rIiwiX2hlYWRlcnMiLCJfY29uc3RydWN0Q2xpZW50IiwiX2NsaWVudCIsIkdyYXBoUUxDbGllbnQiLCJydW4iLCJPYmplY3QiLCJhc3NpZ24iLCJMaW5rIiwiX3R5cGUiLCJzdHIiLCJpIiwibGVuZ3RoIiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiQXBwIiwid2luZG93IiwiQ0UiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXhpb3MiLCJncmFwaHFsIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiXSwibWFwcGluZ3MiOiJtTEFBQSxjQUNBLFFBQ0EsWUFHQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsUUFDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0Es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RSxHQUFVTCxRQUczQyxJQUFJRCxFQUFTSSxFQUF5QkUsR0FBWSxDQUdqREwsUUFBUyxJQU9WLE9BSEFNLEVBQW9CRCxHQUFVRSxLQUFLUixFQUFPQyxRQUFTRCxFQUFRQSxFQUFPQyxRQUFTSSxHQUdwRUwsRUFBT0MsUUNsQmZJLENBQW9CLE0iLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyVG9JZGVudGlmaWVyIH0gZnJvbSBcIi4vdXRpbC9zdHJUb0lkZW50aWZpZXJcIjtcbmltcG9ydCB7IENoZWFwckVhdHNHcmFwaFFMQWRhcHRvciB9IGZyb20gXCIuL2FkYXB0b3JzL0NoZWFwckVhdHNHcmFwaFFMQWRhcHRvclwiO1xuaW1wb3J0IHBhY2thZ2VEb3RKc29uIGZyb20gXCIuLi92ZXJzaW9uXCI7XG5cbi8vIEFERCBDT05UUk9MTEVSIElNUE9SVFMgQkVMT1dcbmltcG9ydCB7IEF1dGhvcml6YXRpb25Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvQXV0aG9yaXphdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENhcnRDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvQ2FydENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENhdGVnb3J5Q29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0NhdGVnb3J5Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ3VzdG9tZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lclRva2VuQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0N1c3RvbWVyVG9rZW5Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBDb3Vwb25Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRW1wbG95ZWVDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvRW1wbG95ZWVDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBFbXBsb3llZVRva2VuQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0VtcGxveWVlVG9rZW5Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBHcmFwaENvbnRyb2xsZXIsIFF1ZXJ5UmVzdWx0IH0gZnJvbSBcIi4vY29udHJvbGxlcnMvR3JhcGhDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBIZWFkT2ZmaWNlQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0hlYWRPZmZpY2VDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1vZGlmaWVyQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL01vZGlmaWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9WZXJpZmljYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBWYWxpZGF0aW9uQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL1ZhbGlkYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTdXJ2ZXlDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvU3VydmV5Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgT3JkZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvT3JkZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBJbWFnZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9JbWFnZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFBheW91dENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9QYXlvdXRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBFeHBsb3JlUGFnZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9FeHBsb3JlUGFnZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEZsYXNoU2FsZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9GbGFzaFNhbGVDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBUaXBDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvVGlwQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTG95YWx0eVByb2dyYW1Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvTG95YWx0eVByb2dyYW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBMb3lhbHR5Q2FyZENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9Mb3lhbHR5Q2FyZENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFJlZGVlbWFibGVJdGVtQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL1JlZGVlbWFibGVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9SZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlclwiO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tIFwiLi4vY29uZmlnL2VuZHBvaW50c1wiO1xuXG5sZXQgY29uZmlnID0ge1xuICBlbmRwb2ludHM6IGVuZHBvaW50c1xufTtcblxuLyoqXG4gKiBNYWluIGVudHJ5IHBvaW50IG9mIHRoZSBTREtcbiAqL1xuZXhwb3J0IGNsYXNzIEFwcCB7XG4gIF90b2tlbjogc3RyaW5nIHwgbnVsbDtcbiAgX2FkYXB0b3I6IENoZWFwckVhdHNHcmFwaFFMQWRhcHRvcjtcbiAgX2F1dGhvcml6YXRpb25Db250cm9sbGVyOiBBdXRob3JpemF0aW9uQ29udHJvbGxlcjtcbiAgX2NhcnRDb250cm9sbGVyOiBDYXJ0Q29udHJvbGxlcjtcbiAgX2NhdGVnb3J5Q29udHJvbGxlcjogQ2F0ZWdvcnlDb250cm9sbGVyO1xuICBfY3VzdG9tZXJDb250cm9sbGVyOiBDdXN0b21lckNvbnRyb2xsZXI7XG4gIF9jdXN0b21lclRva2VuQ29udHJvbGxlcjogQ3VzdG9tZXJUb2tlbkNvbnRyb2xsZXI7XG4gIF9jb3Vwb25Db250cm9sbGVyOiBDb3Vwb25Db250cm9sbGVyO1xuICBfZW1wbG95ZWVDb250cm9sbGVyOiBFbXBsb3llZUNvbnRyb2xsZXI7XG4gIF9lbXBsb3llZVRva2VuQ29udHJvbGxlcjogRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXI7XG4gIF9ncmFwaENvbnRyb2xsZXI6IEdyYXBoQ29udHJvbGxlcjtcbiAgX2hlYWRPZmZpY2VDb250cm9sbGVyOiBIZWFkT2ZmaWNlQ29udHJvbGxlcjtcbiAgX21lbnVJdGVtQ29udHJvbGxlcjogTWVudUl0ZW1Db250cm9sbGVyO1xuICBfbW9kaWZpZXJDb250cm9sbGVyOiBNb2RpZmllckNvbnRyb2xsZXI7XG4gIF92ZW5kb3JDb250cm9sbGVyOiBWZW5kb3JDb250cm9sbGVyO1xuICBfdmVyaWZpY2F0aW9uQ29udHJvbGxlcjogVmVyaWZpY2F0aW9uQ29udHJvbGxlcjtcbiAgX3ZhbGlkYXRpb25Db250cm9sbGVyOiBWYWxpZGF0aW9uQ29udHJvbGxlcjtcbiAgX3N1cnZleUNvbnRyb2xsZXI6IFN1cnZleUNvbnRyb2xsZXI7XG4gIF9vcmRlckNvbnRyb2xsZXI6IE9yZGVyQ29udHJvbGxlcjtcbiAgX2ltYWdlQ29udHJvbGxlcjogSW1hZ2VDb250cm9sbGVyO1xuICBfcGF5b3V0Q29udHJvbGxlcjogUGF5b3V0Q29udHJvbGxlcjtcbiAgX2V4cGxvcmVQYWdlQ29udHJvbGxlcjogRXhwbG9yZVBhZ2VDb250cm9sbGVyO1xuICBfZmxhc2hTYWxlQ29udHJvbGxlcjogRmxhc2hTYWxlQ29udHJvbGxlcjtcbiAgX3RpcENvbnRyb2xsZXI6IFRpcENvbnRyb2xsZXI7XG4gIF9sb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXI6IExveWFsdHlQcm9ncmFtQ29udHJvbGxlcjtcbiAgX2xveWFsdHlDYXJkQ29udHJvbGxlcjogTG95YWx0eUNhcmRDb250cm9sbGVyO1xuICBfcmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyOiBSZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXI7XG4gIF9yZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlcjogUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXI7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgdGhlIEFwcCBpbnN0YW5jZS5cbiAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdG9rZW4gPSBudWxsO1xuXG4gICAgdGhpcy5fYWRhcHRvciA9IG5ldyBDaGVhcHJFYXRzR3JhcGhRTEFkYXB0b3Ioe1xuICAgICAgZ3JhcGhRTEVuZHBvaW50OiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5lbmRwb2ludHMuZ3JhcGhRTEVuZHBvaW50XG4gICAgICAgIC5wcm9kdWN0aW9uXG4gICAgfSk7XG4gICAgLy8gQUREIENPTlRST0xMRVJTIEJFTE9XXG4gICAgdGhpcy5fYXV0aG9yaXphdGlvbkNvbnRyb2xsZXIgPSBuZXcgQXV0aG9yaXphdGlvbkNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fY2FydENvbnRyb2xsZXIgPSBuZXcgQ2FydENvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fY2F0ZWdvcnlDb250cm9sbGVyID0gbmV3IENhdGVnb3J5Q29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIgPSBuZXcgQ3VzdG9tZXJDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2N1c3RvbWVyVG9rZW5Db250cm9sbGVyID0gbmV3IEN1c3RvbWVyVG9rZW5Db250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2NvdXBvbkNvbnRyb2xsZXIgPSBuZXcgQ291cG9uQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9lbXBsb3llZUNvbnRyb2xsZXIgPSBuZXcgRW1wbG95ZWVDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2VtcGxveWVlVG9rZW5Db250cm9sbGVyID0gbmV3IEVtcGxveWVlVG9rZW5Db250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2dyYXBoQ29udHJvbGxlciA9IG5ldyBHcmFwaENvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5faGVhZE9mZmljZUNvbnRyb2xsZXIgPSBuZXcgSGVhZE9mZmljZUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fbWVudUl0ZW1Db250cm9sbGVyID0gbmV3IE1lbnVJdGVtQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9tb2RpZmllckNvbnRyb2xsZXIgPSBuZXcgTW9kaWZpZXJDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX3ZlbmRvckNvbnRyb2xsZXIgPSBuZXcgVmVuZG9yQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl92ZXJpZmljYXRpb25Db250cm9sbGVyID0gbmV3IFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fdmFsaWRhdGlvbkNvbnRyb2xsZXIgPSBuZXcgVmFsaWRhdGlvbkNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fc3VydmV5Q29udHJvbGxlciA9IG5ldyBTdXJ2ZXlDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX29yZGVyQ29udHJvbGxlciA9IG5ldyBPcmRlckNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5faW1hZ2VDb250cm9sbGVyID0gbmV3IEltYWdlQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9wYXlvdXRDb250cm9sbGVyID0gbmV3IFBheW91dENvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fZXhwbG9yZVBhZ2VDb250cm9sbGVyID0gbmV3IEV4cGxvcmVQYWdlQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9mbGFzaFNhbGVDb250cm9sbGVyID0gbmV3IEZsYXNoU2FsZUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fdGlwQ29udHJvbGxlciA9IG5ldyBUaXBDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2xveWFsdHlQcm9ncmFtQ29udHJvbGxlciA9IG5ldyBMb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fbG95YWx0eUNhcmRDb250cm9sbGVyID0gbmV3IExveWFsdHlDYXJkQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9yZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIgPSBuZXcgUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX3JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyID0gbmV3IFJlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyKFxuICAgICAgdGhpc1xuICAgICk7XG4gIH1cblxuICAvLyBBREQgR0VUVEVSUyBCRUxPV1xuXG4gIGdldCBBdXRob3JpemF0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBnZXRUb2tlblNjb3BlOiB0aGlzLl9hdXRob3JpemF0aW9uQ29udHJvbGxlci5nZXRUb2tlblNjb3BlXG4gICAgfTtcbiAgfVxuXG4gIGdldCBDYXJ0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGVOb3RlOiB0aGlzLl9jYXJ0Q29udHJvbGxlci51cGRhdGVOb3RlLFxuICAgICAgcmVtb3ZlQ291cG9uOiB0aGlzLl9jYXJ0Q29udHJvbGxlci5yZW1vdmVDb3Vwb24sXG4gICAgICBhcHBseUNvdXBvbjogdGhpcy5fY2FydENvbnRyb2xsZXIuYXBwbHlDb3Vwb24sXG4gICAgICBkZWxldGU6IHRoaXMuX2NhcnRDb250cm9sbGVyLmRlbGV0ZSxcbiAgICAgIHJlbW92ZUl0ZW06IHRoaXMuX2NhcnRDb250cm9sbGVyLnJlbW92ZUl0ZW0sXG4gICAgICBhZGRJdGVtOiB0aGlzLl9jYXJ0Q29udHJvbGxlci5hZGRJdGVtLFxuICAgICAgY3JlYXRlOiB0aGlzLl9jYXJ0Q29udHJvbGxlci5jcmVhdGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjYXRlZ29yeSByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBDYXRlZ29yeUNvbnRyb2xsZXIuY3JlYXRlLCBkZWxldGU6IENhdGVnb3J5Q29udHJvbGxlci5kZWxldGUsIHVwZGF0ZTogQ2F0ZWdvcnlDb250cm9sbGVyLnVwZGF0ZSwgYmF0Y2hVcGRhdGU6IENhdGVnb3J5Q29udHJvbGxlci5iYXRjaFVwZGF0ZX19XG4gICAqL1xuICBnZXQgQ2F0ZWdvcnkoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fY2F0ZWdvcnlDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fY2F0ZWdvcnlDb250cm9sbGVyLmRlbGV0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fY2F0ZWdvcnlDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGJhdGNoVXBkYXRlOiB0aGlzLl9jYXRlZ29yeUNvbnRyb2xsZXIuYmF0Y2hVcGRhdGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXN0b21lciByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBDdXN0b21lckNvbnRyb2xsZXIuY3JlYXRlLCBlbnJvbGxBcG5zVG9rZW46IEN1c3RvbWVyQ29udHJvbGxlci5lbnJvbGxBcG5zVG9rZW4sIHJldm9rZUFwbnNUb2tlbjogQ3VzdG9tZXJDb250cm9sbGVyLnJldm9rZUFwbnNUb2tlbiwgZW5yb2xsRmNtVG9rZW46IEN1c3RvbWVyQ29udHJvbGxlci5lbnJvbGxGY21Ub2tlbiwgcmV2b2tlRmNtVG9rZW46IEN1c3RvbWVyQ29udHJvbGxlci5yZXZva2VGY21Ub2tlbiwgdXBkYXRlOiBDdXN0b21lckNvbnRyb2xsZXIudXBkYXRlLCB1cGRhdGVDcmVkaXRDYXJkOiBDdXN0b21lckNvbnRyb2xsZXIudXBkYXRlQ3JlZGl0Q2FyZCwgY3JlYXRlV2FsbGV0OiBDdXN0b21lckNvbnRyb2xsZXIuY3JlYXRlV2FsbGV0LCByZWxvYWRXYWxsZXQ6IEN1c3RvbWVyQ29udHJvbGxlci5yZWxvYWRXYWxsZXQsIHJlc2V0UGFzc3dvcmQ6IEN1c3RvbWVyQ29udHJvbGxlci5yZXNldFBhc3N3b3JkLCBzZW5kUGFzc3dvcmRSZXNldENvZGU6IEN1c3RvbWVyQ29udHJvbGxlci5zZW5kUGFzc3dvcmRSZXNldENvZGUsIHJlZnVuZFdhbGxldDogQ3VzdG9tZXJDb250cm9sbGVyLnJlZnVuZFdhbGxldCwgY3JlYXRlV2FsbGV0VHJhbnNhY3Rpb246Q3VzdG9tZXJDb250cm9sbGVyLmNyZWF0ZVdhbGxldFRyYW5zYWN0aW9uLCBhZGRGYXZvdXJpdGVWZW5kb3I6Q3VzdG9tZXJDb250cm9sbGVyLmFkZEZhdm91cml0ZVZlbmRvciwgcmVtb3ZlRmF2b3VyaXRlVmVuZG9yOkN1c3RvbWVyQ29udHJvbGxlci5yZW1vdmVGYXZvdXJpdGVWZW5kb3IsIGFkZEZhdm91cml0ZUl0ZW06Q3VzdG9tZXJDb250cm9sbGVyLmFkZEZhdm91cml0ZUl0ZW0sIHJlbW92ZUZhdm91cml0ZUl0ZW06Q3VzdG9tZXJDb250cm9sbGVyLnJlbW92ZUZhdm91cml0ZUl0ZW19fVxuICAgKi9cbiAgZ2V0IEN1c3RvbWVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICBlbnJvbGxBcG5zVG9rZW46IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5lbnJvbGxBcG5zVG9rZW4sXG4gICAgICByZXZva2VBcG5zVG9rZW46IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5yZXZva2VBcG5zVG9rZW4sXG4gICAgICBlbnJvbGxGY21Ub2tlbjogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLmVucm9sbEZjbVRva2VuLFxuICAgICAgcmV2b2tlRmNtVG9rZW46IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5yZXZva2VGY21Ub2tlbixcbiAgICAgIHVwZGF0ZTogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIHVwZGF0ZUNyZWRpdENhcmQ6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci51cGRhdGVDcmVkaXRDYXJkLFxuICAgICAgY3JlYXRlV2FsbGV0OiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIuY3JlYXRlV2FsbGV0LFxuICAgICAgcmVsb2FkV2FsbGV0OiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIucmVsb2FkV2FsbGV0LFxuICAgICAgcmVzZXRQYXNzd29yZDogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnJlc2V0UGFzc3dvcmQsXG4gICAgICBzZW5kUGFzc3dvcmRSZXNldENvZGU6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5zZW5kUGFzc3dvcmRSZXNldENvZGUsXG4gICAgICByZWZ1bmRXYWxsZXQ6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5yZWZ1bmRXYWxsZXQsXG4gICAgICBjcmVhdGVXYWxsZXRUcmFuc2FjdGlvbjogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLmNyZWF0ZVdhbGxldFRyYW5zYWN0aW9uLFxuICAgICAgYWRkRmF2b3VyaXRlVmVuZG9yOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIuYWRkRmF2b3VyaXRlVmVuZG9yLFxuICAgICAgcmVtb3ZlRmF2b3VyaXRlVmVuZG9yOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIucmVtb3ZlRmF2b3VyaXRlVmVuZG9yLFxuICAgICAgYWRkRmF2b3VyaXRlSXRlbTogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLmFkZEZhdm91cml0ZUl0ZW0sXG4gICAgICByZW1vdmVGYXZvdXJpdGVJdGVtOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIucmVtb3ZlRmF2b3VyaXRlSXRlbVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1c3RvbWVyIHRva2VuIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IEN1c3RvbWVyVG9rZW5Db250cm9sbGVyLmNyZWF0ZX19XG4gICAqL1xuICBnZXQgQ3VzdG9tZXJUb2tlbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl9jdXN0b21lclRva2VuQ29udHJvbGxlci5jcmVhdGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb3Vwb24gcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogQ291cG9uQ29udHJvbGxlci5jcmVhdGV9fVxuICAgKi9cbiAgZ2V0IENvdXBvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl9jb3Vwb25Db250cm9sbGVyLmNyZWF0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGVtcGxveWVlIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IEVtcGxveWVlQ29udHJvbGxlci5jcmVhdGUsIHVwZGF0ZTogRW1wbG95ZWVDb250cm9sbGVyLnVwZGF0ZSwgZGVsZXRlOiBFbXBsb3llZUNvbnRyb2xsZXIuZGVsZXRlLCBlbnJvbGxUZXJtaW5hbEZjbTogRW1wbG95ZWVDb250cm9sbGVyLmVucm9sbFRlcm1pbmFsRmNtLCByZXZva2VUZXJtaW5hbEZjbTogRW1wbG95ZWVDb250cm9sbGVyLnJldm9rZVRlcm1pbmFsRmNtLCBzZW5kUGFzc3dvcmRSZXNldENvZGU6IEVtcGxveWVlQ29udHJvbGxlci5zZW5kUGFzc3dvcmRSZXNldENvZGV9fVxuICAgKi9cbiAgZ2V0IEVtcGxveWVlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2VtcGxveWVlQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX2VtcGxveWVlQ29udHJvbGxlci51cGRhdGUsXG4gICAgICBkZWxldGU6IHRoaXMuX2VtcGxveWVlQ29udHJvbGxlci5kZWxldGUsXG4gICAgICBlbnJvbGxUZXJtaW5hbEZjbTogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLmVucm9sbFRlcm1pbmFsRmNtLFxuICAgICAgcmV2b2tlVGVybWluYWxGY206IHRoaXMuX2VtcGxveWVlQ29udHJvbGxlci5yZXZva2VUZXJtaW5hbEZjbSxcbiAgICAgIHJlc2V0RW1wbG95ZWVQYXNzd29yZDogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLnJlc2V0RW1wbG95ZWVQYXNzd29yZCxcbiAgICAgIHNlbmRQYXNzd29yZFJlc2V0Q29kZTogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLnNlbmRQYXNzd29yZFJlc2V0Q29kZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGVtcGxveWVlIHRva2VuIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IEVtcGxveWVlVG9rZW5Db250cm9sbGVyLmNyZWF0ZX19XG4gICAqL1xuICBnZXQgRW1wbG95ZWVUb2tlbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl9lbXBsb3llZVRva2VuQ29udHJvbGxlci5jcmVhdGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBncmFwaCByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7cXVlcnk6IEdyYXBoQ29udHJvbGxlci5xdWVyeX19XG4gICAqL1xuICBnZXQgR3JhcGgoKTogeyBxdWVyeTogR3JhcGhDb250cm9sbGVyW1wicXVlcnlcIl0gfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5OiB0aGlzLl9ncmFwaENvbnRyb2xsZXIucXVlcnlcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtZW51IGl0ZW0gcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogTWVudUl0ZW1Db250cm9sbGVyLmNyZWF0ZSwgdXBkYXRlOiBNZW51SXRlbUNvbnRyb2xsZXIudXBkYXRlLCBkZWxldGU6IE1lbnVJdGVtQ29udHJvbGxlci5kZWxldGV9fVxuICAgKi9cbiAgZ2V0IE1lbnVJdGVtKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX21lbnVJdGVtQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX21lbnVJdGVtQ29udHJvbGxlci51cGRhdGUsXG4gICAgICBiYXRjaFVwZGF0ZTogdGhpcy5fbWVudUl0ZW1Db250cm9sbGVyLmJhdGNoVXBkYXRlLFxuICAgICAgZGVsZXRlOiB0aGlzLl9tZW51SXRlbUNvbnRyb2xsZXIuZGVsZXRlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbW9kaWZpZXIgcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogTW9kaWZpZXJDb250cm9sbGVyLmNyZWF0ZSwgdXBkYXRlOiBNb2RpZmllckNvbnRyb2xsZXIudXBkYXRlLCBkZWxldGU6IE1vZGlmaWVyQ29udHJvbGxlci5kZWxldGV9fVxuICAgKi9cbiAgZ2V0IE1vZGlmaWVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX21vZGlmaWVyQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX21vZGlmaWVyQ29udHJvbGxlci51cGRhdGUsXG4gICAgICBkZWxldGU6IHRoaXMuX21vZGlmaWVyQ29udHJvbGxlci5kZWxldGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvcmRlciByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBPcmRlckNvbnRyb2xsZXIuY3JlYXRlLCBjYW5jZWw6IE9yZGVyQ29udHJvbGxlci5jYW5jZWwsIGJlZ2luUHJlcGFyaW5nOiBPcmRlckNvbnRyb2xsZXIuYmVnaW5QcmVwYXJpbmcsIHByZXBhcmVkOiBPcmRlckNvbnRyb2xsZXIucHJlcGFyZWQsIGNvbXBsZXRlOiBPcmRlckNvbnRyb2xsZXIuY29tcGxldGV9fVxuICAgKi9cbiAgZ2V0IE9yZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX29yZGVyQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICBjYW5jZWw6IHRoaXMuX29yZGVyQ29udHJvbGxlci5jYW5jZWwsXG4gICAgICBiZWdpblByZXBhcmluZzogdGhpcy5fb3JkZXJDb250cm9sbGVyLmJlZ2luUHJlcGFyaW5nLFxuICAgICAgcHJlcGFyZWQ6IHRoaXMuX29yZGVyQ29udHJvbGxlci5wcmVwYXJlZCxcbiAgICAgIGNvbXBsZXRlOiB0aGlzLl9vcmRlckNvbnRyb2xsZXIuY29tcGxldGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBoZWFkIG9mZmljZSByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBIZWFkT2ZmaWNlQ29udHJvbGxlci5jcmVhdGUsIHVwZGF0ZTogSGVhZE9mZmljZUNvbnRyb2xsZXIudXBkYXRlLCBkZWxldGU6IEhlYWRPZmZpY2VDb250cm9sbGVyLmRlbGV0ZX19XG4gICAqL1xuICBnZXQgSGVhZE9mZmljZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl9oZWFkT2ZmaWNlQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX2hlYWRPZmZpY2VDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5faGVhZE9mZmljZUNvbnRyb2xsZXIuZGVsZXRlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmVyaWZpY2F0aW9uIHNlcnZpY2VzIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7c3RhcnRWZXJpZmljYXRpb25TZXNzaW9uOiBWZXJpZmljYXRpb25Db250cm9sbGVyLnN0YXJ0VmVyaWZpY2F0aW9uU2Vzc2lvbiwgY2hlY2tWZXJpZmljYXRpb25TZXNzaW9uOiBWZXJpZmljYXRpb25Db250cm9sbGVyLmNoZWNrVmVyaWZpY2F0aW9uU2Vzc2lvbn19XG4gICAqL1xuICBnZXQgVmVyaWZpY2F0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydFZlcmlmaWNhdGlvblNlc3Npb246IHRoaXMuX3ZlcmlmaWNhdGlvbkNvbnRyb2xsZXJcbiAgICAgICAgLnN0YXJ0VmVyaWZpY2F0aW9uU2Vzc2lvbixcbiAgICAgIGNoZWNrVmVyaWZpY2F0aW9uU2Vzc2lvbjogdGhpcy5fdmVyaWZpY2F0aW9uQ29udHJvbGxlclxuICAgICAgICAuY2hlY2tWZXJpZmljYXRpb25TZXNzaW9uXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmVuZG9yIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IFZlbmRvckNvbnRyb2xsZXIuY3JlYXRlLCBjcmVhdGVXaXRoRW1wbG95ZWU6IFZlbmRvckNvbnRyb2xsZXIuY3JlYXRlV2l0aEVtcGxveWVlLCB1cGRhdGU6IFZlbmRvckNvbnRyb2xsZXIudXBkYXRlLCB1cGRhdGVBbGxNZW51SXRlbXNTdGF0dXM6IFZlbmRvckNvbnRyb2xsZXIudXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzLCBkZWxldGVWZW5kb3JUZXN0ZXI6IFZlbmRvckNvbnRyb2xsZXIuZGVsZXRlVmVuZG9yVGVzdGVyLCBhZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzczogVmVuZG9yQ29udHJvbGxlci5hZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcywgdXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXM6IFZlbmRvckNvbnRyb2xsZXIudXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMsIHJlcXVlc3RWZW5kb3JBcHByb3ZhbDogVmVuZG9yQ29udHJvbGxlci5yZXF1ZXN0VmVuZG9yQXBwcm92YWx9fVxuICAgKi9cbiAgZ2V0IFZlbmRvcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl92ZW5kb3JDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIGNyZWF0ZVdpdGhFbXBsb3llZTogdGhpcy5fdmVuZG9yQ29udHJvbGxlci5jcmVhdGVXaXRoRW1wbG95ZWUsXG4gICAgICB1cGRhdGU6IHRoaXMuX3ZlbmRvckNvbnRyb2xsZXIudXBkYXRlLFxuICAgICAgdXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzOiB0aGlzLl92ZW5kb3JDb250cm9sbGVyLnVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1cyxcbiAgICAgIGRlbGV0ZVZlbmRvclRlc3RlcjogdGhpcy5fdmVuZG9yQ29udHJvbGxlci5kZWxldGVWZW5kb3JUZXN0ZXIsXG4gICAgICBhZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzczogdGhpcy5fdmVuZG9yQ29udHJvbGxlclxuICAgICAgICAuYWRkVmVuZG9yVGVzdGVyQnlFbWFpbEFkZHJlc3MsXG4gICAgICB1cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1czogdGhpcy5fdmVuZG9yQ29udHJvbGxlclxuICAgICAgICAudXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMsXG4gICAgICByZXF1ZXN0VmVuZG9yQXBwcm92YWw6IHRoaXMuX3ZlbmRvckNvbnRyb2xsZXIucmVxdWVzdFZlbmRvckFwcHJvdmFsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmFsaWRhdGlvbiBzZXJ2aWNlcyBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e0N1c3RvbWVyOiB7c2lnbnVwRW1haWw6IFZhbGlkYXRpb25Db250cm9sbGVyLmN1c3RvbWVyU2lnbnVwRW1haWwsIHNpZ251cFBob25lOiBWYWxpZGF0aW9uQ29udHJvbGxlci5jdXN0b21lclNpZ251cFBob25lfX19XG4gICAqL1xuICBnZXQgVmFsaWRhdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQ3VzdG9tZXI6IHtcbiAgICAgICAgc2lnbnVwRW1haWw6IHRoaXMuX3ZhbGlkYXRpb25Db250cm9sbGVyLmN1c3RvbWVyU2lnbnVwRW1haWwsXG4gICAgICAgIHNpZ251cFBob25lOiB0aGlzLl92YWxpZGF0aW9uQ29udHJvbGxlci5jdXN0b21lclNpZ251cFBob25lXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3VydmV5IHJlbGF0ZWQgbWV0aG9kc1xuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogU3VydmV5Q29udHJvbGxlci5jcmVhdGUsIHVwZGF0ZTogU3VydmV5Q29udHJvbGxlci51cGRhdGUsIGFyY2hpdmU6IFN1cnZleUNvbnRyb2xsZXIuYXJjaGl2ZSwgZGVsZXRlOiBTdXJ2ZXlDb250cm9sbGVyLmRlbGV0ZSwgcmVsZWFzZTogU3VydmV5Q29udHJvbGxlci5yZWxlYXNlLCBjcmVhdGVTdXJ2ZXlSZXNwb25zZTogU3VydmV5Q29udHJvbGxlci5jcmVhdGVTdXJ2ZXlSZXNwb25zZX19XG4gICAqL1xuICBnZXQgU3VydmV5KCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX3N1cnZleUNvbnRyb2xsZXIuY3JlYXRlLFxuICAgICAgdXBkYXRlOiB0aGlzLl9zdXJ2ZXlDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGFyY2hpdmU6IHRoaXMuX3N1cnZleUNvbnRyb2xsZXIuYXJjaGl2ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fc3VydmV5Q29udHJvbGxlci5kZWxldGUsXG4gICAgICByZWxlYXNlOiB0aGlzLl9zdXJ2ZXlDb250cm9sbGVyLnJlbGVhc2UsXG4gICAgICBjcmVhdGVTdXJ2ZXlSZXNwb25zZTogdGhpcy5fc3VydmV5Q29udHJvbGxlci5jcmVhdGVTdXJ2ZXlSZXNwb25zZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGltYWdlIHNlcnZpY2VzIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7dXBsb2FkOiBJbWFnZUNvbnRyb2xsZXIudXBsb2FkLCBnZXRMaW5rOiBJbWFnZUNvbnRyb2xsZXIuZ2V0TGlua319XG4gICAqL1xuICBnZXQgSW1hZ2UoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwbG9hZDogdGhpcy5faW1hZ2VDb250cm9sbGVyLnVwbG9hZCxcbiAgICAgIGdldExpbms6IHRoaXMuX2ltYWdlQ29udHJvbGxlci5nZXRMaW5rXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcGF5b3V0IG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7cmVxdWVzdDogUGF5b3V0Q29udHJvbGxlci5yZXF1ZXN0LCB1cGRhdGU6IFBheW91dENvbnRyb2xsZXIudXBkYXRlLCBjYW5jZWw6IFBheW91dENvbnRyb2xsZXIuY2FuY2VsLCB9fVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGdldCBQYXlvdXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3Q6IHRoaXMuX3BheW91dENvbnRyb2xsZXIucmVxdWVzdCxcbiAgICAgIHVwZGF0ZTogdGhpcy5fcGF5b3V0Q29udHJvbGxlci51cGRhdGUsXG4gICAgICBjYW5jZWw6IHRoaXMuX3BheW91dENvbnRyb2xsZXIuY2FuY2VsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZXhwbG9yZSBwYWdlIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7cmVwbGFjZTogRXhwbG9yZVBhZ2VDb250cm9sbGVyLnJlcGxhY2V9fVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGdldCBFeHBsb3JlUGFnZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVwbGFjZTogdGhpcy5fZXhwbG9yZVBhZ2VDb250cm9sbGVyLnJlcGxhY2VcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmbGFzaCBzYWxlIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBGbGFzaFNhbGVDb250cm9sbGVyLmNyZWF0ZSwgdXBkYXRlOiBGbGFzaFNhbGVDb250cm9sbGVyLnVwZGF0ZX19XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZ2V0IEZsYXNoU2FsZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl9mbGFzaFNhbGVDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fZmxhc2hTYWxlQ29udHJvbGxlci51cGRhdGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aXAgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IFRpcENvbnRyb2xsZXIuY3JlYXRlfX1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBnZXQgVGlwKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX3RpcENvbnRyb2xsZXIuY3JlYXRlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbG95YWx0eSBwcm9ncmFtIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBMb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXIuY3JlYXRlLCB1cGRhdGU6IExveWFsdHlQcm9ncmFtQ29udHJvbGxlci51cGRhdGUsIGRlbGV0ZTogTG95YWx0eVByb2dyYW1Db250cm9sbGVyLmRlbGV0ZX19XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZ2V0IExveWFsdHlQcm9ncmFtKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2xveWFsdHlQcm9ncmFtQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX2xveWFsdHlQcm9ncmFtQ29udHJvbGxlci51cGRhdGUsXG4gICAgICBkZWxldGU6IHRoaXMuX2xveWFsdHlQcm9ncmFtQ29udHJvbGxlci5kZWxldGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsb3lhbHR5IGNhcmQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbDogTG95YWx0eUNhcmRDb250cm9sbGVyLmNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsLCBhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQ6IExveWFsdHlDYXJkQ29udHJvbGxlci5hd2FyZFBvaW50c1RvTG95YWx0eUNhcmQsIGF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZDogTG95YWx0eUNhcmRDb250cm9sbGVyLmF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZCwgc2hhcmVMb3lhbHR5UG9pbnRzOiBMb3lhbHR5Q2FyZENvbnRyb2xsZXIuc2hhcmVMb3lhbHR5UG9pbnRzLCByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uOiBMb3lhbHR5Q2FyZENvbnRyb2xsZXIucmVkZWVtTG95YWx0eVBvaW50c0ZvckNvdXBvbn19XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZ2V0IExveWFsdHlDYXJkKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbDogdGhpcy5fbG95YWx0eUNhcmRDb250cm9sbGVyXG4gICAgICAgIC5jcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbCxcbiAgICAgIGF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZDogdGhpcy5fbG95YWx0eUNhcmRDb250cm9sbGVyXG4gICAgICAgIC5hd2FyZFBvaW50c1RvTG95YWx0eUNhcmQsXG4gICAgICBhd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQ6IHRoaXMuX2xveWFsdHlDYXJkQ29udHJvbGxlclxuICAgICAgICAuYXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkLFxuICAgICAgc2hhcmVMb3lhbHR5UG9pbnRzOiB0aGlzLl9sb3lhbHR5Q2FyZENvbnRyb2xsZXIuc2hhcmVMb3lhbHR5UG9pbnRzLFxuICAgICAgcmVkZWVtTG95YWx0eVBvaW50c0ZvckNvdXBvbjogdGhpcy5fbG95YWx0eUNhcmRDb250cm9sbGVyXG4gICAgICAgIC5yZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVkZWVtYWJsZSBpdGVtIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBSZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIuY3JlYXRlLCB1cGRhdGU6IFJlZGVlbWFibGVJdGVtQ29udHJvbGxlci51cGRhdGUsIGRlbGV0ZTogUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyLmRlbGV0ZX19XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZ2V0IFJlZGVlbWFibGVJdGVtKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX3JlZGVlbWFibGVJdGVtQ29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX3JlZGVlbWFibGVJdGVtQ29udHJvbGxlci51cGRhdGUsXG4gICAgICBkZWxldGU6IHRoaXMuX3JlZGVlbWFibGVJdGVtQ29udHJvbGxlci5kZWxldGVcbiAgICB9O1xuICB9XG5cbiAgZ2V0IFJlbW90ZUNvbmZpZ3VyYXRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZldGNoOiB0aGlzLl9yZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlci5mZXRjaCxcbiAgICAgIGRlbGV0ZVJhd0NvbmZpZ3VyYXRpb246IHRoaXMuX3JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyXG4gICAgICAgIC5kZWxldGVSYXdDb25maWd1cmF0aW9uLFxuICAgICAgdXBkYXRlUmF3Q29uZmlndXJhdGlvbjogdGhpcy5fcmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXJcbiAgICAgICAgLnVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24sXG4gICAgICBjcmVhdGVSYXdDb25maWd1cmF0aW9uOiB0aGlzLl9yZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlclxuICAgICAgICAuY3JlYXRlUmF3Q29uZmlndXJhdGlvblxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHV0aWxpdHkgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tzdHJUb0lkZW50aWZpZXI6ICgqfChmdW5jdGlvbigpOiByZXN1bHQpKX19XG4gICAqL1xuICBnZXQgVXRpbCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyVG9JZGVudGlmaWVyXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBuZXR3b3JrIGFkYXB0b3IgaW5zdGFuY2VcbiAgICogQHJldHVybnMge0NoZWFwckVhdHNHcmFwaFFMQWRhcHRvcn1cbiAgICovXG4gIGdldEFkYXB0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0b3I7XG4gIH1cblxuICAvKipcbiAgICogR2V0IENvbmZpZ3VyYXRpb25cbiAgICogQHJldHVybnMge3tlbmRwb2ludHM6ICh7Z3JhcGhRTEVuZHBvaW50OiB7cHJvZHVjdGlvbjogc3RyaW5nfSwgdmVyaWZpY2F0aW9uRW5kcG9pbnQ6IHtwcm9kdWN0aW9uOiBzdHJpbmd9LCB2YWxpZGF0aW9uRW5kcG9pbnQ6IHtwcm9kdWN0aW9uOiBzdHJpbmd9LCBpbWFnZUVuZHBvaW50OiB7cHJvZHVjdGlvbjogc3RyaW5nLCBkaXN0cmlidXRpb246IHN0cmluZ319fHtncmFwaFFMRW5kcG9pbnQsIHZlcmlmaWNhdGlvbkVuZHBvaW50LCB2YWxpZGF0aW9uRW5kcG9pbnQsIGltYWdlRW5kcG9pbnR9KX19XG4gICAqL1xuICBnZXRDb25maWd1cmF0aW9uKCkge1xuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGN1cnJlbnQgYXV0aGVudGljYXRpb24gdG9rZW5cbiAgICogQHBhcmFtIHRva2VuXG4gICAqL1xuICBzZXRBdXRoZW50aWNhdGlvblRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICB0aGlzLl90b2tlbiA9IHRva2VuO1xuICAgIHRoaXMuX2FkYXB0b3Iuc2V0QXV0aGVudGljYXRpb25Ub2tlbih0b2tlbik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgYXV0aGVudGljYXRpb24gdG9rZW5cbiAgICogQHJldHVybnMge251bGx8c3RyaW5nfVxuICAgKi9cbiAgZ2V0QXV0aGVudGljYXRpb25Ub2tlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdG9rZW47XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIGN1cnJlbnQgU0RLIFZlcnNpb24gaW4gY29tcGF0aWJsZVxuICAgKiBAcmV0dXJucyB7bnVsbHxib29sZWFufVxuICAgKi9cbiAgaXNDb21wYXRpYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNka1ZlcnNpb24gPSBwYWNrYWdlRG90SnNvbi52ZXJzaW9uO1xuICAgIGxldCBxdWVyeVN0cmluZyA9IGBcbiAgICAgICAgICAgIHF1ZXJ5IHtcbiAgICAgICAgICAgICAgICBpc19zZGtfdmVyc2lvbl9zdXBwb3J0ZWQodmVyc2lvbjpcIiR7c2RrVmVyc2lvbn1cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5HcmFwaC5xdWVyeShxdWVyeVN0cmluZylcbiAgICAgICAgLnRoZW4oKGRhdGE6IFF1ZXJ5UmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhLmlzX3Nka192ZXJzaW9uX3N1cHBvcnRlZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBBcG9sbG8gZW5kcG9pbnQuXG4gICAqIFdBUk5JTkc6IEVORCBPRiBMSUZFXG4gICAqIFBsZWFzZSB1c2Ugc2V0R3JhcGhRTEVuZHBvaW50SW5zdGVhZFxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAcGFyYW0gZW5kcG9pbnRcbiAgICovXG4gIHNldEFwb2xsb0VuZHBvaW50KGVuZHBvaW50OiBzdHJpbmcpIHtcbiAgICB0aGlzLnNldEdyYXBoUUxFbmRwb2ludChlbmRwb2ludCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IEdyYXBoUUwgZW5kcG9pbnQuXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKi9cbiAgc2V0R3JhcGhRTEVuZHBvaW50KGVuZHBvaW50OiBzdHJpbmcpIHtcbiAgICBjb25maWcuZW5kcG9pbnRzLmdyYXBoUUxFbmRwb2ludC5wcm9kdWN0aW9uID0gZW5kcG9pbnQ7XG4gICAgdGhpcy5fYWRhcHRvciA9IG5ldyBDaGVhcHJFYXRzR3JhcGhRTEFkYXB0b3Ioe1xuICAgICAgZ3JhcGhRTEVuZHBvaW50OiB0aGlzLmdldENvbmZpZ3VyYXRpb24oKS5lbmRwb2ludHMuZ3JhcGhRTEVuZHBvaW50XG4gICAgICAgIC5wcm9kdWN0aW9uXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHZlcmlmaWNhdGlvbkVuZHBvaW50LnByb2R1Y3Rpb25cbiAgICogQHBhcmFtIGVuZHBvaW50XG4gICAqL1xuICBzZXRWZXJpZmljYXRpb25FbmRwb2ludChlbmRwb2ludDogc3RyaW5nKSB7XG4gICAgY29uZmlnLmVuZHBvaW50cy52ZXJpZmljYXRpb25FbmRwb2ludC5wcm9kdWN0aW9uID0gZW5kcG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHZhbGlkYXRpb25FbmRwb2ludC5wcm9kdWN0aW9uXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKi9cbiAgc2V0VmFsaWRhdGlvbkVuZHBvaW50KGVuZHBvaW50OiBzdHJpbmcpIHtcbiAgICBjb25maWcuZW5kcG9pbnRzLnZhbGlkYXRpb25FbmRwb2ludC5wcm9kdWN0aW9uID0gZW5kcG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGltYWdlRW5kcG9pbnQucHJvZHVjdGlvblxuICAgKiBAcGFyYW0gZW5kcG9pbnRcbiAgICovXG4gIHNldEltYWdlRW5kcG9pbnQoZW5kcG9pbnQ6IHN0cmluZykge1xuICAgIGNvbmZpZy5lbmRwb2ludHMuaW1hZ2VFbmRwb2ludC5wcm9kdWN0aW9uID0gZW5kcG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGltYWdlRW5kcG9pbnQuZGlzdHJpYnV0aW9uXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKi9cbiAgc2V0SW1hZ2VEaXN0cmlidXRpb25FbmRwb2ludChlbmRwb2ludDogc3RyaW5nKSB7XG4gICAgY29uZmlnLmVuZHBvaW50cy5pbWFnZUVuZHBvaW50LmRpc3RyaWJ1dGlvbiA9IGVuZHBvaW50O1xuICB9XG59XG4iLCIvKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIHNpbXBsZSBuZXR3b3JrIGFkYXB0b3JcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBVTkxJQ0VOU0VEXG4gKi9cblxuZXhwb3J0IGNsYXNzIEFkYXB0b3Ige1xuICBfY29uZmlnOiB7IGdyYXBoUUxFbmRwb2ludDogc3RyaW5nIH07XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogeyBncmFwaFFMRW5kcG9pbnQ6IHN0cmluZyB9KSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IHRoZSBhZGFwdG9yXG4gICAgICogQHBhcmFtIHthbnl9IGNvbmZpZ1xuICAgICAqL1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYW4gYWRhcHRvciByZXF1ZXN0XG4gICAqIEBwYXJhbSB7YW55fSBjb25maWdcbiAgICovXG4gIHJ1bihjb25maWc6IGFueSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBOZXR3b3JrIGFkYXB0b3IgZm9yIENoZWFwckVhdHMgR3JhcGhRTFxuICogQXV0aG9yOiBKdW4gWmhlbmdcbiAqIExpY2Vuc2U6IFVOTElDRU5TRURcbiAqL1xuaW1wb3J0IHsgQWRhcHRvciB9IGZyb20gXCIuL0FkYXB0b3JcIjtcbmltcG9ydCB7IEdyYXBoUUxMaW5rIH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmltcG9ydCBwYWNrYWdlRG90SnNvbiBmcm9tIFwiLi4vLi4vdmVyc2lvblwiO1xuXG5leHBvcnQgY2xhc3MgQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yIGV4dGVuZHMgQWRhcHRvciB7XG4gIC8vIF9jb25maWc6IHsgZ3JhcGhRTEVuZHBvaW50OiBzdHJpbmcgfTtcbiAgX2dyYXBoUUxMaW5rOiBHcmFwaFFMTGluaztcbiAgY29uc3RydWN0b3IoY29uZmlnOiB7IGdyYXBoUUxFbmRwb2ludDogc3RyaW5nIH0pIHtcbiAgICBzdXBlcihjb25maWcpO1xuICAgIHRoaXMuX2dyYXBoUUxMaW5rID0gbmV3IEdyYXBoUUxMaW5rKGNvbmZpZy5ncmFwaFFMRW5kcG9pbnQsIHtcbiAgICAgIHZlcnNpb246IHBhY2thZ2VEb3RKc29uLnZlcnNpb24gfHwgbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gc2V0cyB0aGUgYXV0aGVudGljYXRpb24gZm9yIGFuIGFwcGxpY2F0aW9uIHRvIGJlIGF1dGhvcml6ZWQgdG8gbWFrZSBjYWxscyB0byBDaGVhcHJFYXRzIEFQSVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRva2VuIC0gVGhlIEF1dGhlbnRpY2F0aW9uIFRva2VuXG4gICAqL1xuICBzZXRBdXRoZW50aWNhdGlvblRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9ncmFwaFFMTGluayA9IG5ldyBHcmFwaFFMTGluayh0aGlzLl9jb25maWcuZ3JhcGhRTEVuZHBvaW50LCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIHZlcnNpb246IHBhY2thZ2VEb3RKc29uLnZlcnNpb24sXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRva2VuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIG9mIHRoZSBHcmFwaFFMIEFQSVxuICAgKi9cbiAgc2V0R3JhcGhRTEVuZHBvaW50KHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5fZ3JhcGhRTExpbmsgPSBuZXcgR3JhcGhRTExpbmsodXJsKTtcbiAgICB0aGlzLl9jb25maWcuZ3JhcGhRTEVuZHBvaW50ID0gdXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gcXVlcnlcbiAgICogQHBhcmFtICB7b2JqZWN0fSB2YXJpYWJsZXMgPSB7fVxuICAgKi9cbiAgcXVlcnkocXVlcnk6IHN0cmluZywgdmFyaWFibGVzOiBvYmplY3QgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLl9ncmFwaFFMTGluay5xdWVyeSh7IHF1ZXJ5LCB2YXJpYWJsZXMgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7c3RyaW5nfSBxdWVyeVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IHZhcmlhYmxlcyA9IHt9XG4gICAqL1xuICBtdXRhdGUocXVlcnk6IHN0cmluZywgdmFyaWFibGVzOiBvYmplY3QgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLl9ncmFwaFFMTGluay5tdXRhdGUoeyBxdWVyeSwgdmFyaWFibGVzIH0pO1xuICB9XG59XG5cbi8vIG1vZHVsZS5leHBvcnRzID0gQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yO1xuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgUXVlcnlSZXN1bHQgfSBmcm9tIFwiLi9HcmFwaENvbnRyb2xsZXJcIjtcbmV4cG9ydCBjbGFzcyBBdXRob3JpemF0aW9uQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIHRoaXMuZ2V0VG9rZW5TY29wZSA9IHRoaXMuZ2V0VG9rZW5TY29wZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgZ2V0VG9rZW5TY29wZSh0b2tlbjogc3RyaW5nKSB7XG4gICAgbGV0IHF1ZXJ5U3RyaW5nID0gYFxuICAgICAgICAgICAgcXVlcnkge1xuICAgICAgICAgICAgICAgIGF1dGhfdG9rZW5fc2NvcGUodG9rZW46IFwiJHt0b2tlbn1cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAucXVlcnkocXVlcnlTdHJpbmcpXG4gICAgICAgIC50aGVuKChkYXRhOiBRdWVyeVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGF0YS5hdXRoX3Rva2VuX3Njb3BlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL0N1c3RvbWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yIH0gZnJvbSBcIi4vVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ291cG9uIH0gZnJvbSBcIi4vQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tIFwiLi9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1vZGlmaWVyIH0gZnJvbSBcIi4vTW9kaWZpZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkSXRlbVRvQ2FydE1vZGlmaWVySW5wdXQge1xuICBtb2RpZmllcl9pZDogc3RyaW5nO1xuICBjaG9pY2VzOiBBcnJheTxzdHJpbmc+O1xufVxuZXhwb3J0IGludGVyZmFjZSBBZGRJdGVtVG9DYXJ0SW5wdXQge1xuICBpdGVtX2lkOiBzdHJpbmc7XG4gIG1vZGlmaWVyczogQXJyYXk8QWRkSXRlbVRvQ2FydE1vZGlmaWVySW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBDYXJ0SXRlbU1vZGlmaWVyIHtcbiAgbW9kaWZpZXI/OiBNb2RpZmllcjtcbiAgY2hvaWNlcz86IEFycmF5PHN0cmluZz47XG59XG5leHBvcnQgaW50ZXJmYWNlIENhcnRJdGVtIHtcbiAgX2lkPzogc3RyaW5nO1xuICBtZW51X2l0ZW0/OiBNZW51SXRlbTtcbiAgbW9kaWZpZXJzPzogQXJyYXk8Q2FydEl0ZW1Nb2RpZmllcj47XG59XG5leHBvcnQgaW50ZXJmYWNlIENhcnRDb3Vwb24ge1xuICBfaWQ/OiBzdHJpbmc7XG4gIGNvdXBvbj86IENvdXBvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FydCBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgY3VzdG9tZXI/OiBDdXN0b21lcjtcbiAgdmVuZG9yPzogVmVuZG9yO1xuICBpdGVtcz86IEFycmF5PENhcnRJdGVtPjtcbiAgc3VidG90YWw/OiBudW1iZXI7XG4gIHRvdGFsPzogbnVtYmVyO1xuICBjb3Vwb25zPzogQXJyYXk8Q2FydENvdXBvbj47XG4gIG5vdGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBDYXJ0Q29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMudXBkYXRlTm90ZSA9IHRoaXMudXBkYXRlTm90ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVtb3ZlQ291cG9uID0gdGhpcy5yZW1vdmVDb3Vwb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmFwcGx5Q291cG9uID0gdGhpcy5hcHBseUNvdXBvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbW92ZUl0ZW0gPSB0aGlzLnJlbW92ZUl0ZW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZEl0ZW0gPSB0aGlzLmFkZEl0ZW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIHVwZGF0ZU5vdGUoY2FydElkOiBzdHJpbmcsIG5vdGU6IHN0cmluZyk6IFByb21pc2U8Q2FydD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjYXJ0SWQ6IFN0cmluZyEsICRub3RlOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU5vdGVGb3JDYXJ0KGNhcnRfaWQ6ICRjYXJ0SWQsIG5vdGU6ICRub3RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjYXJ0SWQsXG4gICAgICAgICAgbm90ZVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVOb3RlRm9yQ2FydCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUNvdXBvbihjYXJ0SWQ6IHN0cmluZywgY2FydENvdXBvbklkOiBzdHJpbmcpOiBQcm9taXNlPENhcnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkY2FydElkOiBTdHJpbmchLCAkY2FydENvdXBvbklkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvdXBvbkZyb21DYXJ0KGNhcnRfaWQ6ICRjYXJ0SWQsIGNhcnRfY291cG9uX2lkOiAkY2FydENvdXBvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjYXJ0SWQsXG4gICAgICAgICAgY2FydENvdXBvbklkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlbW92ZUNvdXBvbkZyb21DYXJ0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXBwbHlDb3Vwb24oY2FydElkOiBzdHJpbmcsIGNvdXBvbkNvZGU6IHN0cmluZyk6IFByb21pc2U8Q2FydD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjYXJ0SWQ6IFN0cmluZyEsICRjb3Vwb25Db2RlOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5Q291cG9uVG9DYXJ0KGNhcnRfaWQ6ICRjYXJ0SWQsIGNvdXBvbl9jb2RlOiAkY291cG9uQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY2FydElkLFxuICAgICAgICAgIGNvdXBvbkNvZGVcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYXBwbHlDb3Vwb25Ub0NhcnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgY2FydFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FydElkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENhcnQ+fVxuICAgKi9cbiAgZGVsZXRlKGNhcnRJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkY2FydElkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUNhcnQoY2FydF9pZDogJGNhcnRJZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY2FydElkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZUNhcnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBjdXJyZW50bHkgYWN0aXZlIGNhcnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJ0SWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcnRJdGVtSWRcbiAgICogQHJldHVybnMge1Byb21pc2U8Q2FydD59XG4gICAqL1xuICByZW1vdmVJdGVtKGNhcnRJZDogc3RyaW5nLCBjYXJ0SXRlbUlkOiBzdHJpbmcpOiBQcm9taXNlPENhcnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkY2FydElkOiBTdHJpbmchLCAkY2FydEl0ZW1JZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVJdGVtRnJvbUNhcnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJ0X2lkOiAkY2FydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FydF9pdGVtX2lkOiAkY2FydEl0ZW1JZFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNhcnRJZCxcbiAgICAgICAgICBjYXJ0SXRlbUlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlbW92ZUl0ZW1Gcm9tQ2FydCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gbmV3IGl0ZW0gdG8gY3VycmVudGx5IGFjdGl2ZSBjYXJ0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FydElkXG4gICAqIEBwYXJhbSB7QWRkSXRlbVRvQ2FydElucHV0fSBpdGVtXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENhcnQ+fVxuICAgKi9cbiAgYWRkSXRlbShjYXJ0SWQ6IHN0cmluZywgaXRlbTogQWRkSXRlbVRvQ2FydElucHV0KTogUHJvbWlzZTxDYXJ0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGNhcnRJZDogU3RyaW5nISwgJGl0ZW06IEFkZEl0ZW1Ub0NhcnRJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXRlbVRvQ2FydChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRfaWQ6ICRjYXJ0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiAkaXRlbVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNhcnRJZCxcbiAgICAgICAgICBpdGVtXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmFkZEl0ZW1DYXJ0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjYXJ0LCByZW1vdmUgYWxsIG9sZCBjYXJ0cy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGN1c3RvbWVySWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZlbmRvcklkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPENhcnQ+fVxuICAgKi9cbiAgY3JlYXRlKGN1c3RvbWVySWQ6IHN0cmluZywgdmVuZG9ySWQ6IHN0cmluZyk6IFByb21pc2U8Q2FydD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjdXN0b21lcklkOiBTdHJpbmchLCAkdmVuZG9ySWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ2FydChcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyX2lkOiAkY3VzdG9tZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbmRvcl9pZDogJHZlbmRvcklkXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY3VzdG9tZXJJZCxcbiAgICAgICAgICB2ZW5kb3JJZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVDYXJ0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yIH0gZnJvbSBcIi4vVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTZWxlY3RJbnB1dCB9IGZyb20gXCIuL0NvbW1vbkludGVyZmFjZVwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbi8vIGltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5leHBvcnQgaW50ZXJmYWNlIENhdGVnb3J5IGV4dGVuZHMgVXBkYXRlQ2F0ZWdvcnlJbnB1dCwgRGVmYXVsdENvbnRyb2xsZXIge1xuICBtZW51X2l0ZW1zKHNlbGVjdDogU2VsZWN0SW5wdXQpOiBBcnJheTxNZW51SXRlbT47XG4gIG1lbnVfaXRlbV9jb3VudD86IG51bWJlcjtcbiAgdmVuZG9yPzogVmVuZG9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDYXRlZ29yeUlucHV0IHtcbiAgbmFtZTogc3RyaW5nO1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHZlbmRvcl9pZDogc3RyaW5nO1xuICBzb3J0X29yZGVyPzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYXRlZ29yeUlucHV0IHtcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHNvcnRfb3JkZXI/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoVXBkYXRlQ2F0ZWdvcmllc0lucHV0IHtcbiAgaWQ6IHN0cmluZztcbiAgY2F0ZWdvcnk6IFVwZGF0ZUNhdGVnb3J5SW5wdXQ7XG59XG5cbi8qKlxuICogQ29udHJvbGxlciBmb3IgY2F0ZWdvcmllcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENhdGVnb3J5Q29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYmF0Y2hVcGRhdGUgPSB0aGlzLmJhdGNoVXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgY2F0ZWdvcnksIHJldHVybiBjYXRlZ29yeSBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7Q3JlYXRlQ2F0ZWdvcnlJbnB1dH0gY2F0ZWdvcnkgLSBUaGUgY2F0ZWdvcnkgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBjYXRlZ29yeSB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICBjcmVhdGUoY2F0ZWdvcnk6IENyZWF0ZUNhdGVnb3J5SW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlQ2F0ZWdvcnlNdXRhdGlvbiAoJGNhdGVnb3J5OiBDcmVhdGVDYXRlZ29yeUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDYXRlZ29yeShjYXRlZ29yeTogJGNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjYXRlZ29yeVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVDYXRlZ29yeS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgY2F0ZWdvcnlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGNhdGVnb3J5IGlkIHRoYXQgd2lsbCBiZSBkZWxldGVkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBkZWxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBkZWxldGVDYXRlZ29yeU11dGF0aW9uICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ2F0ZWdvcnkoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlQ2F0ZWdvcnkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGNhdGVnb3J5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgY2F0ZWdvcnkgdGhhdCB3aWxsIGJlIHVwZGF0ZWRcbiAgICogQHBhcmFtIHtVcGRhdGVDYXRlZ29yeUlucHV0fSBjYXRlZ29yeSAtIFRoZSB1cGRhdGVkIGNhdGVnb3J5IG9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFJldHVybnMgdGhlIGlkIG9mIHRoZSB1cGRhdGVkIGNhdGVnb3J5XG4gICAqL1xuICB1cGRhdGUoaWQ6IHN0cmluZywgY2F0ZWdvcnk6IFVwZGF0ZUNhdGVnb3J5SW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gdXBkYXRlQ2F0ZWdvcnlNdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkY2F0ZWdvcnk6IFVwZGF0ZUNhdGVnb3J5SW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhdGVnb3J5KGlkOiAkaWQsIGNhdGVnb3J5OiAkY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNhdGVnb3J5XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZUNhdGVnb3J5Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXRjaCB1cGRhdGUgYSBsaXN0IG9mIGNhdGVnb3JpZXMuXG4gICAqIEBwYXJhbSB7QXJyYXk8QmF0Y2hVcGRhdGVDYXRlZ29yaWVzSW5wdXQ+fSBjYXRlZ29yaWVzIExpc3Qgb2YgQmF0Y2hVcGRhdGVDYXRlZ29yaWVzSW5wdXRcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8Q2F0ZWdvcnk+Pn0gTGlzdCBvZiBjYXRlZ29yaWVzIHdpdGggX2lkIGZpZWxkXG4gICAqL1xuICBiYXRjaFVwZGF0ZShcbiAgICBjYXRlZ29yaWVzOiBBcnJheTxCYXRjaFVwZGF0ZUNhdGVnb3JpZXNJbnB1dD5cbiAgKTogUHJvbWlzZTxBcnJheTxDYXRlZ29yeT4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkY2F0ZWdvcmllczogW0JhdGNoVXBkYXRlQ2F0ZWdvcmllc0lucHV0XSEpe1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFVwZGF0ZUNhdGVnb3JpZXMoY2F0ZWdvcmllczogJGNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNhdGVnb3JpZXNcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYmF0Y2hVcGRhdGVDYXRlZ29yaWVzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL0N1c3RvbWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgU2VsZWN0SW5wdXQgfSBmcm9tIFwiLi9Db21tb25JbnRlcmZhY2VcIjtcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4vT3JkZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuLy8gaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2FkYXB0b3JzL0NoZWFwckVhdHNHcmFwaFFMQWRhcHRvclwiO1xuZXhwb3J0IGludGVyZmFjZSBQYXltZW50TWV0aG9kcyB7XG4gIGFwcGxlX3BheT86IGJvb2xlYW47XG4gIGFuZHJvaWRfcGF5PzogYm9vbGVhbjtcbiAgY3JlZGl0X2NhcmQ/OiBib29sZWFuO1xuICBpbl9wZXJzb24/OiBib29sZWFuO1xuICB3YWxsZXQ/OiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBQYXltZW50TWV0aG9kc0lucHV0IHtcbiAgYXBwbGVfcGF5PzogYm9vbGVhbjsgLy8gZGVmYXVsdCBUUlVFXG4gIGFuZHJvaWRfcGF5PzogYm9vbGVhbjsgLy8gZGVmYXVsdCBUUlVFXG4gIGNyZWRpdF9jYXJkPzogYm9vbGVhbjsgLy8gZGVmYXVsdCBUUlVFXG4gIGluX3BlcnNvbj86IGJvb2xlYW47IC8vIGRlZmF1bHQgVFJVRVxuICB3YWxsZXQ/OiBib29sZWFuOyAvLyBkZWZhdWx0IFRSVUVcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ291cG9uVHJhbnNhY3Rpb24gZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGNvdXBvbj86IENvdXBvbjtcbiAgdHJhbnNhY3Rpb25fdHlwZT86IHN0cmluZztcbiAgdmFsdWU/OiBzdHJpbmc7XG4gIG9yZGVyPzogT3JkZXI7XG4gIGN1c3RvbWVyPzogQ3VzdG9tZXI7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUNvdXBvbklucHV0IHtcbiAgY29kZTogc3RyaW5nO1xuICBjb3Vwb25fdHlwZTogc3RyaW5nO1xuICB2YWx1ZTogbnVtYmVyO1xuICBpdGVtX3Njb3BlPzogc3RyaW5nO1xuICB2ZW5kb3Jfc2NvcGU/OiBzdHJpbmc7XG4gIGN1c3RvbWVyX3Njb3BlPzogc3RyaW5nO1xuICB1c2VzOiBudW1iZXI7XG4gIHVzZXNfcGVyX2N1c3RvbWVyOiBudW1iZXI7XG4gIGNhbl9jb21iaW5lOiBib29sZWFuO1xuICBjYXJyeV9vdmVyOiBib29sZWFuO1xuICBleHBpcmVfYXQ6IHN0cmluZztcbiAgcGFpZF9ieV92ZW5kb3I6IGJvb2xlYW47XG4gIG1pbl9wdXJjaGFzZTogbnVtYmVyO1xuICBwYXltZW50X21ldGhvZHM/OiBQYXltZW50TWV0aG9kc0lucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBDb3Vwb24gZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGNvZGU/OiBzdHJpbmc7XG4gIGNvdXBvbl90eXBlPzogc3RyaW5nO1xuICB2YWx1ZT86IG51bWJlcjtcbiAgcmVhbF92YWx1ZT86IG51bWJlcjtcbiAgaXRlbV9zY29wZT86IE1lbnVJdGVtO1xuICB2ZW5kb3Jfc2NvcGU/OiBWZW5kb3I7XG4gIGN1c3RvbWVyX3Njb3BlPzogQ3VzdG9tZXI7XG4gIHVzZXM/OiBudW1iZXI7XG4gIHVzZXNfcGVyX2N1c3RvbWVyPzogbnVtYmVyO1xuICBjYW5fY29tYmluZT86IGJvb2xlYW47XG4gIGNhcnJ5X292ZXI/OiBib29sZWFuO1xuICBleHBpcmVfYXQ/OiBzdHJpbmc7XG4gIHBhaWRfYnlfdmVuZG9yPzogYm9vbGVhbjtcbiAgbWluX3B1cmNoYXNlPzogbnVtYmVyO1xuICB0cmFuc2FjdGlvbnMoc2VsZWN0OiBTZWxlY3RJbnB1dCk6IEFycmF5PENvdXBvblRyYW5zYWN0aW9uPjtcbn1cbi8qKlxuICogQ29udHJvbGxlciBmb3IgY291cG9ucy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgQ291cG9uQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjb3Vwb24sIHJldHVybiBjb3Vwb24gSUQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge0NyZWF0ZUNvdXBvbklucHV0fSBjYXRlZ29yeSAtIFRoZSBDb3Vwb24gT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBjcmVhdGUoY291cG9uOiBDcmVhdGVDb3Vwb25JbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVDb3Vwb25NdXRhdGlvbiAoJGNvdXBvbjogQ3JlYXRlQ291cG9uSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvdXBvbihjb3Vwb246ICRjb3Vwb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNvdXBvblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVDb3Vwb24uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDYXJ0IH0gZnJvbSBcIi4vQ2FydENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFJlc2V0Q29kZVNlbmRNZXRob2QgfSBmcm9tIFwiLi9FbXBsb3llZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgU2VsZWN0SW5wdXQgfSBmcm9tIFwiLi9Db21tb25JbnRlcmZhY2VcIjtcbmltcG9ydCB7IExveWFsdHlDYXJkIH0gZnJvbSBcIi4vTG95YWx0eUNhcmRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDb3Vwb24gfSBmcm9tIFwiLi9Db3Vwb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBpbnRlcmZhY2UgQ3JlZGl0Q2FyZCB7XG4gIGlkPzogc3RyaW5nO1xuICBicmFuZD86IHN0cmluZztcbiAgbGFzdDQ/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwIHtcbiAgX2lkPzogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBjdXN0b21lcnM/OiBBcnJheTxDdXN0b21lcj47XG59XG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIsIEN1c3RvbWVyT3B0aW9ucyB7XG4gIGVtYWlsX2FkZHJlc3M/OiBzdHJpbmc7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIHBhc3N3b3JkPzogc3RyaW5nO1xuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XG4gIGFwbnNfdG9rZW5zPzogQXJyYXk8c3RyaW5nPjtcbiAgZmNtX3Rva2Vucz86IEFycmF5PHN0cmluZz47XG4gIGNyZWRpdF9jYXJkPzogQ3JlZGl0Q2FyZDtcbiAgZW1haWxfcHJlZmVyZW5jZXM/OiBFbWFpbFByZWZlcmVuY2VzO1xuICBtb2JpbGVfbm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG4gIGxveWFsdHlfY2FyZHMoc2VsZWN0OiBTZWxlY3RJbnB1dCk6IEFycmF5PExveWFsdHlDYXJkPjtcbiAgaXNfdGVzdD86IGJvb2xlYW47XG4gIHdhbGxldD86IENvdXBvbjtcbiAgY2FydD86IENhcnQ7XG4gIGZhdm91cml0ZV92ZW5kb3JzPzogQXJyYXk8VmVuZG9yPjtcbiAgZmF2b3VyaXRlX2l0ZW1zPzogQXJyYXk8TWVudUl0ZW0+O1xuICB0ZXN0X3ZlbmRvcnM/OiBBcnJheTxWZW5kb3I+O1xuICBncm91cHM/OiBBcnJheTxHcm91cD47XG59XG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyT3B0aW9ucyB7XG4gIHByb2ZpbGVfcGljdHVyZT86IHN0cmluZztcbiAgYmlydGhkYXk/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsUHJlZmVyZW5jZXNJbnB1dCB7XG4gIHByb21vdGlvbmFsOiBib29sZWFuO1xuICB0cmFuc2FjdGlvbmFsOiBib29sZWFuO1xuICBzeXN0ZW06IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsUHJlZmVyZW5jZXMge1xuICBwcm9tb3Rpb25hbD86IGJvb2xlYW47XG4gIHRyYW5zYWN0aW9uYWw/OiBib29sZWFuO1xuICBzeXN0ZW0/OiBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDdXN0b21lcklucHV0IGV4dGVuZHMgQ3VzdG9tZXJPcHRpb25zIHtcbiAgZW1haWxfYWRkcmVzczogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHBob25lX251bWJlcjogc3RyaW5nO1xuICB2ZXJpZmljYXRpb25fcmVxdWVzdF9pZDogc3RyaW5nO1xuICB2ZXJpZmljYXRpb25fY29kZTogc3RyaW5nO1xuICBlbWFpbF9wcmVmZXJlbmNlczogRW1haWxQcmVmZXJlbmNlc0lucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDdXN0b21lcklucHV0IGV4dGVuZHMgQ3VzdG9tZXJPcHRpb25zIHtcbiAgbW9iaWxlX25vdGlmaWNhdGlvbnM/OiBib29sZWFuO1xuICBlbWFpbF9wcmVmZXJlbmNlcz86IEVtYWlsUHJlZmVyZW5jZXNJbnB1dDtcbn1cbi8qKlxuICogQ29udHJvbGxlciBmb3IgY3VzdG9tZXJzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBDdXN0b21lckNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlQ3JlZGl0Q2FyZCA9IHRoaXMudXBkYXRlQ3JlZGl0Q2FyZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZW5yb2xsQXBuc1Rva2VuID0gdGhpcy5lbnJvbGxBcG5zVG9rZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJldm9rZUFwbnNUb2tlbiA9IHRoaXMucmV2b2tlQXBuc1Rva2VuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5lbnJvbGxGY21Ub2tlbiA9IHRoaXMuZW5yb2xsRmNtVG9rZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJldm9rZUZjbVRva2VuID0gdGhpcy5yZXZva2VGY21Ub2tlbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY3JlYXRlV2FsbGV0ID0gdGhpcy5jcmVhdGVXYWxsZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbG9hZFdhbGxldCA9IHRoaXMucmVsb2FkV2FsbGV0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZW5kUGFzc3dvcmRSZXNldENvZGUgPSB0aGlzLnNlbmRQYXNzd29yZFJlc2V0Q29kZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzZXRQYXNzd29yZCA9IHRoaXMucmVzZXRQYXNzd29yZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmdW5kV2FsbGV0ID0gdGhpcy5yZWZ1bmRXYWxsZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZVdhbGxldFRyYW5zYWN0aW9uID0gdGhpcy5jcmVhdGVXYWxsZXRUcmFuc2FjdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYWRkRmF2b3VyaXRlVmVuZG9yID0gdGhpcy5hZGRGYXZvdXJpdGVWZW5kb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbW92ZUZhdm91cml0ZVZlbmRvciA9IHRoaXMucmVtb3ZlRmF2b3VyaXRlVmVuZG9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRGYXZvdXJpdGVJdGVtID0gdGhpcy5hZGRGYXZvdXJpdGVJdGVtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVGYXZvdXJpdGVJdGVtID0gdGhpcy5yZW1vdmVGYXZvdXJpdGVJdGVtLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgY3VzdG9tZXIsIHJldHVybiBjdXN0b21lciBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7Q3JlYXRlQ3VzdG9tZXJJbnB1dH0gY3VzdG9tZXIgLSBUaGUgQ3VzdG9tZXIgb2JqZWN0IHRvIGJlIGNyZWF0ZWRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyIG9iamVjdCB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICBjcmVhdGUoY3VzdG9tZXI6IENyZWF0ZUN1c3RvbWVySW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlQ3VzdG9tZXJNdXRhdGlvbiAoJGN1c3RvbWVyOiBDcmVhdGVDdXN0b21lcklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDdXN0b21lcihjdXN0b21lcjogJGN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjdXN0b21lclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVDdXN0b21lci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgY3VzdG9tZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBvYmplY3RcbiAgICogQHBhcmFtIHtVcGRhdGVDdXN0b21lcklucHV0fSBjdXN0b21lciAtIFRoZSB1cGRhdGVkIEN1c3RvbWVyIG9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXIgT2JqZWN0IHRoYXQgd2FzIHVwZGF0ZWRcbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBjdXN0b21lcjogVXBkYXRlQ3VzdG9tZXJJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiB1cGRhdGVDdXN0b21lck11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRjdXN0b21lcjogVXBkYXRlQ3VzdG9tZXJJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VzdG9tZXIoaWQ6ICRpZCwgY3VzdG9tZXI6ICRjdXN0b21lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY3VzdG9tZXJcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlQ3VzdG9tZXIuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVucm9sbCBhIG5ldyBBUE5zIHRva2VuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIFRoZSBBUE5TIFRva2VuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEN1c3RvbWVyPn1cbiAgICovXG4gIGVucm9sbEFwbnNUb2tlbihpZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxDdXN0b21lcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gZW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW5NdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkdG9rZW46IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW4oaWQ6ICRpZCwgdG9rZW46ICR0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdG9rZW5cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV2b2tlIGFuIEFQTnMgdG9rZW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gVGhlIEFQTlMgVG9rZW5cbiAgICogQHJldHVybnMge1Byb21pc2U8Q3VzdG9tZXI+fVxuICAgKi9cbiAgcmV2b2tlQXBuc1Rva2VuKGlkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEN1c3RvbWVyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiByZXZva2VDdXN0b21lckFwbnNUb2tlbk11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZXZva2VDdXN0b21lckFwbnNUb2tlbihpZDogJGlkLCB0b2tlbjogJHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0b2tlblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZXZva2VDdXN0b21lckFwbnNUb2tlbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnJvbGwgYSBuZXcgRkNNIHRva2VuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIFRoZSBGQ00gVG9rZW5cbiAgICogQHJldHVybnMge1Byb21pc2U8Q3VzdG9tZXI+fVxuICAgKi9cbiAgZW5yb2xsRmNtVG9rZW4oaWQ6IHN0cmluZywgdG9rZW46IHN0cmluZyk6IFByb21pc2U8Q3VzdG9tZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGVucm9sbEN1c3RvbWVyRmNtVG9rZW5NdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkdG9rZW46IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5yb2xsQ3VzdG9tZXJGY21Ub2tlbihpZDogJGlkLCB0b2tlbjogJHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0b2tlblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5lbnJvbGxDdXN0b21lckZjbVRva2VuKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldm9rZSBhbiBGQ00gdG9rZW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gVGhlIEZDTSBUb2tlblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDdXN0b21lcj59XG4gICAqL1xuICByZXZva2VGY21Ub2tlbihpZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxDdXN0b21lcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gcmV2b2tlQ3VzdG9tZXJGY21Ub2tlbk11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZXZva2VDdXN0b21lckZjbVRva2VuKGlkOiAkaWQsIHRva2VuOiAkdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRva2VuXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJldm9rZUN1c3RvbWVyRmNtVG9rZW4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgY3VzdG9tZXIncyBjcmVkaXQgY2FyZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyIE9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSBUaGUgU3RyaXBlIFRva2VuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEN1c3RvbWVyPn1cbiAgICovXG4gIHVwZGF0ZUNyZWRpdENhcmQoaWQ6IHN0cmluZywgdG9rZW46IHN0cmluZyk6IFByb21pc2U8Q3VzdG9tZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZUN1c3RvbWVyQ3JlZGl0Q2FyZE11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXN0b21lckNyZWRpdENhcmQoaWQ6ICRpZCwgdG9rZW46ICR0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdG9rZW5cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlQ3VzdG9tZXJDcmVkaXRDYXJkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBDdXN0b21lciBXYWxsZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIHdhbGxldCB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICAvL1FVRVNUSU9OOiBXaHkgZG9lcyB0aGlzIHJldHVybiBjb3Vwb24/P1xuICBjcmVhdGVXYWxsZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVDdXN0b21lcldhbGxldCAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUN1c3RvbWVyV2FsbGV0KGlkOiAkaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUN1c3RvbWVyV2FsbGV0Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxvYWQgY3VzdG9tZXIgd2FsbGV0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXIgT2JqZWN0XG4gICAqIEBwYXJhbSAge251bWJlcn0gYW1vdW50IC0gVGhlIGFtb3VudCB0byBsb2FkIHRoZSB3YWxsZXQgKGluIGNlbnRzKVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHBheW1lbnRfbWV0aG9kIC0gVGhlIHNlbGVjdGVkIHBheW1lbnQgbWV0aG9kXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSB3YWxsZXQgdGhhdCB3YXMgcmVsb2FkZWRcbiAgICovXG4gIC8vUVVFU1RJT046IFdoeSBkb2VzIHRoaXMgcmV0dXJuIGNvdXBvbj8/XG4gIHJlbG9hZFdhbGxldChcbiAgICBpZDogc3RyaW5nLFxuICAgIGFtb3VudDogbnVtYmVyLFxuICAgIHBheW1lbnRfbWV0aG9kOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHJlbG9hZEN1c3RvbWVyV2FsbGV0ICgkaWQ6IFN0cmluZyEsICRhbW91bnQ6IEludCEsICRwYXltZW50X21ldGhvZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZWxvYWRDdXN0b21lcldhbGxldChpZDogJGlkLCBhbW91bnQ6ICRhbW91bnQsIHBheW1lbnRfbWV0aG9kOiAkcGF5bWVudF9tZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICBwYXltZW50X21ldGhvZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZWxvYWRDdXN0b21lcldhbGxldC5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBwYXNzd29yZCByZXNldCBjb2RlIHRvIGN1c3RvbWVyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZW1haWxfYWRkcmVzcyAtIFRoZSBlbWFpbCBhZGRyZXNzIG9mIHRoZSBjdXN0b21lclxuICAgKiBAcGFyYW0gIHtSZXNldENvZGVTZW5kTWV0aG9kfSBtZXRob2QgLSBUaGUgbWV0aG9kIHRvIHJlY2VpdmUgdGhlIGNvZGUgb24sIGVpdGhlciBFTUFJTCAoZGVmYXVsdCkgb3IgU01TXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBzZW5kUGFzc3dvcmRSZXNldENvZGUoXG4gICAgZW1haWxfYWRkcmVzczogc3RyaW5nLFxuICAgIG1ldGhvZDogUmVzZXRDb2RlU2VuZE1ldGhvZCA9IFJlc2V0Q29kZVNlbmRNZXRob2QuRU1BSUxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlICgkZW1haWxfYWRkcmVzczogU3RyaW5nISwgJG1ldGhvZDogUmVzZXRDb2RlU2VuZE1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICBzZW5kQ3VzdG9tZXJQYXNzd29yZFJlc2V0Q29kZShlbWFpbF9hZGRyZXNzOiAkZW1haWxfYWRkcmVzcywgbWV0aG9kOiRtZXRob2QpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgbWV0aG9kXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IEN1c3RvbWVyIFBhc3N3b3JkXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZW1haWxfYWRkcmVzcyAtIFRoZSBlbWFpbCBhZGRyZXNzIG9mIHRoZSBjdXN0b21lclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNvZGUgLSBUZW1wb3JhcnkgQ29kZSBmb3IgUGFzc3dvcmQgUmVzZXRzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgbmV3IHBhc3N3b3JkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICByZXNldFBhc3N3b3JkKFxuICAgIGVtYWlsX2FkZHJlc3M6IHN0cmluZyxcbiAgICBjb2RlOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gcmVzZXRDdXN0b21lclBhc3N3b3JkICgkZW1haWxfYWRkcmVzczogU3RyaW5nISwgJGNvZGU6IFN0cmluZyEsICRwYXNzd29yZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZXNldEN1c3RvbWVyUGFzc3dvcmQoZW1haWxfYWRkcmVzczogJGVtYWlsX2FkZHJlc3MsIGNvZGU6ICRjb2RlLCBwYXNzd29yZDogJHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBlbWFpbF9hZGRyZXNzLFxuICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgcGFzc3dvcmRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVzZXRDdXN0b21lclBhc3N3b3JkLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZ1bmQgY3VzdG9tZXIgd2FsbGV0IGJ5IHZlbmRvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdmVuZG9yX2lkIC0gSUQgb2YgdGhlIFZlbmRvciBpc3N1aW5nIHRoZSByZWZ1bmRcbiAgICogQHBhcmFtICB7bnVtYmVyfSBhbW91bnQgLSBUaGUgYW1vdW50IHRvIHJlZnVuZCB0aGUgd2FsbGV0IChpbiBjZW50cylcbiAgICogQHBhcmFtICB7c3RyaW5nfSBvcmRlcl9pZCAtIE9wdGlvbmFsIG9yZGVySWQgc2VsZWN0ZWQgcGF5bWVudCBtZXRob2RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIHdhbGxldCB0aGF0IHdhcyByZWxvYWRlZFxuICAgKi9cbiAgLy9RVUVTVElPTjogV2h5IGRvZXMgdGhpcyByZXR1cm4gY291cG9uPz9cbiAgcmVmdW5kV2FsbGV0KFxuICAgIGlkOiBzdHJpbmcsXG4gICAgdmVuZG9yX2lkOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgb3JkZXJfaWQ6IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR2ZW5kb3JfaWQ6IFN0cmluZyEsICRhbW91bnQ6IEludCEsICRvcmRlcl9pZDogU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnVuZEN1c3RvbWVyV2FsbGV0KGlkOiAkaWQsIHZlbmRvcl9pZDogJHZlbmRvcl9pZCwgYW1vdW50OiAkYW1vdW50LCBvcmRlcl9pZDogJG9yZGVyX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB2ZW5kb3JfaWQsXG4gICAgICAgICAgYW1vdW50LFxuICAgICAgICAgIG9yZGVyX2lkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlZnVuZEN1c3RvbWVyV2FsbGV0Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB3YWxsZXQgdHJhbnNhY3Rpb24gZm9yIGN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0cmFuc2FjdGlvbl90eXBlIC0gVHJhbnNhY3Rpb24gdHlwZSwgZWl0aGVyICdyZWxvYWQnIG9yICdwdXJjaGFzZSdcbiAgICogQHBhcmFtICB7bnVtYmVyfSBhbW91bnQgLSBUaGUgYW1vdW50IGluIGNlbnRzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZGVzY3JpcHRpb24gLSBPcHRpb25hbCBkZXNjcmlwdGlvbiBmb3IgdHJhbnNhY3Rpb25cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIHdhbGxldCB0aGF0IHdhcyByZWxvYWRlZFxuICAgKi9cbiAgLy9RVUVTVElPTjogV2h5IGRvZXMgdGhpcyByZXR1cm4gY291cG9uPz9cbiAgY3JlYXRlV2FsbGV0VHJhbnNhY3Rpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICB0cmFuc2FjdGlvbl90eXBlOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR0cmFuc2FjdGlvbl90eXBlOiBTdHJpbmchLCAkYW1vdW50OiBJbnQhLCAkZGVzY3JpcHRpb246IFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDdXN0b21lcldhbGxldFRyYW5zYWN0aW9uKGlkOiAkaWQsIHRyYW5zYWN0aW9uX3R5cGU6ICR0cmFuc2FjdGlvbl90eXBlLCBhbW91bnQ6ICRhbW91bnQsIGRlc2NyaXB0aW9uOiAkZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRyYW5zYWN0aW9uX3R5cGUsXG4gICAgICAgICAgYW1vdW50LFxuICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUN1c3RvbWVyV2FsbGV0VHJhbnNhY3Rpb24uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGZhdm91cml0ZSB2ZW5kb3IgZm9yIGN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSB2ZW5kb3JfaWQgLSBUaGUgaWQgb2YgdGhlIHZlbmRvclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiBjdXN0b21lciB3aG9zZSBmYXZvdXJpdGUgdmVuZG9yIHdhcyB1cGRhdGVkXG4gICAqL1xuICBhZGRGYXZvdXJpdGVWZW5kb3IoaWQ6IHN0cmluZywgdmVuZG9yX2lkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHZlbmRvcl9pZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBhZGRGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lciAoaWQ6ICRpZCwgdmVuZG9yX2lkOiAkdmVuZG9yX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB2ZW5kb3JfaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYWRkRmF2b3VyaXRlVmVuZG9yRm9yQ3VzdG9tZXIuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGZhdm91cml0ZSB2ZW5kb3IgZm9yIGN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSB2ZW5kb3JfaWQgLSBUaGUgaWQgb2YgdGhlIHZlbmRvclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiBjdXN0b21lciB3aG9zZSBmYXZvdXJpdGUgdmVuZG9yIHdhcyB1cGRhdGVkXG4gICAqL1xuICByZW1vdmVGYXZvdXJpdGVWZW5kb3IoaWQ6IHN0cmluZywgdmVuZG9yX2lkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHZlbmRvcl9pZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lciAoaWQ6ICRpZCwgdmVuZG9yX2lkOiAkdmVuZG9yX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB2ZW5kb3JfaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVtb3ZlRmF2b3VyaXRlVmVuZG9yRm9yQ3VzdG9tZXIuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGZhdm91cml0ZSBpdGVtIGZvciBjdXN0b21lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaXRlbV9pZCAtIFRoZSBpZCBvZiB0aGUgaXRlbVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiBjdXN0b21lciB3aG9zZSBmYXZvdXJpdGUgaXRlbSB3YXMgdXBkYXRlZFxuICAgKi9cbiAgYWRkRmF2b3VyaXRlSXRlbShpZDogc3RyaW5nLCBpdGVtX2lkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJGl0ZW1faWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyIChpZDogJGlkLCBpdGVtX2lkOiAkaXRlbV9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgaXRlbV9pZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5hZGRGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXIuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGZhdm91cml0ZSBpdGVtIGZvciBjdXN0b21lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaXRlbV9pZCAtIFRoZSBpZCBvZiB0aGUgaXRlbVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiBjdXN0b21lciB3aG9zZSBmYXZvdXJpdGUgaXRlbSB3YXMgdXBkYXRlZFxuICAgKi9cbiAgcmVtb3ZlRmF2b3VyaXRlSXRlbShpZDogc3RyaW5nLCBpdGVtX2lkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDpTdHJpbmchLCAkaXRlbV9pZDpTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZhdm91cml0ZUl0ZW1Gb3JDdXN0b21lciAoaWQ6JGlkLCBpdGVtX2lkOiRpdGVtX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBpdGVtX2lkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlbW92ZUZhdm91cml0ZUl0ZW1Gb3JDdXN0b21lci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29udHJvbGxlciBmb3IgY3VzdG9tZXIgdG9rZW5zLlxuICovXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbWVyVG9rZW4gZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGJvZHk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21lclRva2VuQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBDdXN0b21lclRva2VuLCByZXR1cm4gQ3VzdG9tZXJUb2tlbiBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbF9hZGRyZXNzIC0gVGhlIGVtYWlsIGFkZHJlc3Mgb2YgdGhlIEN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8Q3VzdG9tZXJUb2tlbj59XG4gICAqL1xuICBjcmVhdGUoZW1haWxfYWRkcmVzczogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxDdXN0b21lclRva2VuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVDdXN0b21lclRva2VuTXV0YXRpb24gKCRlbWFpbF9hZGRyZXNzOiBTdHJpbmchLCAkcGFzc3dvcmQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ3VzdG9tZXJUb2tlbihlbWFpbF9hZGRyZXNzOiAkZW1haWxfYWRkcmVzcywgcGFzc3dvcmQ6ICRwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkX2F0XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkX2F0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgZW1haWxfYWRkcmVzcyxcbiAgICAgICAgICBwYXNzd29yZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVDdXN0b21lclRva2VuKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBFbWFpbFByZWZlcmVuY2VzSW5wdXQsIEVtYWlsUHJlZmVyZW5jZXMgfSBmcm9tIFwiLi9DdXN0b21lckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yIH0gZnJvbSBcIi4vVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRW1wbG95ZWVJbnB1dCB7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHJvbGU6IHN0cmluZztcbiAgZW1haWxfYWRkcmVzczogc3RyaW5nO1xuICBwaG9uZV9udW1iZXI6IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIGVtYWlsX3ByZWZlcmVuY2VzOiBFbWFpbFByZWZlcmVuY2VzSW5wdXQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEVtcGxveWVlQ29tbW9uUHJvcGVydGllcyB7XG4gIGVtYWlsX2FkZHJlc3M/OiBzdHJpbmc7XG4gIHBhc3N3b3JkPzogc3RyaW5nO1xuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XG4gIHJvbGU/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUVtcGxveWVlSW5wdXQgZXh0ZW5kcyBFbXBsb3llZUNvbW1vblByb3BlcnRpZXMge1xuICBlbWFpbF9wcmVmZXJlbmNlcz86IEVtYWlsUHJlZmVyZW5jZXNJbnB1dDtcbn1cbmV4cG9ydCBlbnVtIFJlc2V0Q29kZVNlbmRNZXRob2Qge1xuICBFTUFJTCA9IFwiRU1BSUxcIixcbiAgU01TID0gXCJTTVNcIlxufVxuZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZSBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyLCBFbXBsb3llZUNvbW1vblByb3BlcnRpZXMge1xuICB1c2VybmFtZT86IHN0cmluZztcbiAgZW1haWxfcHJlZmVyZW5jZXM/OiBFbWFpbFByZWZlcmVuY2VzO1xuICB2ZW5kb3I/OiBWZW5kb3I7XG4gIHRlcm1pbmFsX2ZjbV90b2tlbnM/OiBBcnJheTxzdHJpbmc+O1xufVxuXG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIGVtcGxveWVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEVtcGxveWVlQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZW5yb2xsVGVybWluYWxGY20gPSB0aGlzLmVucm9sbFRlcm1pbmFsRmNtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXZva2VUZXJtaW5hbEZjbSA9IHRoaXMucmV2b2tlVGVybWluYWxGY20uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0RW1wbG95ZWVQYXNzd29yZCA9IHRoaXMucmVzZXRFbXBsb3llZVBhc3N3b3JkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZW5kUGFzc3dvcmRSZXNldENvZGUgPSB0aGlzLnNlbmRQYXNzd29yZFJlc2V0Q29kZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGVtcGxveWVlLCByZXR1cm4gZW1wbG95ZWUgSUQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge0NyZWF0ZUVtcGxveWVlSW5wdXR9IGVtcGxveWVlIC0gVGhlIEVtcGxveWVlIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgRW1wbG95ZWUgT2JqZWN0XG4gICAqL1xuICBjcmVhdGUoZW1wbG95ZWU6IENyZWF0ZUVtcGxveWVlSW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlRW1wbG95ZWVNdXRhdGlvbiAoJGVtcGxveWVlOiBDcmVhdGVFbXBsb3llZUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbXBsb3llZShlbXBsb3llZTogJGVtcGxveWVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBlbXBsb3llZVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVFbXBsb3llZS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgZW1wbG95ZWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBFbXBsb3llZSBPYmplY3RcbiAgICogQHBhcmFtIHtVcGRhdGVFbXBsb3llZUlucHV0fSBlbXBsb3llZSAtIFRoZSBFbXBsb3llZSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIEVtcGxveWVlIE9iamVjdFxuICAgKi9cbiAgdXBkYXRlKGlkOiBzdHJpbmcsIGVtcGxveWVlOiBVcGRhdGVFbXBsb3llZUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZUVtcGxveWVlTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJGVtcGxveWVlOiBVcGRhdGVFbXBsb3llZUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVFbXBsb3llZShpZDogJGlkLCBlbXBsb3llZTogJGVtcGxveWVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBlbXBsb3llZVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVFbXBsb3llZS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgRW1wbG95ZWUgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBFbXBsb3llZSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGRlbGV0ZShpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZUVtcGxveWVlICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlRW1wbG95ZWUoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlRW1wbG95ZWUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRW5yb2xsIGEgbmV3IEZDTSB0b2tlbiBmb3IgdGVybWluYWwgYXBwXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgRW1wbG95ZWUgT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIFRoZSBGQ00gdG9rZW4gZm9yIHRoZSBUZXJtaW5hbCBNb2JpbGUgQXBwXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEVtcGxveWVlPn1cbiAgICovXG4gIGVucm9sbFRlcm1pbmFsRmNtKGlkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEVtcGxveWVlPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBlbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4gKCRpZDogU3RyaW5nISwgJHRva2VuOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGVucm9sbEVtcGxveWVlVGVybWluYWxGY21Ub2tlbihpZDogJGlkLCB0b2tlbjogJHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0b2tlblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5lbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV2b2tlIGEgRkNNIHRva2VuIGZvciB0ZXJtaW5hbCBhcHBcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gVGhlIEZDTSB0b2tlbiBmb3IgdGhlIFRlcm1pbmFsIE1vYmlsZSBBcHBcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHJldm9rZVRlcm1pbmFsRmNtKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gcmV2b2tlRW1wbG95ZWVUZXJtaW5hbEZjbVRva2VuICgkdG9rZW46IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2b2tlRW1wbG95ZWVUZXJtaW5hbEZjbVRva2VuKHRva2VuOiAkdG9rZW4pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIHRva2VuXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldHMgYW4gZW1wbG95ZWUgcGFzc3dvcmRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gSWQgb2YgdGhlIGVtcGxveWVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbF9hZGRyZXNzIC0gRW1haWwgYWRkcmVzcyBvZiB0aGUgZW1wbG95ZWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvZGUgLSBSZXNldCBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBuZXcgcGFzc3dvcmQgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICAvL1FVRVNUSU9OIGlkIGFuZCBlbWFpbF9hZGRyZXNzIGFyZSBvcHRpb25hbD8/XG4gIHJlc2V0RW1wbG95ZWVQYXNzd29yZChcbiAgICBpZDogc3RyaW5nIHwgbnVsbCxcbiAgICBlbWFpbF9hZGRyZXNzOiBzdHJpbmcgfCBudWxsLFxuICAgIGNvZGU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiByZXNldEVtcGxveWVlUGFzc3dvcmQgKCRpZDogU3RyaW5nLCAkZW1haWxfYWRkcmVzczpTdHJpbmcsICRjb2RlOlN0cmluZyEsICRwYXNzd29yZDpTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0RW1wbG95ZWVQYXNzd29yZChpZDogJGlkLCBlbWFpbF9hZGRyZXNzOiAkZW1haWxfYWRkcmVzcywgY29kZTogJGNvZGUsIHBhc3N3b3JkOiAkcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgY29kZSxcbiAgICAgICAgICBwYXNzd29yZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZXNldEVtcGxveWVlUGFzc3dvcmQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcGFzc3dvcmQgcmVzZXQgY29kZSB0byBlbXBsb3llZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWxfYWRkcmVzcyAtIElkIG9mIHRoZSBlbXBsb3llZVxuICAgKiBAcGFyYW0ge01ldGhvZH0gbWV0aG9kIC0gVGhlIG5ldyBwYXNzd29yZCB0byBzZXRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHNlbmRQYXNzd29yZFJlc2V0Q29kZShcbiAgICBlbWFpbF9hZGRyZXNzOiBzdHJpbmcsXG4gICAgbWV0aG9kOiBSZXNldENvZGVTZW5kTWV0aG9kIHwgbnVsbFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gc2VuZEVtcGxveWVlUGFzc3dvcmRSZXNldENvZGUgKCRlbWFpbF9hZGRyZXNzOiBTdHJpbmchLCAkbWV0aG9kOlJlc2V0Q29kZVNlbmRNZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZEVtcGxveWVlUGFzc3dvcmRSZXNldENvZGUoZW1haWxfYWRkcmVzczogJGVtYWlsX2FkZHJlc3MsIG1ldGhvZDokbWV0aG9kKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBlbWFpbF9hZGRyZXNzLFxuICAgICAgICAgIG1ldGhvZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5zZW5kRW1wbG95ZWVQYXNzd29yZFJlc2V0Q29kZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb250cm9sbGVyIGZvciBlbXBsb3llZSB0b2tlbnMuXG4gKi9cbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZVRva2VuIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICBib2R5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRW1wbG95ZWVUb2tlbiwgcmV0dXJuIEVtcGxveWVlVG9rZW4gSUQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmVuZG9yX2lkIC0gVGhlIGlkIG9mIHRoZSBWZW5kb3IgdGhpcyBlbXBsb3llZSB3aWxsIGJlIGFzc2lnbmVkIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIFRoZSBVc2VybmFtZSBvZiB0aGUgRW1wbG95ZWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIG9mIHRoZSBFbXBsb3llZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgY3JlYXRlKFxuICAgIHZlbmRvcl9pZDogc3RyaW5nLFxuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlRW1wbG95ZWVUb2tlbk11dGF0aW9uICgkdmVuZG9yX2lkOiBTdHJpbmchLCAkdXNlcm5hbWU6IFN0cmluZyEsICRwYXNzd29yZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbXBsb3llZVRva2VuKHZlbmRvcl9pZDogJHZlbmRvcl9pZCwgdXNlcm5hbWU6ICR1c2VybmFtZSwgcGFzc3dvcmQ6ICRwYXNzd29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIHZlbmRvcl9pZCxcbiAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICBwYXNzd29yZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVFbXBsb3llZVRva2VuLmJvZHkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ291cG9uIH0gZnJvbSBcIi4vQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBpbnRlcmZhY2UgQWR2ZXJ0aXNlbWVudCB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBsaW5rPzogc3RyaW5nO1xuICBpbWFnZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIERhaWx5RGVhbCB7XG4gIGxpbms/OiBzdHJpbmc7XG4gIG1lbnVfaXRlbV9pZDogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBTcGVjaWFsRGVhbCBleHRlbmRzIERhaWx5RGVhbCB7fVxuZXhwb3J0IGludGVyZmFjZSBUaW1lbHlEZWFsIHtcbiAgbWVudV9pdGVtX2lkOiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBsaW5rPzogc3RyaW5nO1xuICBmcm9tPzogc3RyaW5nO1xuICB0bz86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRXhwbG9yZVBhZ2UgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGFkdmVydGlzZW1lbnRzPzogQXJyYXk8QWR2ZXJ0aXNlbWVudD47XG4gIGRhaWx5X2RlYWxzPzogQXJyYXk8RGFpbHlEZWFsPjtcbiAgc3BlY2lhbF9kZWFscz86IEFycmF5PFNwZWNpYWxEZWFsPjtcbiAgdGltZWx5X2RlYWxzPzogQXJyYXk8VGltZWx5RGVhbD47XG4gIGNvdXBvbnM/OiBBcnJheTxDb3Vwb24+O1xuICBpc19jdXJyZW50PzogYm9vbGVhbjtcbn1cbi8qKlxuICogQ29udHJvbGxlciByZWxhdGVkIHRvIGV4cGxvcmUgcGFnZVxuICovXG5cbmV4cG9ydCBjbGFzcyBFeHBsb3JlUGFnZUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLnJlcGxhY2UgPSB0aGlzLnJlcGxhY2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgdGhlIGV4cGxvcmUgcGFnZVxuICAgKiBAcGFyYW0ge0FycmF5PEFkdmVydGlzZW1lbnRzPn0gYWR2ZXJ0aXNlbWVudHMgLSBMaXN0IG9mIEV4cGxvcmUgcGFnZSBBZHNcbiAgICogQHBhcmFtIHtBcnJheTxEYWlseURlYWxzPn0gZGFpbHlfZGVhbHMgLSBMaXN0IG9mIEV4cGxvcmUgcGFnZSBEYWlseSBBZHNcbiAgICogQHBhcmFtIHtBcnJheTxTcGVjaWFsRGVhbHM+fSBzcGVjaWFsX2RlYWxzIC0gTGlzdCBvZiBFeHBsb3JlIHBhZ2UgU3BlY2lhbCBEZWFsc1xuICAgKiBAcGFyYW0ge0FycmF5PFRpbWVseURlYWxzPn0gdGltZWx5X2RlYWxzIC0gTGlzdCBvZiBFeHBsb3JlIHBhZ2UgVGltZWx5IERlYWxzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFN0cmluZz59IC0gVXBkYXRlZCBhdFxuICAgKi9cbiAgcmVwbGFjZShcbiAgICBhZHZlcnRpc2VtZW50czogQXJyYXk8QWR2ZXJ0aXNlbWVudD4sXG4gICAgZGFpbHlfZGVhbHM6IEFycmF5PERhaWx5RGVhbD4sXG4gICAgc3BlY2lhbF9kZWFsczogQXJyYXk8U3BlY2lhbERlYWw+LFxuICAgIHRpbWVseV9kZWFsczogQXJyYXk8VGltZWx5RGVhbD5cbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvL1FVRVNUSU9OIFBSIGNvdXBvbnMgaXMgbm90IGluY2x1ZGVkIGFzIG9wdGlvbiBpbiBtdXRhdGlvbiBidXQgZXhpc3RzIGFzIGFuIG9wdGlvbiBpbiB0aGUgc2NoZW1hPz9cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkYWR2ZXJ0aXNlbWVudHM6IFtBZHZlcnRpc2VtZW50SW5wdXRdLCAkZGFpbHlfZGVhbHM6IFtEYWlseURlYWxzSW5wdXRdLCAkc3BlY2lhbF9kZWFsczogW1NwZWNpYWxEZWFsc0lucHV0XSwgJHRpbWVseV9kZWFsczogW1RpbWVseURlYWxzSW5wdXRdKSB7IFxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlRXhwbG9yZVBhZ2UoYWR2ZXJ0aXNlbWVudHM6ICRhZHZlcnRpc2VtZW50cywgZGFpbHlfZGVhbHM6ICRkYWlseV9kZWFscywgc3BlY2lhbF9kZWFsczogJHNwZWNpYWxfZGVhbHMsIHRpbWVseV9kZWFsczogJHRpbWVseV9kZWFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZF9hdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGFkdmVydGlzZW1lbnRzLFxuICAgICAgICAgIGRhaWx5X2RlYWxzLFxuICAgICAgICAgIHNwZWNpYWxfZGVhbHMsXG4gICAgICAgICAgdGltZWx5X2RlYWxzXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlcGxhY2VFeHBsb3JlUGFnZS51cGRhdGVkX2F0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5leHBvcnQgaW50ZXJmYWNlIEZsYXNoU2FsZUl0ZW1JbnB1dCB7XG4gIF9pZDogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xufVxuZXhwb3J0IGVudW0gRmxhc2hTYWxlVHlwZSB7XG4gIERPTExBUiA9IFwiRE9MTEFSXCIsXG4gIFBFUkNFTlRBR0UgPSBcIlBFUkNFTlRBR0VcIlxufVxuZXhwb3J0IGludGVyZmFjZSBGbGFzaFNhbGVJdGVtIHtcbiAgX2lkPzogc3RyaW5nO1xuICBwcmljZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hTYWxlIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICB0eXBlPzogRmxhc2hTYWxlVHlwZTtcbiAgYW1vdW50PzogbnVtYmVyO1xuICB2ZW5kb3JfaWQ/OiBzdHJpbmc7XG4gIGl0ZW1zPzogQXJyYXk8Rmxhc2hTYWxlSXRlbT47XG4gIHN0YXJ0X2F0Pzogc3RyaW5nO1xuICBlbmRfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIENvbnRyb2xsZXIgcmVsYXRlZCB0byBmbGFzaCBzYWxlc1xuICovXG5cbmV4cG9ydCBjbGFzcyBGbGFzaFNhbGVDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBmbGFzaCBzYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2ZW5kb3JfaWQgLSBWZW5kb3IgSURcbiAgICogQHBhcmFtIHtGbGFzaFNhbGVUeXBlfSB0eXBlIC0gSWYgdGhlIGZsYXNoIHNhbGUgaXMgb24gUEVSQ0VOVEFHRSBvciBET0xMQVIgYmFzaXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIEFtb3VudCBpbiBjZW50cyB0byBiYXNlIHRoZSBmbGFzaCBzYWxlIG9mZiBvZlxuICAgKiBAcGFyYW0ge0FycmF5PEZsYXNoU2FsZUl0ZW1JbnB1dD59IGl0ZW1zIC0gTGlzdCBvZiBpdGVtcyBpbmNsdWRlZCBpbiBGbGFzaCBTYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdGFydF9hdCAtIFN0YXJ0IHRpbWUgZm9yIEZsYXNoIFNhbGUgaW4gSVNPIGZvcm1hdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW5kX2F0IC0gRW5kIHRpbWUgZm9yIEZsYXNoIFNhbGUgaW4gSVNPIGZvcm1hdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgY3JlYXRlKFxuICAgIHZlbmRvcl9pZDogc3RyaW5nLFxuICAgIHR5cGU6IEZsYXNoU2FsZVR5cGUsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgaXRlbXM6IEFycmF5PEZsYXNoU2FsZUl0ZW1JbnB1dD4sXG4gICAgc3RhcnRfYXQ6IHN0cmluZyxcbiAgICBlbmRfYXQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24oJHZlbmRvcl9pZDogU3RyaW5nISwgJHR5cGU6IEZsYXNoU2FsZVR5cGUhLCAkYW1vdW50OiBJbnQhLCAkaXRlbXM6IFtGbGFzaFNhbGVJdGVtSW5wdXRdISwgJHN0YXJ0X2F0OiBTdHJpbmchLCAkZW5kX2F0OiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZsYXNoU2FsZSh2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQsIHR5cGU6ICR0eXBlLCBhbW91bnQ6ICRhbW91bnQsIGl0ZW1zOiRpdGVtcywgc3RhcnRfYXQ6JHN0YXJ0X2F0LCBlbmRfYXQ6JGVuZF9hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdmVuZG9yX2lkLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgYW1vdW50LFxuICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgIHN0YXJ0X2F0LFxuICAgICAgICAgIGVuZF9hdFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVGbGFzaFNhbGUuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBleGlzdGluZyBmbGFzaCBzYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIEZsYXNoIFNhbGUgSURcbiAgICogQHBhcmFtIHtBcnJheTxGbGFzaFNhbGVJdGVtcz59IGl0ZW1zIC0gVXBkYXRlZCBMaXN0IG9mIGl0ZW1zIGZvciBGbGFzaCBTYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRfYXQgLSBFbmQgdGltZSBmb3IgRmxhc2ggU2FsZSBpbiBJU08gZm9ybWF0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICB1cGRhdGUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBpdGVtczogQXJyYXk8Rmxhc2hTYWxlSXRlbUlucHV0PiB8IG51bGwsXG4gICAgZW5kX2F0OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbigkaWQ6IFN0cmluZyEsICRpdGVtczogW0ZsYXNoU2FsZUl0ZW1JbnB1dF0sICRlbmRfYXQ6IFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGbGFzaFNhbGUoaWQ6ICRpZCwgaXRlbXM6JGl0ZW1zLCBlbmRfYXQ6JGVuZF9hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgZW5kX2F0XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZUZsYXNoU2FsZS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IENhdGVnb3J5IH0gZnJvbSBcIi4vQ2F0ZWdvcnlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDb3Vwb24gfSBmcm9tIFwiLi9Db3Vwb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lciwgR3JvdXAgfSBmcm9tIFwiLi9DdXN0b21lckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEVtcGxveWVlIH0gZnJvbSBcIi4vRW1wbG95ZWVDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBFeHBsb3JlUGFnZSB9IGZyb20gXCIuL0V4cGxvcmVQYWdlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRmxhc2hTYWxlIH0gZnJvbSBcIi4vRmxhc2hTYWxlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgSGVhZE9mZmljZSB9IGZyb20gXCIuL0hlYWRPZmZpY2VDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBMb3lhbHR5Q2FyZCB9IGZyb20gXCIuL0xveWFsdHlDYXJkQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tIFwiLi9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4vT3JkZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBQYXlvdXQsIFNlcnZpY2VDaGFyZ2UgfSBmcm9tIFwiLi9QYXlvdXRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBSYXdDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4vUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlcmlmaWNhdGlvblNlc3Npb24gfSBmcm9tIFwiLi9WZXJpZmljYXRpb25Db250cm9sbGVyXCI7XG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5UmVzdWx0IHtcbiAgdGhlX2N1c3RvbWVyPzogQ3VzdG9tZXI7XG4gIHRoZV9lbXBsb3llZT86IEVtcGxveWVlO1xuICBjYXRlZ29yaWVzPzogQXJyYXk8Q2F0ZWdvcnk+O1xuICBjb3Vwb25zPzogQXJyYXk8Q291cG9uPjtcbiAgdmFsaWRfY291cG9uPzogQ291cG9uO1xuICBjdXN0b21lcl9lbWFpbF9hZGRyZXNzX2F2YWlsYWJsZT86IGJvb2xlYW47XG4gIGN1c3RvbWVyX3Bob25lX251bWJlcl9hdmFpbGFibGU/OiBib29sZWFuO1xuICBjdXN0b21lcnM/OiBBcnJheTxDdXN0b21lcj47XG4gIGVtcGxveWVlPzogRW1wbG95ZWU7XG4gIGV4cGxvcmVfcGFnZT86IEV4cGxvcmVQYWdlO1xuICBleHBsb3JlX3BhZ2VfYXJjaGl2ZXM/OiBBcnJheTxFeHBsb3JlUGFnZT47XG4gIHZlcnNpb25fZGV0YWlscz86IFZlcnNpb25EZXRhaWxzO1xuICBpc19zZGtfdmVyc2lvbl9zdXBwb3J0ZWQ/OiBib29sZWFuO1xuICBhdXRoX3Rva2VuX3Njb3BlPzogVXNlclR5cGVzO1xuICBtZW51X2l0ZW1zPzogQXJyYXk8TWVudUl0ZW0+O1xuICBtZW51X2l0ZW0/OiBNZW51SXRlbTtcbiAgbG95YWx0eV9jYXJkcz86IEFycmF5PExveWFsdHlDYXJkPjtcbiAgb3JkZXJzPzogQXJyYXk8T3JkZXI+O1xuICBwYXlvdXRzPzogQXJyYXk8UGF5b3V0PjtcbiAgdmVuZG9ycz86IEFycmF5PFZlbmRvcj47XG4gIGhlYWRfb2ZmaWNlcz86IEFycmF5PEhlYWRPZmZpY2U+O1xuICBzZXJ2aWNlX2NoYXJnZXM/OiBBcnJheTxTZXJ2aWNlQ2hhcmdlPjtcbiAgc2VydmljZV9jaGFyZ2U/OiBTZXJ2aWNlQ2hhcmdlO1xuICBzdXJ2ZXlzPzogQXJyYXk8U3VydmV5PjtcbiAgZmxhc2hfc2FsZXM/OiBBcnJheTxGbGFzaFNhbGU+O1xuICB2ZXJmaWNhdGlvbl9zZXNzaW9uPzogVmVyaWZpY2F0aW9uU2Vzc2lvbjtcbiAgZ3JvdXBzPzogQXJyYXk8R3JvdXA+O1xuICBtZXJnZWRfY29uZmlndXJhdGlvbj86IE1lcmdlZENvbmZpZ3VyYXRpb247XG4gIHJhd19jb25maWd1cmF0aW9ucz86IEFycmF5PFJhd0NvbmZpZ3VyYXRpb24+O1xufVxuZXhwb3J0IGludGVyZmFjZSBWZXJzaW9uRGV0YWlscyB7XG4gIHZlcnNpb24/OiBzdHJpbmc7XG4gIGJ1aWxkPzogc3RyaW5nO1xuICBjb21wYXRpYmxlX3Nka192ZXJzaW9uPzogc3RyaW5nO1xufVxuZXhwb3J0IGVudW0gVXNlclR5cGVzIHtcbiAgVkVORE9SX0FETUlOID0gXCJWRU5ET1JfQURNSU5cIixcbiAgVkVORE9SX0VNUExPWUVFID0gXCJWRU5ET1JfRU1QTE9ZRUVcIixcbiAgQ1VTVE9NRVIgPSBcIkNVU1RPTUVSXCIsXG4gIE1BU1RFUiA9IFwiTUFTVEVSXCIsXG4gIElOVkFMSUQgPSBcIklOVkFMSURcIlxufVxuZXhwb3J0IGludGVyZmFjZSBNZXJnZWRDb25maWd1cmF0aW9uIHtcbiAgbmFtZTogc3RyaW5nO1xuICBkYXRhOiBzdHJpbmc7XG59XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIHRoZSBncmFwaC5cbiAqL1xuXG5leHBvcnQgY2xhc3MgR3JhcGhDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5xdWVyeSA9IHRoaXMucXVlcnkuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgcXVlcnkocXVlcnk6IHN0cmluZywgdmFyaWFibGVzOiBvYmplY3QgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLmFwcC5nZXRBZGFwdG9yKCkucXVlcnkocXVlcnksIHZhcmlhYmxlcyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbi8qKlxuICogQ29udHJvbGxlciBmb3IgaGVhZCBvZmZpY2VzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRPZmZpY2UgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIHZlbmRvcnM6IEFycmF5PFZlbmRvcj47XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEhlYWRPZmZpY2VDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbGV0ZSA9IHRoaXMuZGVsZXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgSGVhZE9mZmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciAtIFRoZSBpZGVudGlmaWVyIGZvciB0aGUgSGVhZCBPZmZpY2UgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBIZWFkIE9mZmljZSBvYmplY3RcbiAgICovXG4gIGNyZWF0ZShpZGVudGlmaWVyOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlSGVhZE9mZmljZSAoJGlkZW50aWZpZXI6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSGVhZE9mZmljZShpZGVudGlmaWVyOiAkaWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRlbnRpZmllclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVIZWFkT2ZmaWNlLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBIZWFkT2ZmaWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgSGVhZCBPZmZpY2UgT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIC0gVGhlIGlkZW50aWZpZXIgZm9yIHRoZSBIZWFkIE9mZmljZSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIEhlYWQgT2ZmaWNlIG9iamVjdFxuICAgKi9cbiAgdXBkYXRlKGlkOiBzdHJpbmcsIGlkZW50aWZpZXI6IHN0cmluZyB8IG51bGwpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gdXBkYXRlSGVhZE9mZmljZSAoJGlkOiBTdHJpbmchLCAkaWRlbnRpZmllcjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVIZWFkT2ZmaWNlKGlkOiAkaWQsIGlkZW50aWZpZXI6ICRpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBpZGVudGlmaWVyXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZUhlYWRPZmZpY2UuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIEhlYWRPZmZpY2UgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBIZWFkIE9mZmljZSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGRlbGV0ZShpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZUhlYWRPZmZpY2UgKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVIZWFkT2ZmaWNlKGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZUhlYWRPZmZpY2UpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEh0dHBMaW5rIH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvSHR0cExpbmtcIjtcbi8qKlxuICogQ29udHJvbGxlciBmb3IgaW1hZ2Ugc2VydmljZXMuXG4gKi9cbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmV4cG9ydCBjbGFzcyBJbWFnZUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLnVwbG9hZCA9IHRoaXMudXBsb2FkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRMaW5rID0gdGhpcy5nZXRMaW5rLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEh0dHBMaW5rIGFwcGVuZGVkIHdpdGggYXBwZW5kXG4gICAqIEBwYXJhbSAge3N0cmluZ30gYXBwZW5kPVwiXCJcbiAgICogQHJldHVybnMge0h0dHBMaW5rfVxuICAgKi9cbiAgZ2V0SHR0cExpbmsoYXBwZW5kOiBzdHJpbmcgPSBcIlwiKTogSHR0cExpbmsge1xuICAgIHJldHVybiBuZXcgSHR0cExpbmsoXG4gICAgICB0aGlzLmFwcC5nZXRDb25maWd1cmF0aW9uKCkuZW5kcG9pbnRzLmltYWdlRW5kcG9pbnQucHJvZHVjdGlvbiArIGFwcGVuZFxuICAgICk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBVcGxvYWQgYW4gbmV3IGltYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZSAtIEltYWdlIGluIGJhc2U2NCBmb3JtYXRcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG5cbiAgdXBsb2FkKGltYWdlOiBzdHJpbmcpOiBQcm9taXNlPHsgaWQ6IHN0cmluZyB9PiB7XG4gICAgY29uc3QgbGluayA9IHRoaXMuZ2V0SHR0cExpbmsoXCIvdXBsb2FkXCIpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsaW5rXG4gICAgICAgIC5wb3N0KHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbWFnZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogeyBkYXRhOiB7IGlkOiBzdHJpbmcgfSB9KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gaW1hZ2UgbGluayB3aXRoIHNpemVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaXplICgxMDBweCwgMzAwcHgsIDYwMHB4IG9yIDEyMDBweClcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldExpbmsoaWQ6IHN0cmluZywgc2l6ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5hcHAuZ2V0Q29uZmlndXJhdGlvbigpLmVuZHBvaW50cy5pbWFnZUVuZHBvaW50LmRpc3RyaWJ1dGlvbiArXG4gICAgICBcIi9cIiArXG4gICAgICBpZCArXG4gICAgICBcIi1cIiArXG4gICAgICBzaXplICtcbiAgICAgIFwiLnBuZ1wiXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IExveWFsdHlQcm9ncmFtIH0gZnJvbSBcIi4vTG95YWx0eVByb2dyYW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL0N1c3RvbWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgU2VsZWN0SW5wdXQgfSBmcm9tIFwiLi9Db21tb25JbnRlcmZhY2VcIjtcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4vT3JkZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVMb3lhbHR5Q2FyZElucHV0IHtcbiAgbG95YWx0eV9wcm9ncmFtX2lkOiBzdHJpbmc7XG4gIGN1c3RvbWVyX2lkPzogc3RyaW5nO1xuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XG59XG5leHBvcnQgZW51bSBMb3lhbHR5VHJhbnNhY3Rpb25UeXBlIHtcbiAgRUFSTklORyA9IFwiRUFSTklOR1wiLFxuICBFQVJOSU5HX0ZSSUVORCA9IFwiRUFSTklOR19GUklFTkRcIixcbiAgU0hBUklORyA9IFwiU0hBUklOR1wiLFxuICBSRURFRU1JTkcgPSBcIlJFREVFTUlOR1wiXG59XG5leHBvcnQgaW50ZXJmYWNlIExveWFsdHlUcmFuc2FjdGlvbiB7XG4gIF9pZDogc3RyaW5nO1xuICBsb3lhbHR5X2NhcmQ6IExveWFsdHlDYXJkO1xuICB0cmFuc2FjdGlvbl90eXBlOiBMb3lhbHR5VHJhbnNhY3Rpb25UeXBlO1xuICB2YWx1ZTogbnVtYmVyO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBvcmRlcjogT3JkZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIExveWFsdHlDYXJkIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCB7XG4gIGxveWFsdHlfcHJvZ3JhbTogTG95YWx0eVByb2dyYW07XG4gIGN1c3RvbWVyPzogQ3VzdG9tZXI7XG4gIHBob25lX251bWJlcj86IHN0cmluZztcbiAgdHJhbnNhY3Rpb25zKHNlbGVjdDogU2VsZWN0SW5wdXQpOiBBcnJheTxMb3lhbHR5VHJhbnNhY3Rpb24+O1xuICBwb2ludHM6IG51bWJlcjtcbiAgc2hhcmVhYmxlX3BvaW50czogbnVtYmVyO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBsb3lhbHR5IGNhcmRzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBMb3lhbHR5Q2FyZENvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsID0gdGhpcy5jcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbC5iaW5kKFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgdGhpcy5hd2FyZFBvaW50c1RvTG95YWx0eUNhcmQgPSB0aGlzLmF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkID0gdGhpcy5hd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMuc2hhcmVMb3lhbHR5UG9pbnRzID0gdGhpcy5zaGFyZUxveWFsdHlQb2ludHMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24gPSB0aGlzLnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24uYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IExveWFsdHkgQ2FyZCwgYXV0b21hdGljYWxseSBlbnJvbGxpbmcgdXNlciBpbiB0aGUgbG95YWx0eSBwcm9ncmFtXG4gICAqIEBwYXJhbSB7Q3JlYXRlTG95YWx0eUNhcmRJbnB1dH0gbG95YWx0eV9jYXJkIC0gVGhlIExveWFsdHlDYXJkIG9iamVjdCBpbnB1dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eUNhcmQgb2JqZWN0XG4gICAqL1xuICBjcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbChcbiAgICBsb3lhbHR5X2NhcmQ6IENyZWF0ZUxveWFsdHlDYXJkSW5wdXRcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkbG95YWx0eV9jYXJkOkNyZWF0ZUxveWFsdHlDYXJkSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsKGxveWFsdHlfY2FyZDogJGxveWFsdHlfY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgbG95YWx0eV9jYXJkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBd2FyZCB1c2FibGUgcG9pbnRzIHRvIGEgbG95YWx0eSBjYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIG9mIHRoZSBsb3lhbHR5IGNhcmQgdG8gd2hpY2ggcG9pbnRzIGFyZSBhd2FyZGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBOdW1iZXIgb2YgcG9pbnRzIHRvIGF3YXJkIHRvIGxveWFsdHkgY2FyZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eVRyYW5zYWN0aW9uXG4gICAqL1xuICBhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQoaWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJGFtb3VudDogSW50ISkge1xuICAgICAgICAgICAgICAgICAgICBhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQoaWQ6ICRpZCwgYW1vdW50OiAkYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBhbW91bnRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYXdhcmRQb2ludHNUb0xveWFsdHlDYXJkLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBd2FyZCBzaGFyZWFibGUgcG9pbnRzIHRvIGEgbG95YWx0eSBjYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIG9mIHRoZSBsb3lhbHR5IGNhcmQgdG8gd2hpY2ggc2hhcmVhYmxlIHBvaW50cyBhcmUgYXdhcmRlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gTnVtYmVyIG9mIHNoYXJlYWJsZSBwb2ludHMgdG8gYXdhcmQgdG8gbG95YWx0eSBjYXJkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBMb3lhbHR5VHJhbnNhY3Rpb25cbiAgICovXG4gIGF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZChcbiAgICBpZDogc3RyaW5nLFxuICAgIGFtb3VudDogbnVtYmVyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkYW1vdW50OiBJbnQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZChpZDogJGlkLCBhbW91bnQ6ICRhbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGFtb3VudFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5hd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBzaGFyaW5nIG9mIGxveWFsdHkgcG9pbnRzIGZyb20gb25lIGxveWFsdHkgY2FyZCB0byBhbm90aGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZW5kZXJfY3VzdG9tZXJfaWQgLSBJRCBvZiB0aGUgY3VzdG9tZXIgdHJhbnNmZXJyaW5nIGxveWFsdHkgcG9pbnRzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWNlaXZlcl9waG9uZV9udW1iZXIgLSBQaG9uZSBudW1iZXIgb2YgdGhlIHJlY2VpdmVyIHJlY2VpdmluZyB0aGUgcG9pbnRzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb3lhbHR5X3Byb2dyYW1faWQgLSBJRCBvZiB0aGUgbG95YWx0eSBwcm9ncmFtIGluIGNvbnRleHQgb2Ygd2hpY2ggcG9pbnRzIGFyZSBzaGFyZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vX29mX3BvaW50c190b19zaGFyZSAtIE51bWJlciBvZiBwb2ludHMgdG8gc2hhcmVcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIExveWFsdHlUcmFuc2FjdGlvblxuICAgKi9cbiAgc2hhcmVMb3lhbHR5UG9pbnRzKFxuICAgIHNlbmRlcl9jdXN0b21lcl9pZDogc3RyaW5nLFxuICAgIHJlY2VpdmVyX3Bob25lX251bWJlcjogc3RyaW5nLFxuICAgIGxveWFsdHlfcHJvZ3JhbV9pZDogc3RyaW5nLFxuICAgIG5vX29mX3BvaW50c190b19zaGFyZTogbnVtYmVyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJHNlbmRlcl9jdXN0b21lcl9pZDogU3RyaW5nISwgJHJlY2VpdmVyX3Bob25lX251bWJlcjogU3RyaW5nISwgJGxveWFsdHlfcHJvZ3JhbV9pZDogU3RyaW5nISwgJG5vX29mX3BvaW50c190b19zaGFyZTogSW50ISkge1xuICAgICAgICAgICAgICAgICAgICBzaGFyZUxveWFsdHlQb2ludHMoc2VuZGVyX2N1c3RvbWVyX2lkOiAkc2VuZGVyX2N1c3RvbWVyX2lkLCByZWNlaXZlcl9waG9uZV9udW1iZXI6ICRyZWNlaXZlcl9waG9uZV9udW1iZXIsIGxveWFsdHlfcHJvZ3JhbV9pZDogJGxveWFsdHlfcHJvZ3JhbV9pZCwgbm9fb2ZfcG9pbnRzX3RvX3NoYXJlOiAkbm9fb2ZfcG9pbnRzX3RvX3NoYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBzZW5kZXJfY3VzdG9tZXJfaWQsXG4gICAgICAgICAgcmVjZWl2ZXJfcGhvbmVfbnVtYmVyLFxuICAgICAgICAgIGxveWFsdHlfcHJvZ3JhbV9pZCxcbiAgICAgICAgICBub19vZl9wb2ludHNfdG9fc2hhcmVcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuc2hhcmVMb3lhbHR5UG9pbnRzLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRlZW0gYSBjb3Vwb24gaW4gZXhjaGFuZ2Ugb2YgbG95YWx0eSBwb2ludHMgZm9yIGEgcGFydGljdWxhciBpdGVtIHJlZGVlbWFibGUgaW4gYSB2ZW5kb3IncyBsb3lhbHR5IHByb2dyYW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxveWFsdHlfY2FyZF9pZCAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eSBDYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZW51X2l0ZW1faWQgLSBUaGUgaWQgb2YgdGhlIE1lbnUgSUQgd2hpY2ggbXVzdCBiZSBhIHJlZGVlbWFibGUgaW4gdGhlIHZlbmRvcidzIGxveWFsdHkgcGxhblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIElEIG9mIHRoZSBDb3Vwb24gZ2VuZXJhdGVkXG4gICAqL1xuICByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uKFxuICAgIGxveWFsdHlfY2FyZF9pZDogc3RyaW5nLFxuICAgIG1lbnVfaXRlbV9pZDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGxveWFsdHlfY2FyZF9pZDogU3RyaW5nISwgJG1lbnVfaXRlbV9pZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uKGxveWFsdHlfY2FyZF9pZDogJGxveWFsdHlfY2FyZF9pZCwgbWVudV9pdGVtX2lkOiAkbWVudV9pdGVtX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBsb3lhbHR5X2NhcmRfaWQsXG4gICAgICAgICAgbWVudV9pdGVtX2lkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUmVkZWVtYWJsZUl0ZW0gfSBmcm9tIFwiLi9SZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBlbnVtIExveWFsdHlQcm9ncmFtVHlwZSB7XG4gIERPTExBUiA9IFwiRE9MTEFSXCIsXG4gIE9SREVSID0gXCJPUkRFUlwiLFxuICBJVEVNID0gXCJJVEVNXCJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTG95YWx0eUNhcmRBdHRyaWJ1dGVzSW5wdXQge1xuICBjb2xvcjogc3RyaW5nO1xuICBlbW9qaTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVMb3lhbHR5UHJvZ3JhbUlucHV0IHtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIGl0ZW1zX3JlcXVpcmVkOiBBcnJheTxzdHJpbmc+O1xuICBwb2ludHM6IG51bWJlcjtcbiAgc2hhcmVhYmxlX3BvaW50czogbnVtYmVyO1xuICBtaW5fcHVyY2hhc2U/OiBudW1iZXI7IC8vIGRlZmF1bHQgMFxuICBwcm9ncmFtX3R5cGU/OiBMb3lhbHR5UHJvZ3JhbVR5cGU7IC8vIGRlZmF1bHQgRE9MTEFSXG4gIHByb2dyYW1fbG95YWx0eV9jYXJkX2F0dHJpYnV0ZXM6IExveWFsdHlDYXJkQXR0cmlidXRlc0lucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBMb3lhbHR5UHJvZ3JhbUNvbW1vblByb3BlcnRpZXMge1xuICBuYW1lPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcG9pbnRzPzogbnVtYmVyO1xuICBzaGFyZWFibGVfcG9pbnRzPzogbnVtYmVyO1xuICBtaW5fcHVyY2hhc2U/OiBudW1iZXI7XG4gIHByb2dyYW1fbG95YWx0eV9jYXJkX2F0dHJpYnV0ZXM/OiBMb3lhbHR5Q2FyZEF0dHJpYnV0ZXNJbnB1dDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTG95YWx0eVByb2dyYW1JbnB1dFxuICBleHRlbmRzIExveWFsdHlQcm9ncmFtQ29tbW9uUHJvcGVydGllcyB7XG4gIGl0ZW1zX3JlcXVpcmVkPzogQXJyYXk8c3RyaW5nPjtcbiAgcHJvZ3JhbV90eXBlPzogTG95YWx0eVByb2dyYW1UeXBlO1xufVxuZXhwb3J0IGludGVyZmFjZSBMb3lhbHR5UHJvZ3JhbSBleHRlbmRzIExveWFsdHlQcm9ncmFtQ29tbW9uUHJvcGVydGllcyB7XG4gIF9pZD86IHN0cmluZztcbiAgdmVuZG9yPzogVmVuZG9yO1xuICBpdGVtc19yZXF1aXJlZD86IEFycmF5PE1lbnVJdGVtPjtcbiAgcmVkZWVtYW5ibGVfaXRlbXM/OiBBcnJheTxSZWRlZW1hYmxlSXRlbT47XG4gIHByb2dyYW1fdHlwZT86IHN0cmluZztcbn1cbi8qKlxuICogQ29udHJvbGxlciBmb3IgbG95YWx0eSBwcm9ncmFtcy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgTG95YWx0eVByb2dyYW1Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbGV0ZSA9IHRoaXMuZGVsZXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgTG95YWx0eSBQcm9ncmFtLCByZXR1cm5zIExveWFsdHlQcm9ncmFtIF9pZCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7Q3JlYXRlTG95YWx0eVByb2dyYW1JbnB1dH0gbG95YWx0eV9wcm9ncmFtIC0gVGhlIExveWFsdHlQcm9ncmFtIG9iamVjdCBpbnB1dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eVByb2dyYW0gb2JqZWN0XG4gICAqL1xuICBjcmVhdGUobG95YWx0eV9wcm9ncmFtOiBDcmVhdGVMb3lhbHR5UHJvZ3JhbUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkbG95YWx0eV9wcm9ncmFtOiBDcmVhdGVMb3lhbHR5UHJvZ3JhbUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVMb3lhbHR5UHJvZ3JhbShsb3lhbHR5X3Byb2dyYW06ICRsb3lhbHR5X3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGxveWFsdHlfcHJvZ3JhbVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVMb3lhbHR5UHJvZ3JhbS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIExveWFsdHkgUHJvZ3JhbSwgcmV0dXJucyBMb3lhbHR5UHJvZ3JhbSBfaWQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBJRCBvZiB0aGUgTG95YWx0eVByb2dyYW0gb2JqZWN0IHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0ge1VwZGF0ZUxveWFsdHlQcm9ncmFtSW5wdXR9IGxveWFsdHlfcHJvZ3JhbSAtIFRoZSBMb3lhbHR5UHJvZ3JhbSB1cGRhdGUgb2JqZWN0IGlucHV0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBMb3lhbHR5UHJvZ3JhbSBvYmplY3RcbiAgICovXG4gIHVwZGF0ZShcbiAgICBpZDogc3RyaW5nLFxuICAgIGxveWFsdHlfcHJvZ3JhbTogVXBkYXRlTG95YWx0eVByb2dyYW1JbnB1dFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDpTdHJpbmchLCAkbG95YWx0eV9wcm9ncmFtOiBVcGRhdGVMb3lhbHR5UHJvZ3JhbUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVMb3lhbHR5UHJvZ3JhbShpZDokaWQsIGxveWFsdHlfcHJvZ3JhbTogJGxveWFsdHlfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbG95YWx0eV9wcm9ncmFtXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZUxveWFsdHlQcm9ncmFtLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBMb3lhbHR5IFByb2dyYW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBMb3lhbHR5IFByb2dyYW1cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBSZXR1cm4gc3RyaW5nXG4gICAqL1xuICBkZWxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxveWFsdHlQcm9ncmFtKGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZUxveWFsdHlQcm9ncmFtKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBNb2RpZmllciB9IGZyb20gXCIuL01vZGlmaWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tIFwiLi9DYXRlZ29yeUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEZsYXNoU2FsZUl0ZW0gfSBmcm9tIFwiLi9GbGFzaFNhbGVDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlTWVudUl0ZW1JbnB1dCB7XG4gIG5hbWU6IHN0cmluZztcbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuICBpbWFnZXM6IEFycmF5PHN0cmluZz47XG4gIGNhbG9yaWVzOiBudW1iZXI7XG4gIHRhZ3M6IEFycmF5PFRhZ0lucHV0PjtcbiAgaW5ncmVkaWVudHM6IEFycmF5PFRhZ0lucHV0PjtcbiAgZmVlczogQXJyYXk8RmVlSW5wdXQ+O1xuICByZWN5Y2xlX2luZm86IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgZGFpbHlfc3BlY2lhbF9kYXk/OiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIG9yaWdpbmFsX3ByaWNlOiBudW1iZXI7XG4gIHN0YXR1czogc3RyaW5nO1xuICB3YXJuaW5nX2xhYmVsPzogc3RyaW5nO1xuICBjYXRlZ29yeV9pZDogc3RyaW5nO1xuICBzb3J0X29yZGVyPzogbnVtYmVyO1xuICBlc3RpbWF0ZWRfdGltZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVGFnSW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVGFnIHtcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRmVlSW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGZlZV90eXBlOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBGZWUge1xuICBuYW1lPzogc3RyaW5nO1xuICBmZWVfdHlwZT86IHN0cmluZztcbiAgYW1vdW50PzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBNZW51SXRlbUNvbW1vblByb3BlcnRpZXMge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBpbWFnZXM/OiBBcnJheTxzdHJpbmc+O1xuICBjYWxvcmllcz86IG51bWJlcjtcbiAgcmVjeWNsZV9pbmZvPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZGFpbHlfc3BlY2lhbF9kYXk/OiBzdHJpbmc7XG4gIHByaWNlPzogbnVtYmVyO1xuICBvcmlnaW5hbF9wcmljZT86IG51bWJlcjtcbiAgc3RhdHVzPzogc3RyaW5nO1xuICB3YXJuaW5nX2xhYmVsPzogc3RyaW5nO1xuICBzb3J0X29yZGVyPzogbnVtYmVyO1xuICBlc3RpbWF0ZWRfdGltZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTWVudUl0ZW1JbnB1dCBleHRlbmRzIE1lbnVJdGVtQ29tbW9uUHJvcGVydGllcyB7XG4gIHRhZ3M/OiBBcnJheTxUYWdJbnB1dD47XG4gIGluZ3JlZGllbnRzPzogQXJyYXk8VGFnSW5wdXQ+O1xuICBmZWVzPzogQXJyYXk8RmVlSW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBCYXRjaFVwZGF0ZU1lbnVJdGVtc0lucHV0IHtcbiAgaWQ6IHN0cmluZztcbiAgbWVudV9pdGVtOiBVcGRhdGVNZW51SXRlbUlucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBNZW51SXRlbSBleHRlbmRzIE1lbnVJdGVtQ29tbW9uUHJvcGVydGllcywgRGVmYXVsdENvbnRyb2xsZXIge1xuICBtb2RpZmllcnM/OiBBcnJheTxNb2RpZmllcj47XG4gIHRhZ3M/OiBBcnJheTxUYWc+O1xuICBpbmdyZWRpZW50cz86IEFycmF5PFRhZz47XG4gIGZlZXM/OiBBcnJheTxGZWU+O1xuICBjYXRlZ29yeT86IENhdGVnb3J5O1xuICBmbGFzaF9zYWxlX2luZm8/OiBGbGFzaFNhbGVJdGVtO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBtZW51IGl0ZW1zLlxuICovXG5cbmV4cG9ydCBjbGFzcyBNZW51SXRlbUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmJhdGNoVXBkYXRlID0gdGhpcy5iYXRjaFVwZGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1lbnVJdGVtLCByZXR1cm5zIE1lbnVJdGVtIF9pZCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7Q3JlYXRlTWVudUl0ZW1JbnB1dH0gbWVudV9pdGVtIC0gVGhlIE1lbnVJdGVtIG9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gb2JqZWN0XG4gICAqL1xuICBjcmVhdGUobWVudV9pdGVtOiBDcmVhdGVNZW51SXRlbUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZU1lbnVJdGVtTXV0YXRpb24gKCRtZW51X2l0ZW06IENyZWF0ZU1lbnVJdGVtSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1lbnVJdGVtKG1lbnVfaXRlbTogJG1lbnVfaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgbWVudV9pdGVtXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZU1lbnVJdGVtLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgTWVudUl0ZW0gYmFzZWQgb24gZ2l2ZW4gSUQvbWVudV9pdGVtLCByZXR1cm5zIF9pZCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gT2JqZWN0XG4gICAqIEBwYXJhbSB7VXBkYXRlTWVudUl0ZW1JbnB1dH0gbWVudV9pdGVtIC0gVGhlIE1lbnVJdGVtIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gb2JqZWN0XG4gICAqL1xuICB1cGRhdGUoaWQ6IHN0cmluZywgbWVudV9pdGVtOiBVcGRhdGVNZW51SXRlbUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZU1lbnVJdGVtTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJG1lbnVfaXRlbTogVXBkYXRlTWVudUl0ZW1JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWVudUl0ZW0oaWQ6ICRpZCwgbWVudV9pdGVtOiAkbWVudV9pdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZW51X2l0ZW1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlTWVudUl0ZW0uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhdGNoIHVwZGF0ZSBhIGxpc3Qgb2YgbWVudSBpdGVtcy5cbiAgICogQHBhcmFtIHtBcnJheTxCYXRjaFVwZGF0ZU1lbnVJdGVtc0lucHV0Pn0gbWVudV9pdGVtcyBMaXN0IG9mIEJhdGNoVXBkYXRlTWVudUl0ZW1zSW5wdXRcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8TWVudUl0ZW0+Pn0gTGlzdCBvZiBtZW51IGl0ZW1zIHdpdGggX2lkIGZpZWxkXG4gICAqL1xuICBiYXRjaFVwZGF0ZShcbiAgICBtZW51X2l0ZW1zOiBBcnJheTxCYXRjaFVwZGF0ZU1lbnVJdGVtc0lucHV0PlxuICApOiBQcm9taXNlPEFycmF5PE1lbnVJdGVtPj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gYmF0Y2hVcGRhdGVNZW51SXRlbXMgKCRtZW51X2l0ZW1zOiBbQmF0Y2hVcGRhdGVNZW51SXRlbXNJbnB1dF0hKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoVXBkYXRlTWVudUl0ZW1zKG1lbnVfaXRlbXM6ICRtZW51X2l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBtZW51X2l0ZW1zXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmJhdGNoVXBkYXRlTWVudUl0ZW1zKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIE1lbnVJdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gb2JqZWN0XG4gICAqL1xuICAvL1FVRVNUSU9OIGNvcnJlY3QgdXNhZ2Ugb2Ygdm9pZD9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZU1lbnVJdGVtTXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVNZW51SXRlbShpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNb2RpZmllckNob2ljZUlucHV0IHtcbiAgbmFtZTogc3RyaW5nO1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG4gIGF2YWlsYWJsZTogYm9vbGVhbjtcbiAgcHJpY2U6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTW9kaWZpZXJDaG9pY2Uge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBhdmFpbGFibGU/OiBib29sZWFuO1xuICBwcmljZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTW9kaWZpZXJDb21tb25Qcm9wZXJ0aWVzIHtcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgZGVmYXVsdD86IHN0cmluZztcbiAgZGVmYXVsdF9jaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgaXNfdG9wcGluZz86IGJvb2xlYW47XG4gIG1heF9jaG9pY2U/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU1vZGlmaWVySW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcmVxdWlyZWQ6IGJvb2xlYW47XG4gIGNob2ljZXM6IEFycmF5PE1vZGlmaWVyQ2hvaWNlSW5wdXQ+O1xuICBkZWZhdWx0Pzogc3RyaW5nO1xuICBkZWZhdWx0X2Nob2ljZXM6IEFycmF5PHN0cmluZz47XG4gIG1lbnVfaXRlbV9pZDogc3RyaW5nO1xuICBpc190b3BwaW5nOiBib29sZWFuO1xuICBtYXhfY2hvaWNlPzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVNb2RpZmllcklucHV0IGV4dGVuZHMgTW9kaWZpZXJDb21tb25Qcm9wZXJ0aWVzIHtcbiAgY2hvaWNlcz86IEFycmF5PE1vZGlmaWVyQ2hvaWNlSW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBNb2RpZmllciBleHRlbmRzIE1vZGlmaWVyQ29tbW9uUHJvcGVydGllcywgRGVmYXVsdENvbnRyb2xsZXIge1xuICBjaG9pY2VzPzogQXJyYXk8TW9kaWZpZXJDaG9pY2U+O1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBtb2RpZmllcnMuXG4gKi9cblxuZXhwb3J0IGNsYXNzIE1vZGlmaWVyQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1vZGlmaWVyXG4gICAqIEBwYXJhbSB7Q3JlYXRlTW9kaWZpZXJJbnB1dH0gbW9kaWZpZXIgLSBUaGUgTW9kaWZpZXIgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBNb2RpZmllciBPYmplY3RcbiAgICovXG4gIGNyZWF0ZShtb2RpZmllcjogQ3JlYXRlTW9kaWZpZXJJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVNb2RpZmllciAoJG1vZGlmaWVyOiBDcmVhdGVNb2RpZmllcklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNb2RpZmllcihtb2RpZmllcjogJG1vZGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBtb2RpZmllclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVNb2RpZmllci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIE1vZGlmaWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTW9kaWZpZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7VXBkYXRlTW9kaWZpZXJJbnB1dH0gbW9kaWZpZXIgLSBUaGUgTW9kaWZpZXIgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBNb2RpZmllciBPYmplY3RcbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBtb2RpZmllcjogVXBkYXRlTW9kaWZpZXJJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiB1cGRhdGVNb2RpZmllciAoJGlkOiBTdHJpbmchLCAkbW9kaWZpZXI6IFVwZGF0ZU1vZGlmaWVySW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGlmaWVyKGlkOiAkaWQsIG1vZGlmaWVyOiAkbW9kaWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIG1vZGlmaWVyXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZU1vZGlmaWVyLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYW4gZXhpc3RpbmcgTW9kaWZpZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBNb2RpZmllciBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICAvL1FVRVNUSU9OIGNvcnJlY3QgdXNhZ2Ugb2Ygdm9pZD9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZU1vZGlmaWVyICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTW9kaWZpZXIoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi9DdXN0b21lckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFN1cnZleSwgU3VydmV5UmVzcG9uc2UgfSBmcm9tIFwiLi9TdXJ2ZXlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBUaXAgfSBmcm9tIFwiLi9UaXBDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDYXRlZ29yeSB9IGZyb20gXCIuL0NhdGVnb3J5Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgVGFnLCBGZWUgfSBmcm9tIFwiLi9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1vZGlmaWVyQ2hvaWNlIH0gZnJvbSBcIi4vTW9kaWZpZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuXG5leHBvcnQgZW51bSBPcmRlclR5cGUge1xuICBFQVRfSU4gPSBcIkVBVF9JTlwiLFxuICBUQUtFX09VVCA9IFwiVEFLRV9PVVRcIixcbiAgREVMSVZFUlkgPSBcIkRFTElWRVJZXCJcbn1cbmV4cG9ydCBlbnVtIE9yZGVyQ2FuY2VsbGF0aW9uUmVhc29uIHtcbiAgVkVORE9SX0NBTkNFTExFRCA9IFwiVkVORE9SX0NBTkNFTExFRFwiLFxuICBWRU5ET1JfUFJFUF9DQU5DRUxMRUQgPSBcIlZFTkRPUl9QUkVQX0NBTkNFTExFRFwiLFxuICBWRU5ET1JfSVRFTV9TT0xEX09VVCA9IFwiVkVORE9SX0lURU1fU09MRF9PVVRcIixcbiAgVkVORE9SX1NUT1JFX0NMT1NJTkdfU09PTiA9IFwiVkVORE9SX1NUT1JFX0NMT1NJTkdfU09PTlwiLFxuICBDVVNUT01FUl9OT1RfUElDS0VEX1VQID0gXCJDVVNUT01FUl9OT1RfUElDS0VEX1VQXCIsXG4gIENVU1RPTUVSX0NBTkNFTExFRCA9IFwiQ1VTVE9NRVJfQ0FOQ0VMTEVEXCIsXG4gIE9USEVSID0gXCJPVEhFUlwiXG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9yZGVyTW9kaWZpZXJJbnB1dCB7XG4gIG1vZGlmaWVyX2lkOiBzdHJpbmc7XG4gIGNob2ljZXM6IEFycmF5PHN0cmluZz47XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9yZGVyc0l0ZW1zSW5wdXQge1xuICBpdGVtX2lkOiBzdHJpbmc7XG4gIG1vZGlmaWVyczogQXJyYXk8Q3JlYXRlT3JkZXJNb2RpZmllcklucHV0Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlT3JkZXJJbnB1dCB7XG4gIHZlbmRvcl9pZDogc3RyaW5nO1xuICBwYXltZW50X21ldGhvZDogc3RyaW5nO1xuICBpdGVtczogQXJyYXk8Q3JlYXRlT3JkZXJzSXRlbXNJbnB1dD47XG4gIG5vdGU/OiBzdHJpbmc7XG4gIGNvdXBvbnM/OiBBcnJheTxzdHJpbmc+O1xuICBzY2hlZHVsZWRfcGlja3VwOiBzdHJpbmc7XG4gIG9yZGVyX3R5cGU/OiBPcmRlclR5cGU7IC8vIGRlZmF1bHQgVEFLRV9PVVRcbn1cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJNb2RpZmllciB7XG4gIF9pZD86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGNob2ljZXM/OiBNb2RpZmllckNob2ljZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJJdGVtIHtcbiAgX2lkPzogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBjYXRlZ29yeT86IENhdGVnb3J5O1xuICB0YWdzPzogVGFnO1xuICByZWN5Y2xlX2luZm8/OiBzdHJpbmc7XG4gIHByaWNlPzogbnVtYmVyO1xuICBmZWVzPzogRmVlO1xuICBlc3RpbWF0ZWRfdGltZT86IG51bWJlcjtcbiAgbW9kaWZpZXJzPzogT3JkZXJNb2RpZmllcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNhY3Rpb25EYXRhIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIGFtb3VudD86IG51bWJlcjtcbiAgY2FwdHVyZWQ/OiBib29sZWFuO1xuICBjcmVhdGVkPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2FjdGlvbiB7XG4gIF9pZD86IHN0cmluZztcbiAgZGF0YT86IFRyYW5zYWN0aW9uRGF0YTtcbiAgc3RhdHVzPzogc3RyaW5nO1xuICByZWZ1bmQ/OiBSZWZ1bmQ7XG4gIGNoYXJnZV90eXBlPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZWZ1bmQge1xuICBpZD86IHN0cmluZztcbiAgYW1vdW50PzogbnVtYmVyO1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIGNyZWF0ZWQ/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyU3RhdHVzIHtcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgZGF0YT86IHN0cmluZztcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXIgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGl0ZW1zPzogQXJyYXk8T3JkZXJJdGVtPjtcbiAgdHJhbnNhY3Rpb25zPzogQXJyYXk8VHJhbnNhY3Rpb24+O1xuICBjdXN0b21lcj86IEN1c3RvbWVyO1xuICB2ZW5kb3I/OiBWZW5kb3I7XG4gIHN1YnRvdGFsPzogbnVtYmVyO1xuICB0b3RhbD86IG51bWJlcjtcbiAgbm90ZT86IHN0cmluZztcbiAgcGF5bWVudF9tZXRob2Q/OiBzdHJpbmc7XG4gIHN0YXR1c19oaXN0b3J5PzogQXJyYXk8T3JkZXJTdGF0dXM+O1xuICBzY2hlZHVsZWRfcGlja3VwPzogc3RyaW5nO1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIGNhbmNlbF9yZWFzb24/OiBPcmRlckNhbmNlbGxhdGlvblJlYXNvbjtcbiAgY2FuY2VsX2Rlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBzZXR0bGVkX2F0Pzogc3RyaW5nO1xuICBwcmVwYXJpbmdfYXQ/OiBzdHJpbmc7XG4gIGVzdGltYXRlZF9wcmVwYXJpbmdfc2VjPzogbnVtYmVyO1xuICBhdGFjaGVkX3N1cnZleT86IFN1cnZleTtcbiAgYXR0YWNoZWRfc3VydmV5X3Jlc3BvbnNlPzogU3VydmV5UmVzcG9uc2U7XG4gIHRpcD86IFRpcDtcbiAgb3JkZXJfdHlwZT86IE9yZGVyVHlwZTtcbiAgZGlzY291bnQ/OiBudW1iZXI7XG59XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIG9yZGVycy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgT3JkZXJDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2FuY2VsID0gdGhpcy5jYW5jZWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLmJlZ2luUHJlcGFyaW5nID0gdGhpcy5iZWdpblByZXBhcmluZy5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJlcGFyZWQgPSB0aGlzLnByZXBhcmVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIFBsYWNlIGEgbmV3IG9yZGVyLCB5b3UgbXVzdCBiZSBhdXRoZW50aWNhdGVkIGFzIGEgY3VzdG9tZXIgdG8gdXNlIHRoaXNcbiAgICogQHBhcmFtIHtDcmVhdGVPcmRlcklucHV0fSBvcmRlciAtIFRoZSBPcmRlciBPYmplY3RcbiAgICogQHBhcmFtIHtib29sZWFufSBbZHJ5XSAtIEluZGljYXRvciBmb3IgZHJ5IG9yZGVyIHBsYWNlbWVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcl9jYXJ0XSAtIEluZGljYXRvciB0byBjbGVhciBhbGwgY2FydCBhZnRlciBvcmRlciBwbGFjZW1lbnRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIE9yZGVyIE9iamVjdFxuICAgKi9cbiAgY3JlYXRlKFxuICAgIG9yZGVyOiBDcmVhdGVPcmRlcklucHV0LFxuICAgIGRyeTogYm9vbGVhbiB8IG51bGwsIC8vIGRlZmF1bHQgRmFsc2VcbiAgICBjbGVhcl9jYXJ0OiBib29sZWFuIHwgbnVsbCAvLyBkZWZhdWx0IEZhbHNlXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVPcmRlck11dGF0aW9uICgkb3JkZXI6IENyZWF0ZU9yZGVySW5wdXQhLCAkZHJ5OiBCb29sZWFuLCAkY2xlYXJfY2FydDogQm9vbGVhbikge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVPcmRlcihvcmRlcjogJG9yZGVyLCBkcnk6ICRkcnksIGNsZWFyX2NhcnQ6ICRjbGVhcl9jYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBvcmRlcixcbiAgICAgICAgICBkcnksXG4gICAgICAgICAgY2xlYXJfY2FydFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVPcmRlci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLy9RVUVTVElPTiBiZWNhdXNlIG9ubHkgcmVzdWx0IGlzIHJldHVybmVkIEkgY2FuJ3QgYmUgbW9yZSBzcGVjaWZpYyB0aGFuIE11dGF0ZVJlc3VsdFxuICAvLyBVc3VhbGx5IGl0IGlzIHJlc3VsdC5bbXV0YXRpb24gbmFtZV0gYW5kIHRoZW4gaXQgaXMgbW9yZSBzcGVjaWZpYyB3aGF0IGlzIHdpdGhpbiB0aGUgcmVzdWx0XG4gIC8qKlxuICAgKiBDYW5jZWwgYSBvcmRlciwgbXVzdCBiZSBhdXRoZW50aWNhdGVkIGFzIHZlbmRvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIE9yZGVyIE9iamVjdFxuICAgKiBAcGFyYW0ge09yZGVyQ2FuY2VsbGF0aW9uUmVhc29ufSByZWFzb24gLSBpbnB1dCB0eXBlIE9yZGVyQ2FuY2VsbGF0aW9uUmVhc29uIGVudW0gaW5kaWNhdGluZyByZWFzb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGRlc2NyaXB0aW9uIC0gQWRkaXRpb25hbCBkZXRhaWxzIG9uIG9yZGVyIGNhbmNlbGxhdGlvblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRhdGVSZXN1bHQ+fVxuICAgKi9cbiAgY2FuY2VsKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcmVhc29uOiBPcmRlckNhbmNlbGxhdGlvblJlYXNvbixcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPE11dGF0ZVJlc3VsdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY2FuY2VsT3JkZXJNdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkcmVhc29uOiBPcmRlckNhbmNlbGxhdGlvblJlYXNvbiEsICRkZXNjcmlwdGlvbjogU3RyaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsT3JkZXIoaWQ6ICRpZCwgcmVhc29uOiAkcmVhc29uLCBkZXNjcmlwdGlvbjogJGRlc2NyaXB0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBvcmRlciBhcyBwcmVwYXJpbmcgd2l0aCBlc3RpbWF0ZWQgdGltZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIE9yZGVyIE9iamVjdFxuICAgKiBAcGFyYW0ge251bWJlcn0gZXN0aW1hdGVkX3ByZXBhcmluZ19zZWMgLSBUaGUgYW1vdW50IG9mIHRpbWUgdGhlIE9yZGVyIHdpbGwgdGFrZSBiZWZvcmUgaXQgd2lsbCBiZSBwcmVwYXJlZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRhdGVSZXN1bHQ+fVxuICAgKi9cbiAgYmVnaW5QcmVwYXJpbmcoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBlc3RpbWF0ZWRfcHJlcGFyaW5nX3NlYzogbnVtYmVyXG4gICk6IFByb21pc2U8TXV0YXRlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBiZWdpblByZXBhcmluZ09yZGVyKCRpZDogU3RyaW5nISwgJGVzdGltYXRlZF9wcmVwYXJpbmdfc2VjOiBJbnQhKXtcbiAgICAgICAgICAgICAgICAgICAgYmVnaW5QcmVwYXJpbmdPcmRlcihpZDogJGlkLCBlc3RpbWF0ZWRfcHJlcGFyaW5nX3NlYzogJGVzdGltYXRlZF9wcmVwYXJpbmdfc2VjKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGVzdGltYXRlZF9wcmVwYXJpbmdfc2VjXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvcmRlciBhcyBwcmVwYXJlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIE9yZGVyIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRhdGVSZXN1bHQ+fVxuICAgKi9cbiAgcHJlcGFyZWQoaWQ6IHN0cmluZyk6IFByb21pc2U8TXV0YXRlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBwcmVwYXJlZE9yZGVyTXV0YXRpb24gKCRpZDogU3RyaW5nISl7XG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVkT3JkZXIgKGlkOiAkaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGxldGUgYW4gb3JkZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBPcmRlciBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8TXV0YXRlUmVzdWx0Pn1cbiAgICovXG4gIGNvbXBsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPE11dGF0ZVJlc3VsdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY29tcGxldGVPcmRlck11dGF0aW9uICgkaWQ6IFN0cmluZyEpe1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZU9yZGVyKGlkOiAkaWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yIH0gZnJvbSBcIi4vVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiLi9PcmRlckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBlbnVtIFBheW91dE1ldGhvZCB7XG4gIE1BTlVBTCA9IFwiTUFOVUFMXCJcbn1cbmV4cG9ydCBlbnVtIFBheW91dFN0YXR1cyB7XG4gIFBFTkRJTkcgPSBcIlBFTkRJTkdcIixcbiAgSU5fVFJBTlNJVCA9IFwiSU5fVFJBTlNJVFwiLFxuICBQQUlEID0gXCJQQUlEXCIsXG4gIENBTkNFTExFRCA9IFwiQ0FOQ0VMTEVEXCJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUGF5b3V0UGxhbiB7XG4gIGZpeGVkX3Blcl90cmFuc2FjdGlvbj86IG51bWJlcjtcbiAgcGVyZWNlbnRhZ2VfcGVyX3RyYW5zYWN0aW9uPzogbnVtYmVyO1xuICBmaXhlZF9wZXJfcGF5b3V0PzogbnVtYmVyO1xuICBwZXJjZW50YWdlX3Blcl9wYXlvdXQ/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVBheW91dElucHV0IHtcbiAgb3JkZXJzPzogQXJyYXk8c3RyaW5nPjtcbiAgc2VydmljZV9jaGFyZ2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgbm90ZT86IHN0cmluZztcbiAgbWV0aG9kPzogUGF5b3V0TWV0aG9kOyAvLyBkZWZhdWx0IE1BTlVBTFxuICBzdGF0dXM/OiBQYXlvdXRTdGF0dXM7IC8vIGRlZmF1bHQgUEVORElOR1xufVxuZXhwb3J0IGVudW0gU2VydmljZUNoYXJnZVR5cGUge1xuICBDUkVESVQgPSBcIkNSRURJVFwiLFxuICBERUJJVCA9IFwiREVCSVRcIlxufVxuZXhwb3J0IGVudW0gU2VydmljZUNoYXJnZVJlYXNvbiB7XG4gIE9SREVSX1RSQU5TQUNUSU9OX0ZFRSA9IFwiT1JERVJfVFJBTlNBQ1RJT05fRkVFXCIsXG4gIFBBWU9VVF9SRVFVRVNUX0ZFRSA9IFwiUEFZT1VUX1JFUVVFU1RfRkVFXCIsXG4gIE9USEVSID0gXCJPVEhFUlwiLFxuICBPVEhFUl9UQVhBQkxFID0gXCJPVEhFUl9UQVhBQkxFXCIsXG4gIFRBWCA9IFwiVEFYXCJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2VydmljZUNoYXJnZSBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgdmVuZG9yX2lkPzogc3RyaW5nO1xuICBhbW91bnQ6IG51bWJlcjtcbiAgdHlwZTogU2VydmljZUNoYXJnZVR5cGU7XG4gIHJlYXNvbjogU2VydmljZUNoYXJnZVJlYXNvbjtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHNldHRsZWRfYXQ/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFBheW91dCBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIHZlbmRvcj86IFZlbmRvcjtcbiAgdG90YWw/OiBudW1iZXI7XG4gIG9yZGVycz86IEFycmF5PE9yZGVyPjtcbiAgc2VydmljZV9jaGFyZ2VzPzogQXJyYXk8U2VydmljZUNoYXJnZT47XG4gIG5vdGU/OiBzdHJpbmc7XG4gIG1ldGhvZD86IHN0cmluZztcbiAgc3RhdHVzPzogc3RyaW5nO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIHJlbGF0ZWQgdG8gcGF5b3V0c1xuICovXG5cbmV4cG9ydCBjbGFzcyBQYXlvdXRDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5yZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2FuY2VsID0gdGhpcy5jYW5jZWwuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwYXlvdXQgcmVxdWVzdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmVuZG9yX2lkIC0gVmVuZG9yIElEXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZHJ5IC0gRHJ5IHJ1biBvciBub3RcbiAgICogQHJldHVybnMge1Byb21pc2U8UGF5b3V0Pn1cbiAgICovXG4gIHJlcXVlc3QoXG4gICAgdmVuZG9yX2lkOiBzdHJpbmcsXG4gICAgZHJ5OiBib29sZWFuIHwgbnVsbCAvLyBkZWZhdWx0IEZhbHNlXG4gICk6IFByb21pc2U8UGF5b3V0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJHZlbmRvcl9pZDogU3RyaW5nISwgJGRyeTogQm9vbGVhbikge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGF5b3V0KHZlbmRvcl9pZDogJHZlbmRvcl9pZCwgZHJ5OiAkZHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdmVuZG9yX2lkLFxuICAgICAgICAgIGRyeVxuICAgICAgICB9KVxuICAgICAgICAvL1FVRVNUSU9OIG9ubHkgX2lkIGFuZCB0b3RhbCB3aWxsIGJlIGFjY2Vzc2libGUgaXMgdGhpcyB0aGUgZXhwZWN0ZWQgYmVoYXZpb3VyXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlcXVlc3RQYXlvdXQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIHBlbmRpbmcgcGF5b3V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFBheW91dCBJRFxuICAgKiBAcGFyYW0ge1VwZGF0ZVBheW91dElucHV0fSBwYXlvdXQgLSBVcGRhdGVkIHBheW91dCBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBwYXlvdXQ6IFVwZGF0ZVBheW91dElucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRwYXlvdXQ6VXBkYXRlUGF5b3V0SW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBheW91dChpZDogJGlkLCBwYXlvdXQ6ICRwYXlvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHBheW91dFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVQYXlvdXQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCBhIFBheW91dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBQYXlvdXQgSURcbiAgICogQHJldHVybnMge1Byb21pc2U8UGF5b3V0Pn1cbiAgICovXG4gIGNhbmNlbChpZDogc3RyaW5nKTogUHJvbWlzZTxQYXlvdXQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsUGF5b3V0KGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNhbmNlbFBheW91dCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTG95YWx0eVByb2dyYW0gfSBmcm9tIFwiLi9Mb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUmVkZWVtYWJsZUl0ZW1JbnB1dCB7XG4gIGxveWFsdHlfcHJvZ3JhbV9pZDogc3RyaW5nO1xuICBtZW51X2l0ZW1faWQ6IHN0cmluZztcbiAgcG9pbnRzX3JlcXVpcmVkOiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVJlZGVlbWFibGVJdGVtSW5wdXQge1xuICBwb2ludHNfcmVxdWlyZWQ/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlZGVlbWFibGVJdGVtIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICBtZW51X2l0ZW0/OiBNZW51SXRlbTtcbiAgcG9pbnRzX3JlcXVpcmVkPzogbnVtYmVyO1xuICBsb3lhbHlfcHJvZ3JhbT86IExveWFsdHlQcm9ncmFtO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciByZWRlZW1hYmxlIGl0ZW1zLlxuICovXG5cbmV4cG9ydCBjbGFzcyBSZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBSZWRlZW1hYmxlIEl0ZW0sIHJldHVybnMgUmVkZWVtYWJsZUl0ZW0gX2lkIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtDcmVhdGVSZWRlZW1hYmxlSXRlbUlucHV0fSByZWRlZW1hYmxlX2l0ZW0gLSBUaGUgUmVkZWVtYWJsZUl0ZW0gb2JqZWN0IGlucHV0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBSZWRlZW1hYmxlSXRlbSBvYmplY3RcbiAgICovXG4gIGNyZWF0ZShyZWRlZW1hYmxlX2l0ZW06IENyZWF0ZVJlZGVlbWFibGVJdGVtSW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlUmVkZWVtYWJsZUl0ZW0gKCRyZWRlZW1hYmxlX2l0ZW06IENyZWF0ZVJlZGVlbWFibGVJdGVtSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlZGVlbWFibGVJdGVtKHJlZGVlbWFibGVfaXRlbTogJHJlZGVlbWFibGVfaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgcmVkZWVtYWJsZV9pdGVtXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZVJlZGVlbWFibGVJdGVtLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgUmVkZWVtYWJsZUl0ZW0sIHJldHVybnMgUmVkZWVtYWJsZUl0ZW0gX2lkIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gSUQgb2YgdGhlIFJlZGVlbWFibGVJdGVtIG9iamVjdCB0byB1cGRhdGVcbiAgICogQHBhcmFtIHtVcGRhdGVSZWRlZW1hYmxlSXRlbUlucHV0fSByZWRlZW1hYmxlX2l0ZW0gLSBUaGUgUmVkZWVtYWJsZUl0ZW0gdXBkYXRlIG9iamVjdCBpbnB1dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgUmVkZWVtYWJsZUl0ZW0gb2JqZWN0XG4gICAqL1xuICB1cGRhdGUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICByZWRlZW1hYmxlX2l0ZW06IFVwZGF0ZVJlZGVlbWFibGVJdGVtSW5wdXRcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6U3RyaW5nISwgJHJlZGVlbWFibGVfaXRlbTogVXBkYXRlUmVkZWVtYWJsZUl0ZW1JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUmVkZWVtYWJsZUl0ZW0oaWQ6ICRpZCwgcmVkZWVtYWJsZV9pdGVtOiAkcmVkZWVtYWJsZV9pdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICByZWRlZW1hYmxlX2l0ZW1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlUmVkZWVtYWJsZUl0ZW0uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIFJlZGVlbWFibGVJdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgUmVkZWVtYWJsZUl0ZW1cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBSZXR1cm4gc3RyaW5nXG4gICAqL1xuICBkZWxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlZGVlbWFibGVJdGVtKGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZVJlZGVlbWFibGVJdGVtKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlclJlcXVpcmVkIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVSYXdDb25maWd1cmF0aW9uSW5wdXQge1xuICBuYW1lPzogc3RyaW5nO1xuICB2ZXJzaW9uX21hc2s/OiBzdHJpbmc7XG4gIGRhdGE/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVJhd0NvbmZpZ3VyYXRpb25JbnB1dCB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmVyc2lvbl9tYXNrOiBzdHJpbmc7XG4gIGRhdGE6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmF3Q29uZmlndXJhdGlvblxuICBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyUmVxdWlyZWQsXG4gICAgQ3JlYXRlUmF3Q29uZmlndXJhdGlvbklucHV0IHt9XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIHJlbW90ZSBjb25maWd1cmF0aW9uLlxuICovXG5cbmV4cG9ydCBjbGFzcyBSZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuZmV0Y2ggPSB0aGlzLmZldGNoLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGVSYXdDb25maWd1cmF0aW9uID0gdGhpcy5kZWxldGVSYXdDb25maWd1cmF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGVSYXdDb25maWd1cmF0aW9uID0gdGhpcy51cGRhdGVSYXdDb25maWd1cmF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGVSYXdDb25maWd1cmF0aW9uID0gdGhpcy5jcmVhdGVSYXdDb25maWd1cmF0aW9uLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8vUVVFU1RJT04gaXMgaXQgY29ycmVjdCB0byB1c2UgSlNPTiB0eXBlIGhlcmVcbiAgZmV0Y2gobmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBzdHJpbmcpOiBQcm9taXNlPEpTT04+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIHF1ZXJ5ICgkbmFtZTogU3RyaW5nISwgJHZlcnNpb246IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkX2NvbmZpZ3VyYXRpb24obmFtZTogJG5hbWUsIHZlcnNpb246ICR2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAvL1FVRVNUSU9OIHRoaXMgaXMgYSBtdXRhdGUgY2FsbCBidXQgdGhlIG11dGF0aW9uIHN0cmluZyBhYm92ZSBpcyBhIHF1ZXJ5LCBzaG91bGQgYmUgYSBxdWVyeSBjYWxsXG4gICAgICAgIC8vIEkgY2FuIG5vdCBjaGFuZ2UgaXQgcmlnaHQgbm93IGJlY2F1c2UgSSBkbyBub3Qga25vdyB3aGF0IHVzaW5nIGl0LCBzbyBJIGhhdmUgYWRkZWQgYSBub3RlIGluIHRoZVxuICAgICAgICAvLyBNdXRhdGVSZXN1bHQgaW50ZXJmYWNlXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIHZlcnNpb25cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKHJlc3VsdC5tZXJnZWRfY29uZmlndXJhdGlvbi5kYXRhKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZVJhd0NvbmZpZ3VyYXRpb24oaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJhd0NvbmZpZ3VyYXRpb24oaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlUmF3Q29uZmlndXJhdGlvbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24oXG4gICAgaWQ6IHN0cmluZyxcbiAgICByYXdDb25maWd1cmF0aW9uOiBVcGRhdGVSYXdDb25maWd1cmF0aW9uSW5wdXRcbiAgKTogUHJvbWlzZTxSYXdDb25maWd1cmF0aW9uPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkcmF3Q29uZmlndXJhdGlvbjogVXBkYXRlUmF3Q29uZmlndXJhdGlvbklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSYXdDb25maWd1cmF0aW9uKGlkOiAkaWQsIHJhd19jb25maWd1cmF0aW9uOiAkcmF3Q29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgcmF3Q29uZmlndXJhdGlvblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVSYXdDb25maWd1cmF0aW9uKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlUmF3Q29uZmlndXJhdGlvbihcbiAgICByYXdDb25maWd1cmF0aW9uOiBDcmVhdGVSYXdDb25maWd1cmF0aW9uSW5wdXRcbiAgKTogUHJvbWlzZTxSYXdDb25maWd1cmF0aW9uPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJHJhd0NvbmZpZ3VyYXRpb246IENyZWF0ZVJhd0NvbmZpZ3VyYXRpb25JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmF3Q29uZmlndXJhdGlvbihyYXdfY29uZmlndXJhdGlvbjogJHJhd0NvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIHJhd0NvbmZpZ3VyYXRpb25cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlUmF3Q29uZmlndXJhdGlvbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4vQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL09yZGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGVudW0gU3VydmV5UXVlc3Rpb25UeXBlIHtcbiAgQ0hFQ0tCT1ggPSBcIkNIRUNLQk9YXCIsXG4gIE1VTFRJX0NIRUNLQk9YID0gXCJNVUxUSV9DSEVDS0JPWFwiLFxuICBTSE9SVF9BTlNXRVIgPSBcIlNIT1JUX0FOU1dFUlwiLFxuICBSQVRJTkcgPSBcIlJBVElOR1wiXG59XG5leHBvcnQgZW51bSBTdXJ2ZXlEZWxpdmVyeVJ1bGUge1xuICBBRlRFUl9PUkRFUiA9IFwiQUZURVJfT1JERVJcIlxufVxuZXhwb3J0IGludGVyZmFjZSBTdXJ2ZXlRdWVzdGlvblJlc3BvbnNlIHtcbiAgX2lkOiBzdHJpbmc7XG4gIHF1ZXN0aW9uX2lkOiBzdHJpbmc7XG4gIGFuc3dlcjogQXJyYXk8c3RyaW5nPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3VydmV5UmVzcG9uc2UgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlclJlcXVpcmVkIHtcbiAgY3VzdG9tZXI6IEN1c3RvbWVyO1xuICByZXNwb25zZXM6IEFycmF5PFN1cnZleVF1ZXN0aW9uUmVzcG9uc2U+O1xuICBvcmRlcj86IE9yZGVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdXJ2ZXlRdWVzdGlvbiBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyUmVxdWlyZWQge1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcXVlc3Rpb25fdHlwZTogc3RyaW5nO1xuICBjaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgbWF4X3JhdGluZz86IG51bWJlcjtcbiAgcmVxdWlyZWQ6IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIFN1cnZleSBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyUmVxdWlyZWQge1xuICB2ZW5kb3JfaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcXVlc3Rpb25zOiBBcnJheTxTdXJ2ZXlRdWVzdGlvbj47XG4gIGRlbGl2ZXJ5X3J1bGU6IHN0cmluZztcbiAgbG95YWx0eV9yZXdhcmQ/OiBudW1iZXI7XG4gIHdhbGxldF9yZXdhcmQ/OiBudW1iZXI7XG4gIHJlc3BvbnNlcz86IEFycmF5PFN1cnZleVJlc3BvbnNlPjtcbiAgcmVsZWFzZWRfYXQ/OiBzdHJpbmc7XG4gIGFyY2hpdmVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1cnZleVF1ZXN0aW9uSW5wdXQge1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcXVlc3Rpb25fdHlwZTogU3VydmV5UXVlc3Rpb25UeXBlO1xuICBjaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgbWF4X3JhdGluZz86IG51bWJlcjtcbiAgcmVxdWlyZWQ/OiBib29sZWFuOyAvLyBkZWZhdWx0IEZhbHNlXG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVN1cnZleUlucHV0IHtcbiAgdGl0bGU6IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIHF1ZXN0aW9uczogQXJyYXk8U3VydmV5UXVlc3Rpb25JbnB1dD47XG4gIGRlbGl2ZXJ5X3J1bGU/OiBTdXJ2ZXlEZWxpdmVyeVJ1bGU7IC8vIGRlZmF1bHQgQUZURVJfT1JERVJcbiAgbG95YWx0eV9yZXdhcmQ/OiBudW1iZXI7XG4gIHdhbGxldF9yZXdhcmQ/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVN1cnZleUlucHV0IHtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHF1ZXN0aW9ucz86IEFycmF5PFN1cnZleVF1ZXN0aW9uSW5wdXQ+O1xuICBkZWxpdmVyeV9ydWxlPzogU3VydmV5RGVsaXZlcnlSdWxlO1xuICBsb3lhbHR5X3Jld2FyZD86IG51bWJlcjtcbiAgd2FsbGV0X3Jld2FyZD86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3VydmV5UXVlc3Rpb25SZXNwb25zZUlucHV0IHtcbiAgcXVlc3Rpb25faWQ6IHN0cmluZztcbiAgYW5zd2VyOiBBcnJheTxzdHJpbmc+O1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTdXJ2ZXlSZXNwb25zZUlucHV0IHtcbiAgY3VzdG9tZXJfaWQ6IHN0cmluZztcbiAgcmVzcG9uc2VzOiBBcnJheTxTdXJ2ZXlRdWVzdGlvblJlc3BvbnNlSW5wdXQ+O1xuICBvcmRlcl9pZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFN1cnZleUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXJjaGl2ZSA9IHRoaXMuYXJjaGl2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbGVhc2UgPSB0aGlzLnJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZVN1cnZleVJlc3BvbnNlID0gdGhpcy5jcmVhdGVTdXJ2ZXlSZXNwb25zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFN1cnZleSBhbmQgcmV0dXJuIHRoZSBJRCBvZiB0aGUgY3JlYXRlZCBvYmplY3QgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge0NyZWF0ZVN1cnZleUlucHV0fSBzdXJ2ZXkgLSBUaGUgU3VydmV5IE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgY3JlYXRlKHN1cnZleTogQ3JlYXRlU3VydmV5SW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRzdXJ2ZXk6IENyZWF0ZVN1cnZleUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTdXJ2ZXkoc3VydmV5OiAkc3VydmV5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBzdXJ2ZXlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlU3VydmV5Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBTdXJ2ZXkgYW5kIHJldHVybiB0aGUgSUQgb2YgdGhlIHVwZGF0ZWQgb2JqZWN0IGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBzdXJ2ZXkgdG8gYmUgbW9kaWZpZWRcbiAgICogQHBhcmFtIHtVcGRhdGVTdXJ2ZXlJbnB1dH0gc3VydmV5IC0gVGhlIE1vZGlmaWVkIFN1cnZleSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBzdXJ2ZXk6IFVwZGF0ZVN1cnZleUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRzdXJ2ZXk6IFVwZGF0ZVN1cnZleUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdXJ2ZXkoaWQ6ICRpZCwgc3VydmV5OiAkc3VydmV5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBzdXJ2ZXlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlU3VydmV5Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcmNoaXZlIGEgU3VydmV5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgU3VydmV5IE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdXJ2ZXk+fSAtIENvbmZpcm1hdGlvbiBTdHJpbmdcbiAgICovXG4gIGFyY2hpdmUoaWQ6IHN0cmluZyk6IFByb21pc2U8U3VydmV5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyY2hpdmVTdXJ2ZXkoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYXJjaGl2ZVN1cnZleSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBTdXJ2ZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBTdXJ2ZXkgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gQ29uZmlybWF0aW9uIFN0cmluZ1xuICAgKi9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVTdXJ2ZXkoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlU3VydmV5KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2UgYSBTdXJ2ZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBTdXJ2ZXkgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBTdXJ2ZXkgb2JqZWN0XG4gICAqL1xuICByZWxlYXNlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZWxlYXNlU3VydmV5KGlkOiAkaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlbGVhc2VTdXJ2ZXkuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFN1cnZleVJlc3BvbnNlIG9iamVjdCBmb3IgYSBTdXJ2ZXkgb2JqZWN0IGFuZCByZXR1cm5zIHRoZSBTdXJ2ZXlSZXNwb25zZSBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdXJ2ZXlfaWQgLSBUaGUgU3VydmV5IE9iamVjdCBJRFxuICAgKiBAcGFyYW0ge0NyZWF0ZVN1cnZleVJlc3BvbnNlSW5wdXR9IHN1cnZleV9yZXNwb25zZSAtIFRoZSBzdXJ2ZXkgcmVzcG9uc2Ugb2JqZWN0OyB0aGUgQ3JlYXRlU3VydmV5UmVzcG9uc2VJbnB1dCBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGNyZWF0ZVN1cnZleVJlc3BvbnNlKFxuICAgIHN1cnZleV9pZDogc3RyaW5nLFxuICAgIHN1cnZleV9yZXNwb25zZTogQ3JlYXRlU3VydmV5UmVzcG9uc2VJbnB1dFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRzdXJ2ZXlfaWQ6IFN0cmluZyEsICRzdXJ2ZXlfcmVzcG9uc2U6IENyZWF0ZVN1cnZleVJlc3BvbnNlSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVN1cnZleVJlc3BvbnNlKHN1cnZleV9pZDogJHN1cnZleV9pZCwgc3VydmV5X3Jlc3BvbnNlOiAkc3VydmV5X3Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBzdXJ2ZXlfaWQsXG4gICAgICAgICAgc3VydmV5X3Jlc3BvbnNlXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZVN1cnZleVJlc3BvbnNlLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL09yZGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUaXAgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGFtb3VudD86IG51bWJlcjtcbiAgb3JkZXI/OiBPcmRlcjtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBUaXBDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgdGlwXG4gICAqIEBwYXJhbSAge3N0cmluZ30gb3JkZXJfaWQgLSBJRCBvZiB0aGUgb3JkZXIgdGlwIGlzIGlzc3VlZCBmb3JcbiAgICogQHBhcmFtICB7bnVtYmVyfSBhbW91bnQgLSBUaXAgYW1vdW50IGluIGNlbnRzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gUmV0dXJucyB0aGUgaWQgb2YgdGhlIHRpcCBjcmVhdGVkXG4gICAqL1xuICAvL1FVRVNUSU9OIERlc2NyaXB0aW9uIGlzIG5vdCBpbiBtdXRhdGlvbiBidXQgaXQgaXMgYW4gb3B0aW9uYWwgZmllbGQgaW4gR1JBUEggUUxcbiAgY3JlYXRlKG9yZGVyX2lkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkb3JkZXJfaWQ6U3RyaW5nISwgJGFtb3VudDpJbnQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRpcChvcmRlcl9pZDokb3JkZXJfaWQsIGFtb3VudDokYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgIFxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIG9yZGVyX2lkLFxuICAgICAgICAgIGFtb3VudFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVUaXAuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBIdHRwTGluayB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0h0dHBMaW5rXCI7XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIHZhbGlkYXRpb24gc2VydmljZXMuXG4gKi9cbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmV4cG9ydCBjbGFzcyBWYWxpZGF0aW9uQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3VzdG9tZXJTaWdudXBFbWFpbCA9IHRoaXMuY3VzdG9tZXJTaWdudXBFbWFpbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY3VzdG9tZXJTaWdudXBQaG9uZSA9IHRoaXMuY3VzdG9tZXJTaWdudXBQaG9uZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgZ2V0SHR0cExpbmsoYXBwZW5kID0gXCJcIik6IEh0dHBMaW5rIHtcbiAgICByZXR1cm4gbmV3IEh0dHBMaW5rKFxuICAgICAgdGhpcy5hcHAuZ2V0Q29uZmlndXJhdGlvbigpLmVuZHBvaW50cy52YWxpZGF0aW9uRW5kcG9pbnQucHJvZHVjdGlvbiArXG4gICAgICAgIGFwcGVuZFxuICAgICk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBlbWFpbCBjYW4gYmUgdXNlZCBmb3IgY3VzdG9tZXIgYWNjb3VudCBjcmVhdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWwgLSBBbiBlbWFpbFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgY3VzdG9tZXJTaWdudXBFbWFpbChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGxpbmsgPSB0aGlzLmdldEh0dHBMaW5rKFwiL2N1c3RvbWVyL3NpZ251cC9lbWFpbFwiKTtcbiAgICAgIGxpbmtcbiAgICAgICAgLnBvc3Qoe1xuICAgICAgICAgIGRhdGE6IHsgZW1haWwgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YTogeyBkYXRhOiBhbnkgfSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwaG9uZSBudW1iZXIgY2FuIGJlIHVzZWQgZm9yIGN1c3RvbWVyIGFjY291bnQgY3JlYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBob25lIC0gVGhlIHBob25lIG51bWJlciB0byBzZW5kIHRoZSBjb2RlIHRvIChXaXRob3V0IENvdW50cnkgQ29kZSAmIG5vIHNwYWNlcy9zcGVjaWFsIGNoYXJhY3RlcnMpXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBjdXN0b21lclNpZ251cFBob25lKHBob25lOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbGluayA9IHRoaXMuZ2V0SHR0cExpbmsoXCIvY3VzdG9tZXIvc2lnbnVwL3Bob25lXCIpO1xuICAgICAgbGlua1xuICAgICAgICAucG9zdCh7XG4gICAgICAgICAgZGF0YTogeyBwaG9uZSB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhOiB7IGRhdGE6IGFueSB9KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgUGF5bWVudE1ldGhvZHNJbnB1dCxcbiAgUGF5bWVudE1ldGhvZHMsXG4gIENvdXBvblxufSBmcm9tIFwiLi9Db3Vwb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBUYWdJbnB1dCwgTWVudUl0ZW0sIFRhZyB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBFbXBsb3llZSB9IGZyb20gXCIuL0VtcGxveWVlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tIFwiLi9DYXRlZ29yeUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEhlYWRPZmZpY2UgfSBmcm9tIFwiLi9IZWFkT2ZmaWNlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUGF5b3V0UGxhbiwgUGF5b3V0IH0gZnJvbSBcIi4vUGF5b3V0Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgTG95YWx0eVByb2dyYW0gfSBmcm9tIFwiLi9Mb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEZsYXNoU2FsZSB9IGZyb20gXCIuL0ZsYXNoU2FsZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlSW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGVtYWlsX2FkZHJlc3M6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgcGxhbjogc3RyaW5nO1xufVxuZXhwb3J0IGVudW0gVmVuZG9yQXBwcm92YWxTdGF0dXMge1xuICBOT1RfQVBQUk9WRUQgPSBcIk5PVF9BUFBST1ZFRFwiLFxuICBQRU5ESU5HID0gXCJQRU5ESU5HXCIsXG4gIEFQUFJPVkVEID0gXCJBUFBST1ZFRFwiXG59XG5leHBvcnQgZW51bSBQYXlvdXRBdXRvUmVxdWVzdFNjaGVkdWxlIHtcbiAgT0ZGID0gXCJPRkZcIixcbiAgV0VFS0xZID0gXCJXRUVLTFlcIixcbiAgQklfV0VFS0xZID0gXCJCSV9XRUVLTFlcIixcbiAgTU9OVEhMWSA9IFwiTU9OVEhMWVwiXG59XG5leHBvcnQgaW50ZXJmYWNlIFZlbmRvckRhaWx5RGVhbHNNZW51IHtcbiAgbW9uZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xuICB0dWVzZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xuICB3ZWRuZXNkYXk/OiBBcnJheTxNZW51SXRlbT47XG4gIHRodXJzZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xuICBmcmlkYXk/OiBBcnJheTxNZW51SXRlbT47XG4gIHNhdHVyZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xuICBzdW5kYXk/OiBBcnJheTxNZW51SXRlbT47XG59XG5leHBvcnQgaW50ZXJmYWNlIFZlbmRvck9yZGVyVHlwZXMge1xuICBlYXRfaW46IGJvb2xlYW47XG4gIHRha2Vfb3V0OiBib29sZWFuO1xuICBkZWxpdmVyeTogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVmVuZG9yQW5hbHl0aWNzQ291cG9uVXNhZ2Uge1xuICBjb3Vwb24/OiBDb3Vwb247XG4gIHVzZV9jb3VudD86IG51bWJlcjtcbn1cbmV4cG9ydCBlbnVtIFZlbmRvckFuYWx5dGljc0N1c3RvbWVyVHlwZSB7XG4gIEZJUlNUX1RJTUUgPSBcIkZJUlNUX1RJTUVcIixcbiAgQ0FTVUFMID0gXCJDQVNVQUxcIixcbiAgUkVHVUxBUiA9IFwiUkVHVUxBUlwiXG59XG5leHBvcnQgaW50ZXJmYWNlIFZlbmRvckFuYWx5dGljc0N1c3RvbWVyQW5hbHlzaXMge1xuICBjdXN0b21lcl9pZD86IHN0cmluZztcbiAgY3VzdG9tZXJfbmFtZT86IHN0cmluZztcbiAgY3VzdG9tZXJfZW1haWxfYWRkcmVzcz86IHN0cmluZztcbiAgdmlzaXRfY291bnQ/OiBudW1iZXI7XG4gIGxhc3RfdmlzaXRfZGF0ZT86IHN0cmluZztcbiAgY3VzdG9tZXJfdHlwZT86IFZlbmRvckFuYWx5dGljc0N1c3RvbWVyVHlwZTtcbiAgaXNfc3RvcmVfZmF2b3VyaXRlZD86IGJvb2xlYW47XG4gIGZhdm91cml0ZWRfaXRlbXM/OiBBcnJheTxNZW51SXRlbT47XG59XG5leHBvcnQgaW50ZXJmYWNlIFZlbmRvckFuYWx5dGljcyB7XG4gIG9yZGVyX2NvdW50PzogbnVtYmVyO1xuICB0b3RhbF9zYWxlcz86IG51bWJlcjtcbiAgaXRlbV9jb3VudD86IG51bWJlcjtcbiAgY291cG9uX3VzYWdlPzogQXJyYXk8VmVuZG9yQW5hbHl0aWNzQ291cG9uVXNhZ2U+O1xuICBjdXN0b21lcl9hbmFseXNpcz86IEFycmF5PFZlbmRvckFuYWx5dGljc0N1c3RvbWVyQW5hbHlzaXM+O1xufVxuZXhwb3J0IGludGVyZmFjZSBWZW5kb3IgZXh0ZW5kcyBWZW5kb3JDb21tb25Qcm9wZXJ0aWVzLCBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGVtcGxveWVlcz86IEFycmF5PEVtcGxveWVlPjtcbiAgY2F0ZWdvcmllcz86IEFycmF5PENhdGVnb3J5PjtcbiAgaGVhZF9vZmZpY2U/OiBIZWFkT2ZmaWNlO1xuICB0YWdzPzogQXJyYXk8VGFnPjtcbiAgbG9jYXRpb24/OiBMb2NhdGlvbjtcbiAgb3Blbl9ob3Vycz86IE9wZW5Ib3VycztcbiAgcGF5bWVudF9tZXRob2RzPzogUGF5bWVudE1ldGhvZHM7XG4gIGRpcmVjdF9kZXBvc2l0X2luZm8/OiBEaXJlY3REZXBvc2l0SW5mb0lucHV0O1xuICB0aW1lem9uZT86IHN0cmluZztcbiAgcGF5b3V0X3BsYW4/OiBQYXlvdXRQbGFuO1xuICBsb3lhbHR5X3Byb2dyYW1zPzogQXJyYXk8TG95YWx0eVByb2dyYW0+O1xuICBwYXlvdXRzPzogQXJyYXk8UGF5b3V0PjtcbiAgc3VydmV5cz86IEFycmF5PFN1cnZleT47XG4gIGNvdXBvbnM/OiBBcnJheTxDb3Vwb24+O1xuICByZXF1ZXN0ZWRfcGF5b3V0PzogYm9vbGVhbjtcbiAgYW5hbHl0aWNzKGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IFZlbmRvckFuYWx5dGljcztcbiAgYWN0aXZlX2ZsYXNoX3NhbGU/OiBGbGFzaFNhbGU7XG4gIGlzX3Rlc3Q/OiBib29sZWFuO1xuICBhcHByb3ZhbF9zdGF0dXM/OiBWZW5kb3JBcHByb3ZhbFN0YXR1cztcbiAgdGVzdGVycz86IEFycmF5PFZlbmRvclRlc3Rlcj47XG4gIGRhaWx5X2RlYWxzX21lbnU6IFZlbmRvckRhaWx5RGVhbHNNZW51O1xuICBvcmRlcl90eXBlcz86IFZlbmRvck9yZGVyVHlwZXM7XG59XG5leHBvcnQgaW50ZXJmYWNlIFRpbWVTcGFuSW5wdXQge1xuICBmcm9tOiBzdHJpbmc7XG4gIHRvOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFRpbWVTcGFuIHtcbiAgZnJvbT86IHN0cmluZztcbiAgdG8/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIE9wZW5Ib3Vyc0lucHV0IHtcbiAgbW9uZGF5OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgdHVlc2RheTogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHdlZG5lc2RheTogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHRodXJzZGF5OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgZnJpZGF5OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgc2F0dXJkYXk6IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xuICBzdW5kYXk6IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBPcGVuSG91cnMge1xuICBtb25kYXk/OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgdHVlc2RheT86IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xuICB3ZWRuZXNkYXk/OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgdGh1cnNkYXk/OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgZnJpZGF5PzogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHNhdHVyZGF5PzogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHN1bmRheT86IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbklucHV0IHtcbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG4gIGxhdGl0dWRlOiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uIHtcbiAgbG9uZ2l0dWRlPzogbnVtYmVyO1xuICBsYXRpdHVkZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0RGVwb3NpdEluZm9JbnB1dCB7XG4gIHRyYW5zaXRfbm86IHN0cmluZztcbiAgaW5zdGl0dXRpb25fbm86IHN0cmluZztcbiAgYWNjb3VudF9ubzogc3RyaW5nO1xuICBjaGVxdWVfaW1hZ2U6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0RGVwb3NpdEluZm8ge1xuICB0cmFuc2l0X25vPzogc3RyaW5nO1xuICBpbnN0aXR1dGlvbl9ubz86IHN0cmluZztcbiAgYWNjb3VudF9ubz86IHN0cmluZztcbiAgY2hlcXVlX2ltYWdlPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBWZW5kb3JDb21tb25Qcm9wZXJ0aWVzIHtcbiAgbmFtZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGltYWdlcz86IEFycmF5PHN0cmluZz47XG4gIGFkZHJlc3M/OiBzdHJpbmc7XG4gIHBob25lX251bWJlcj86IHN0cmluZztcbiAgc3RhdHVzPzogc3RyaW5nO1xuICBwYXlvdXRfZW1haWxfYWRkcmVzcz86IHN0cmluZztcbiAgZGlyZWN0aW9uczogc3RyaW5nO1xuICByZWNlaXZlX3Ntc19ub3RpZmljYXRpb25zPzogYm9vbGVhbjtcbiAgYXV0b19vcGVuPzogYm9vbGVhbjtcbiAgYXV0b19jbG9zZT86IGJvb2xlYW47XG4gIHBheW91dF9hdXRvX3JlcXVlc3Rfc2NoZWR1bGU/OiBQYXlvdXRBdXRvUmVxdWVzdFNjaGVkdWxlO1xuICBnbG9iYWxfdGF4X3JhdGU/OiBudW1iZXI7XG4gIHBvc3RhbF9jb2RlPzogc3RyaW5nO1xuICBzdG9yZV9sb2dvPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVWZW5kb3JJbnB1dCBleHRlbmRzIFZlbmRvckNvbW1vblByb3BlcnRpZXMge1xuICB0YWdzPzogQXJyYXk8VGFnSW5wdXQ+O1xuICBvcGVuX2hvdXJzPzogT3BlbkhvdXJzSW5wdXQ7XG4gIGxvY2F0aW9uPzogTG9jYXRpb25JbnB1dDtcbiAgZGlyZWN0X2RlcG9zaXRfaW5mbz86IERpcmVjdERlcG9zaXRJbmZvSW5wdXQ7XG4gIHBheW1lbnRfbWV0aG9kcz86IFBheW1lbnRNZXRob2RzSW5wdXQ7XG4gIG9yZGVyX3R5cGVzPzogT3JkZXJUeXBlc0lucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBPcmRlclR5cGVzSW5wdXQge1xuICBlYXRfaW4/OiBib29sZWFuO1xuICB0YWtlX291dD86IGJvb2xlYW47XG4gIGRlbGl2ZXJ5PzogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVmVuZG9yVGVzdGVyIHtcbiAgX2lkPzogc3RyaW5nO1xuICBlbWFpbF9hZGRyZXNzPzogc3RyaW5nO1xuICB2ZW5kb3I/OiBWZW5kb3I7XG59XG5cbi8qKlxuICogQ29udHJvbGxlciBmb3IgdmVuZG9ycy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgVmVuZG9yQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuZGVsZXRlVmVuZG9yVGVzdGVyID0gdGhpcy5kZWxldGVWZW5kb3JUZXN0ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzID0gdGhpcy5hZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcy5iaW5kKFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgdGhpcy51cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cyA9IHRoaXMudXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMucmVxdWVzdFZlbmRvckFwcHJvdmFsID0gdGhpcy5yZXF1ZXN0VmVuZG9yQXBwcm92YWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY3JlYXRlV2l0aEVtcGxveWVlID0gdGhpcy5jcmVhdGVXaXRoRW1wbG95ZWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1cyA9IHRoaXMudXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBEZWxldGUgYSB2ZW5kb3IgdGVzdGVyIGJ5IElELlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVmVuZG9yIHRlc3RlcidzIElELlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgZGVsZXRlVmVuZG9yVGVzdGVyKGlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVWZW5kb3JUZXN0ZXIoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlVmVuZG9yVGVzdGVyKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyB2ZW5kb3IgdGVzdGVyIGJ5IGVtYWlsIGFkZHJlc3MuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBWZW5kb3IncyBJRC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsX2FkZHJlc3MgQ3VzdG9tZXIncyBlbWFpbCBhZGRyZXNzIHRvIGFkZCBhcyBhIHRlc3Rlci5cbiAgICogQHJldHVybnMge1Byb21pc2U8VmVuZG9yVGVzdGVyPn1cbiAgICovXG4gIGFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgZW1haWxfYWRkcmVzczogc3RyaW5nXG4gICk6IFByb21pc2U8VmVuZG9yVGVzdGVyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkZW1haWxfYWRkcmVzczogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBhZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyhpZDogJGlkLCBlbWFpbF9hZGRyZXNzOiAkZW1haWxfYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZW1haWxfYWRkcmVzc1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5hZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSB2ZW5kb3IncyBhcHByb3ZhbCBzdGF0dXMsIHRoaXMgY2FuIG9ubHkgYmUgY2FsbGVkIGJ5IG1hc3Rlci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSB2ZW5kb3IuXG4gICAqIEBwYXJhbSB7VmVuZG9yQXBwcm92YWxTdGF0dXN9IGFwcHJvdmFsX3N0YXR1cyBOZXcgYXBwcm92YWwgc3RhdHVzLCBjYW4gYmUgQVBQUk9WRUQsIFBFTkRJTkcsIE5PVF9BUFBST1ZFRFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cblxuICB1cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cyhcbiAgICBpZDogc3RyaW5nLFxuICAgIGFwcHJvdmFsX3N0YXR1czogVmVuZG9yQXBwcm92YWxTdGF0dXNcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRhcHByb3ZhbF9zdGF0dXM6IFZlbmRvckFwcHJvdmFsU3RhdHVzISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cyhpZDogJGlkLCBhcHByb3ZhbF9zdGF0dXM6ICRhcHByb3ZhbF9zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGFwcHJvdmFsX3N0YXR1c1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cy5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBwcm9maWxlIGFwcHJvdmFsIGZyb20gYWRtaW5pc3RyYXRvcnMgYmVmb3JlIHB1Ymxpc2hpbmcgdGhlIHN0b3JlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIHZlbmRvci5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHJlcXVlc3RWZW5kb3JBcHByb3ZhbChpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFZlbmRvckFwcHJvdmFsKGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlcXVlc3RWZW5kb3JBcHByb3ZhbCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEZXByZWNhdGUgdGhpcyBtZXRob2RcbiAgICogQ3JlYXRlIGEgbmV3IHZlbmRvciwgcmV0dXJuIHZlbmRvciBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2ZW5kb3IgLSBUaGUgVmVuZG9yIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgLy9RVUVTVElPTiBpcyB0aGlzIGZ1bGx5IGRlcHJlY2F0ZWQ/PyBCZWNhdXNlIG5vdCBpbiBwbGF5Z3JvdW5kXG4gIGNyZWF0ZSh2ZW5kb3I6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJWZW5kb3IuY3JlYXRlIGlzIGRlcHJlY2F0ZWQsIGl0IGlzIHJlY29tbWVuZGVkIGZvciB5b3UgdG8gbW92ZSB0byBWZW5kb3IuY3JlYXRlV2l0aEVtcGxveWVlXCJcbiAgICApO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlVmVuZG9yTXV0YXRpb24gKCR2ZW5kb3I6IENyZWF0ZVZlbmRvcklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVWZW5kb3IodmVuZG9yOiAkdmVuZG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICB2ZW5kb3JcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgLy9AdHMtaWdub3JlIGRlcHJlY2F0ZWRcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVWZW5kb3IuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBWZW5kb3IgT2JqZWN0IHdpdGggYW4gRW1wbG95ZWUgT2JqZWN0XG4gICAqIEBwYXJhbSB7Q3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlSW5wdXR9IHZlbmRvciAtIFRoZSBWZW5kb3IgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBWZW5kb3IgT2JqZWN0XG4gICAqL1xuICBjcmVhdGVXaXRoRW1wbG95ZWUodmVuZG9yOiBDcmVhdGVWZW5kb3JXaXRoRW1wbG95ZWVJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVWZW5kb3JXaXRoRW1wbG95ZWVNdXRhdGlvbigkdmVuZG9yOiBDcmVhdGVWZW5kb3JXaXRoRW1wbG95ZWVJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlKHZlbmRvcjogJHZlbmRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdmVuZG9yXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZVZlbmRvcldpdGhFbXBsb3llZS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgdmVuZG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgVmVuZG9yIE9iamVjdFxuICAgKiBAcGFyYW0ge1VwZGF0ZVZlbmRvcklucHV0fSB2ZW5kb3IgLSBUaGUgVmVuZG9yIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgdXBkYXRlKGlkOiBzdHJpbmcsIHZlbmRvcjogVXBkYXRlVmVuZG9ySW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gdXBkYXRlVmVuZG9yTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHZlbmRvcjogVXBkYXRlVmVuZG9ySW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZlbmRvcihpZDogJGlkLCB2ZW5kb3I6ICR2ZW5kb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHZlbmRvclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVWZW5kb3IuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIHZlbmRvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmVuZG9yX2lkIC0gVGhlIGlkIG9mIHRoZSBWZW5kb3IgT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXMgLSBVcGRhdGVkIHN0YXR1cyBvZiB0aGUgaXRlbXNcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1cyh2ZW5kb3JfaWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCR2ZW5kb3JfaWQ6IFN0cmluZyEsICRzdGF0dXM6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzRm9yVmVuZG9yKHZlbmRvcl9pZDogJHZlbmRvcl9pZCwgc3RhdHVzOiAkc3RhdHVzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICB2ZW5kb3JfaWQsXG4gICAgICAgICAgc3RhdHVzXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1c0ZvclZlbmRvcik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb250cm9sbGVyIGZvciB2ZXJpZmljYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZpY2F0aW9uU2Vzc2lvbiB7XG4gIHV1aWQ6IHN0cmluZztcbiAgcGhvbmVfbnVtYmVyOiBzdHJpbmc7XG4gIHZlcmlmaWVkX3N0YXR1czogYm9vbGVhbjtcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLnN0YXJ0VmVyaWZpY2F0aW9uU2Vzc2lvbiA9IHRoaXMuc3RhcnRWZXJpZmljYXRpb25TZXNzaW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jaGVja1ZlcmlmaWNhdGlvblNlc3Npb24gPSB0aGlzLmNoZWNrVmVyaWZpY2F0aW9uU2Vzc2lvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcbiAgLy8gUVVFU1RJT04gb25seSByZXN1bHQgaXMgcmV0dXJuZWQgc28gSSBjYW5ub3Qgc3BlY2lmeSB3aGljaCBrZXkgd2l0aGluIHJlc3VsdCBpcyBhY3R1YWxseSBwcmVzZW50XG4gIC8qKlxuICAgKiBTdGFydCBhIG5ldyBTTVMgdmVyaWZpY2F0aW9uIFNlc3Npb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBob25lX251bWJlciAtIFRoZSBwaG9uZSB0byBiZSB2ZXJpZmllZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRhdGVSZXN1bHQ+fSAtIFRoZSB1dWlkIHJlcXVpcmVkIHRvIHZlcmlmeSB0aGUgdmVyaWZpY2F0aW9uIGNvZGVcbiAgICovXG4gIHN0YXJ0VmVyaWZpY2F0aW9uU2Vzc2lvbihwaG9uZV9udW1iZXI6IHN0cmluZyk6IFByb21pc2U8TXV0YXRlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVTbXNWZXJpZmljYXRpb25TZXNzaW9uTXV0YXRpb24gKCRwaG9uZV9udW1iZXI6U3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbXNWZXJpZmljYXRpb25TZXNzaW9uKHBob25lX251bWJlcjokcGhvbmVfbnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1dWlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgcGhvbmVfbnVtYmVyXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBhbiBQaG9uZSBudW1iZXIgdmlhIGNvZGUgcmVjZWl2ZWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHV1aWQgLSBVVUlEIG9mIHRoZSB2ZXJpZmljYXRpb24gcmVxdWVzdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmVyaWZpY2F0aW9uX2NvZGUgLSBWZXJpZmljYXRpb24gY29kZSByZWNlaXZlZCBvbiB0aGUgZGV2aWNlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE11dGF0ZVJlc3VsdD59IC0gdmVyaWZpY2F0aW9uIHN0YXR1cyBhbG9uZyB3aXRoIHRoZSBudW1iZXIgY29ycmVzcG9uZGluZyB0byB0aGUgVVVJRFxuICAgKi9cbiAgY2hlY2tWZXJpZmljYXRpb25TZXNzaW9uKFxuICAgIHV1aWQ6IHN0cmluZyxcbiAgICB2ZXJpZmljYXRpb25fY29kZTogc3RyaW5nXG4gICk6IFByb21pc2U8TXV0YXRlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiB2ZXJpZnlTbXNWZXJpZmljYXRpb25TZXNzaW9uTXV0YXRpb24gKCR1dWlkOlN0cmluZyEsICR2ZXJpZmljYXRpb25fY29kZTpTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcmlmeVNtc1ZlcmlmaWNhdGlvblNlc3Npb24odXVpZDokdXVpZCwgdmVyaWZpY2F0aW9uX2NvZGU6JHZlcmlmaWNhdGlvbl9jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZV9udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZmllZF9zdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICB1dWlkLFxuICAgICAgICAgIHZlcmlmaWNhdGlvbl9jb2RlXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIG5ldHdvcmsgbGlua1xuICogQXV0aG9yOiBKdW4gWmhlbmdcbiAqIExpY2Vuc2U6IFVOTElDRU5TRURcbiAqL1xuXG5leHBvcnQgY2xhc3MgTGluayB7XG4gIF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGxpbmsgd2l0aCBhbiBVUkxcbiAgICogQHBhcmFtIHVybFxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG4gIH1cblxuICAvKipcbiAgICogUnVuIGEgcmVxdWVzdFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqL1xuICBydW4oY29uZmlnOiBhbnkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gIH1cbn1cbiIsIi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc2ltcGxlIEdyYXBoUUwgc2VydmVyIGxpbmtcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuaW1wb3J0IHsgU3luY2hyb25vdXNMaW5rIH0gZnJvbSBcIi4vU3luY2hyb25vdXNMaW5rXCI7XG5pbXBvcnQgeyBHcmFwaFFMQ2xpZW50IH0gZnJvbSBcImdyYXBocWwtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvQ2F0ZWdvcnlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDYXJ0IH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0NhcnRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDb3Vwb24gfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBFbXBsb3llZSB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9FbXBsb3llZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEV4cGxvcmVQYWdlIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0V4cGxvcmVQYWdlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRmxhc2hTYWxlIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0ZsYXNoU2FsZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEhlYWRPZmZpY2UgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvSGVhZE9mZmljZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7XG4gIExveWFsdHlDYXJkLFxuICBMb3lhbHR5VHJhbnNhY3Rpb25cbn0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0xveWFsdHlDYXJkQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvTWVudUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9PcmRlckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFBheW91dCB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9QYXlvdXRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBSYXdDb25maWd1cmF0aW9uIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL1JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTdXJ2ZXksIFN1cnZleVJlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL1N1cnZleUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlbmRvciwgVmVuZG9yVGVzdGVyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlcmlmaWNhdGlvblNlc3Npb24gfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvVmVyaWZpY2F0aW9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHtcbiAgTWVyZ2VkQ29uZmlndXJhdGlvbixcbiAgUXVlcnlSZXN1bHRcbn0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0dyYXBoQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ3VzdG9tZXJUb2tlbiB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9DdXN0b21lclRva2VuQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRW1wbG95ZWVUb2tlbiB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9FbXBsb3llZVRva2VuQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTG95YWx0eVByb2dyYW0gfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvTG95YWx0eVByb2dyYW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNb2RpZmllciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9Nb2RpZmllckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFJlZGVlbWFibGVJdGVtIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL1JlZGVlbWFibGVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVGlwIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL1RpcENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IHR5cGUgfSBmcm9tIFwib3NcIjtcbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTm90ZUZvckNhcnQge1xuICB1cGRhdGVOb3RlRm9yQ2FydDogQ2FydDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2F0ZWdvcnkge1xuICB1cGRhdGVDYXRlZ29yeTogQ2F0ZWdvcnk7XG59XG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoVXBkYXRlQ2F0ZWdvcmllcyB7XG4gIGJhdGNoVXBkYXRlQ2F0ZWdvcmllczogQXJyYXk8Q2F0ZWdvcnk+O1xufVxuZXhwb3J0IGludGVyZmFjZSBSZW1vdmVDb3Vwb25Gcm9tQ2FydCB7XG4gIHJlbW92ZUNvdXBvbkZyb21DYXJ0OiBDYXJ0O1xufVxuZXhwb3J0IGludGVyZmFjZSBBcHBseUNvdXBvblRvQ2FydCB7XG4gIGFwcGx5Q291cG9uVG9DYXJ0OiBDYXJ0O1xufVxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVDYXJ0IHtcbiAgZGVsZXRlQ2FydDogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDYXRlZ29yeSB7XG4gIGNyZWF0ZUNhdGVnb3J5OiBDYXRlZ29yeTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ291cG9uIHtcbiAgY3JlYXRlQ291cG9uOiBDb3Vwb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlbW92ZUl0ZW1Gcm9tQ2FydCB7XG4gIHJlbW92ZUl0ZW1Gcm9tQ2FydDogQ2FydDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQWRkSXRlbUNhcnQge1xuICBhZGRJdGVtQ2FydDogQ2FydDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ2FydCB7XG4gIGNyZWF0ZUNhcnQ6IENhcnQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUNhdGVnb3J5IHtcbiAgZGVsZXRlQ2F0ZWdvcnk6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ3VzdG9tZXIge1xuICBjcmVhdGVDdXN0b21lcjogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUN1c3RvbWVyIHtcbiAgdXBkYXRlQ3VzdG9tZXI6IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBTZW5kQ3VzdG9tZXJQYXNzd29yZFJlc2V0Q29kZSB7XG4gIHNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlc2V0Q3VzdG9tZXJQYXNzd29yZCB7XG4gIHJlc2V0Q3VzdG9tZXJQYXNzd29yZDogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIEVucm9sbEN1c3RvbWVyQXBuc1Rva2VuIHtcbiAgZW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW46IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXZva2VDdXN0b21lckFwbnNUb2tlbiB7XG4gIHJldm9rZUN1c3RvbWVyQXBuc1Rva2VuOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRW5yb2xsQ3VzdG9tZXJGY21Ub2tlbiB7XG4gIGVucm9sbEN1c3RvbWVyRmNtVG9rZW46IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXZva2VDdXN0b21lckZjbVRva2VuIHtcbiAgcmV2b2tlQ3VzdG9tZXJGY21Ub2tlbjogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUN1c3RvbWVyQ3JlZGl0Q2FyZCB7XG4gIHVwZGF0ZUN1c3RvbWVyQ3JlZGl0Q2FyZDogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUN1c3RvbWVyV2FsbGV0IHtcbiAgY3JlYXRlQ3VzdG9tZXJXYWxsZXQ6IENvdXBvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVsb2FkQ3VzdG9tZXJXYWxsZXQge1xuICByZWxvYWRDdXN0b21lcldhbGxldDogQ291cG9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZWZ1bmRDdXN0b21lcldhbGxldCB7XG4gIHJlZnVuZEN1c3RvbWVyV2FsbGV0OiBDb3Vwb247XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUN1c3RvbWVyV2FsbGV0VHJhbnNhY3Rpb24ge1xuICBjcmVhdGVDdXN0b21lcldhbGxldFRyYW5zYWN0aW9uOiBDb3Vwb247XG59XG5leHBvcnQgaW50ZXJmYWNlIEFkZEZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyIHtcbiAgYWRkRmF2b3VyaXRlVmVuZG9yRm9yQ3VzdG9tZXI6IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZW1vdmVGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lciB7XG4gIHJlbW92ZUZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQWRkRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyIHtcbiAgYWRkRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVtb3ZlRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyIHtcbiAgcmVtb3ZlRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ3VzdG9tZXJUb2tlbiB7XG4gIGNyZWF0ZUN1c3RvbWVyVG9rZW46IEN1c3RvbWVyVG9rZW47XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUVtcGxveWVlIHtcbiAgY3JlYXRlRW1wbG95ZWU6IEVtcGxveWVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVFbXBsb3llZSB7XG4gIHVwZGF0ZUVtcGxveWVlOiBFbXBsb3llZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlRW1wbG95ZWUge1xuICBkZWxldGVFbXBsb3llZTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBFbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4ge1xuICBlbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW46IEVtcGxveWVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXZva2VFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4ge1xuICByZXZva2VFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW46IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEVtcGxveWVlUGFzc3dvcmRSZXNldENvZGUge1xuICBzZW5kRW1wbG95ZWVQYXNzd29yZFJlc2V0Q29kZTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXNldEVtcGxveWVlUGFzc3dvcmQge1xuICByZXNldEVtcGxveWVlUGFzc3dvcmQ6IEVtcGxveWVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVFbXBsb3llZVRva2VuIHtcbiAgY3JlYXRlRW1wbG95ZWVUb2tlbjogRW1wbG95ZWVUb2tlbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVwbGFjZUV4cGxvcmVQYWdlIHtcbiAgcmVwbGFjZUV4cGxvcmVQYWdlOiBFeHBsb3JlUGFnZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRmxhc2hTYWxlIHtcbiAgY3JlYXRlRmxhc2hTYWxlOiBGbGFzaFNhbGU7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUZsYXNoU2FsZSB7XG4gIHVwZGF0ZUZsYXNoU2FsZTogRmxhc2hTYWxlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVIZWFkT2ZmaWNlIHtcbiAgY3JlYXRlSGVhZE9mZmljZTogSGVhZE9mZmljZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlSGVhZE9mZmljZSB7XG4gIHVwZGF0ZUhlYWRPZmZpY2U6IEhlYWRPZmZpY2U7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUhlYWRPZmZpY2Uge1xuICBkZWxldGVIZWFkT2ZmaWNlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsIHtcbiAgY3JlYXRlTG95YWx0eUNhcmRBbmRFbnJvbGw6IExveWFsdHlDYXJkO1xufVxuZXhwb3J0IGludGVyZmFjZSBBd2FyZFBvaW50c1RvTG95YWx0eUNhcmQge1xuICBhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQ6IExveWFsdHlUcmFuc2FjdGlvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkIHtcbiAgYXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkOiBMb3lhbHR5VHJhbnNhY3Rpb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFNoYXJlTG95YWx0eVBvaW50cyB7XG4gIHNoYXJlTG95YWx0eVBvaW50czogTG95YWx0eVRyYW5zYWN0aW9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uIHtcbiAgcmVkZWVtTG95YWx0eVBvaW50c0ZvckNvdXBvbjogQ291cG9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVMb3lhbHR5UHJvZ3JhbSB7XG4gIGNyZWF0ZUxveWFsdHlQcm9ncmFtOiBMb3lhbHR5UHJvZ3JhbTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTG95YWx0eVByb2dyYW0ge1xuICB1cGRhdGVMb3lhbHR5UHJvZ3JhbTogTG95YWx0eUNhcmQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUxveWFsdHlQcm9ncmFtIHtcbiAgZGVsZXRlTG95YWx0eVByb2dyYW06IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlTWVudUl0ZW0ge1xuICBjcmVhdGVNZW51SXRlbTogTWVudUl0ZW07XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU1lbnVJdGVtIHtcbiAgdXBkYXRlTWVudUl0ZW06IE1lbnVJdGVtO1xufVxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVNZW51SXRlbSB7XG4gIGRlbGV0ZU1lbnVJdGVtOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoVXBkYXRlTWVudUl0ZW1zIHtcbiAgYmF0Y2hVcGRhdGVNZW51SXRlbXM6IEFycmF5PE1lbnVJdGVtPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlTW9kaWZpZXIge1xuICBjcmVhdGVNb2RpZmllcjogTW9kaWZpZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU1vZGlmaWVyIHtcbiAgdXBkYXRlTW9kaWZpZXI6IE1vZGlmaWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVNb2RpZmllciB7XG4gIGRlbGV0ZU1vZGlmaWVyOiBNb2RpZmllcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlT3JkZXIge1xuICBjcmVhdGVPcmRlcjogT3JkZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENhbmNlbE9yZGVyIHtcbiAgY2FuY2VsT3JkZXI6IE9yZGVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBCZWdpblByZXBhcmluZ09yZGVyIHtcbiAgYmVnaW5QcmVwYXJpbmdPcmRlcjogT3JkZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFByZXBhcmVkT3JkZXIge1xuICBwcmVwYXJlZE9yZGVyOiBPcmRlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGVPcmRlciB7XG4gIGNvbXBsZXRlT3JkZXI6IE9yZGVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0UGF5b3V0IHtcbiAgcmVxdWVzdFBheW91dDogUGF5b3V0O1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVQYXlvdXQge1xuICB1cGRhdGVQYXlvdXQ6IFBheW91dDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FuY2VsUGF5b3V0IHtcbiAgY2FuY2VsUGF5b3V0OiBQYXlvdXQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVJlZGVlbWFibGVJdGVtIHtcbiAgY3JlYXRlUmVkZWVtYWJsZUl0ZW06IFJlZGVlbWFibGVJdGVtO1xufVxuZXhwb3J0IGludGVyZmFjZSB1cGRhdGVSZWRlZW1hYmxlSXRlbSB7XG4gIHVwZGF0ZVJlZGVlbWFibGVJdGVtOiBSZWRlZW1hYmxlSXRlbTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlUmVkZWVtYWJsZUl0ZW0ge1xuICBkZWxldGVSZWRlZW1hYmxlSXRlbTogc3RyaW5nO1xufVxuLy9zaG91bGQgYmUgb25seSBpbiBxdWVyeSBzZWUgUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXJcbmV4cG9ydCBpbnRlcmZhY2UgTWVyZ2VkX0NvbmZpZ3VyYXRpb24ge1xuICBtZXJnZWRfY29uZmlndXJhdGlvbjogTWVyZ2VkQ29uZmlndXJhdGlvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUmF3Q29uZmlndXJhdGlvbiB7XG4gIGNyZWF0ZVJhd0NvbmZpZ3VyYXRpb246IFJhd0NvbmZpZ3VyYXRpb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24ge1xuICB1cGRhdGVSYXdDb25maWd1cmF0aW9uOiBSYXdDb25maWd1cmF0aW9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVSYXdDb25maWd1cmF0aW9uIHtcbiAgZGVsZXRlUmF3Q29uZmlndXJhdGlvbjogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTdXJ2ZXkge1xuICBjcmVhdGVTdXJ2ZXk6IFN1cnZleTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlU3VydmV5IHtcbiAgdXBkYXRlU3VydmV5OiBTdXJ2ZXk7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlbGVhc2VTdXJ2ZXkge1xuICByZWxlYXNlU3VydmV5OiBTdXJ2ZXk7XG59XG5leHBvcnQgaW50ZXJmYWNlIEFyY2hpdmVTdXJ2ZXkge1xuICBhcmNoaXZlU3VydmV5OiBTdXJ2ZXk7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZVN1cnZleSB7XG4gIGRlbGV0ZVN1cnZleTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTdXJ2ZXlSZXNwb25zZSB7XG4gIGNyZWF0ZVN1cnZleVJlc3BvbnNlOiBTdXJ2ZXlSZXNwb25zZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlVGlwIHtcbiAgY3JlYXRlVGlwOiBUaXA7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZVZlbmRvclRlc3RlciB7XG4gIGRlbGV0ZVZlbmRvclRlc3Rlcjogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBBZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyB7XG4gIGFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzOiBWZW5kb3JUZXN0ZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVZlbmRvckFwcHJvdmFsU3RhdHVzIHtcbiAgdXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXM6IFZlbmRvcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFZlbmRvckFwcHJvdmFsIHtcbiAgcmVxdWVzdFZlbmRvckFwcHJvdmFsOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVZlbmRvcldpdGhFbXBsb3llZSB7XG4gIGNyZWF0ZVZlbmRvcldpdGhFbXBsb3llZTogVmVuZG9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVWZW5kb3Ige1xuICB1cGRhdGVWZW5kb3I6IFZlbmRvcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlU21zVmVyaWZpY2F0aW9uU2Vzc2lvbiB7XG4gIGNyZWF0ZVNtc1ZlcmlmaWNhdGlvblNlc3Npb246IFZlcmlmaWNhdGlvblNlc3Npb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmeVNtc1ZlcmlmaWNhdGlvblNlc3Npb24ge1xuICB2ZXJpZnlTbXNWZXJpZmljYXRpb25TZXNzaW9uOiBWZXJpZmljYXRpb25TZXNzaW9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVBbGxNZW51SXRlbXNTdGF0dXNGb3JWZW5kb3Ige1xuICB1cGRhdGVBbGxNZW51SXRlbXNTdGF0dXNGb3JWZW5kb3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGVSZXN1bHRcbiAgZXh0ZW5kcyBDcmVhdGVDYXRlZ29yeSxcbiAgICBDcmVhdGVDb3Vwb24sXG4gICAgVXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzRm9yVmVuZG9yLFxuICAgIFVwZGF0ZUN1c3RvbWVyLFxuICAgIFVwZGF0ZU5vdGVGb3JDYXJ0LFxuICAgIFJlbW92ZUNvdXBvbkZyb21DYXJ0LFxuICAgIEFwcGx5Q291cG9uVG9DYXJ0LFxuICAgIFZlcmlmeVNtc1ZlcmlmaWNhdGlvblNlc3Npb24sXG4gICAgQ3JlYXRlU21zVmVyaWZpY2F0aW9uU2Vzc2lvbixcbiAgICBVcGRhdGVWZW5kb3IsXG4gICAgQ3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlLFxuICAgIFJlcXVlc3RWZW5kb3JBcHByb3ZhbCxcbiAgICBVcGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cyxcbiAgICBBZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyxcbiAgICBEZWxldGVWZW5kb3JUZXN0ZXIsXG4gICAgQ3JlYXRlVGlwLFxuICAgIENyZWF0ZVN1cnZleVJlc3BvbnNlLFxuICAgIERlbGV0ZVN1cnZleSxcbiAgICBBcmNoaXZlU3VydmV5LFxuICAgIFJlbGVhc2VTdXJ2ZXksXG4gICAgVXBkYXRlU3VydmV5LFxuICAgIENyZWF0ZVN1cnZleSxcbiAgICBEZWxldGVSYXdDb25maWd1cmF0aW9uLFxuICAgIFVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24sXG4gICAgQ3JlYXRlUmF3Q29uZmlndXJhdGlvbixcbiAgICBNZXJnZWRfQ29uZmlndXJhdGlvbixcbiAgICBEZWxldGVSZWRlZW1hYmxlSXRlbSxcbiAgICB1cGRhdGVSZWRlZW1hYmxlSXRlbSxcbiAgICBDcmVhdGVSZWRlZW1hYmxlSXRlbSxcbiAgICBDYW5jZWxQYXlvdXQsXG4gICAgVXBkYXRlUGF5b3V0LFxuICAgIFJlcXVlc3RQYXlvdXQsXG4gICAgQ29tcGxldGVPcmRlcixcbiAgICBQcmVwYXJlZE9yZGVyLFxuICAgIEJlZ2luUHJlcGFyaW5nT3JkZXIsXG4gICAgQ2FuY2VsT3JkZXIsXG4gICAgQ3JlYXRlT3JkZXIsXG4gICAgRGVsZXRlTW9kaWZpZXIsXG4gICAgVXBkYXRlTW9kaWZpZXIsXG4gICAgQ3JlYXRlTW9kaWZpZXIsXG4gICAgQmF0Y2hVcGRhdGVNZW51SXRlbXMsXG4gICAgRGVsZXRlTWVudUl0ZW0sXG4gICAgVXBkYXRlTWVudUl0ZW0sXG4gICAgQ3JlYXRlTWVudUl0ZW0sXG4gICAgRGVsZXRlTG95YWx0eVByb2dyYW0sXG4gICAgVXBkYXRlTG95YWx0eVByb2dyYW0sXG4gICAgQ3JlYXRlTG95YWx0eVByb2dyYW0sXG4gICAgUmVkZWVtTG95YWx0eVBvaW50c0ZvckNvdXBvbixcbiAgICBTaGFyZUxveWFsdHlQb2ludHMsXG4gICAgQXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkLFxuICAgIEF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZCxcbiAgICBDcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbCxcbiAgICBEZWxldGVIZWFkT2ZmaWNlLFxuICAgIFVwZGF0ZUhlYWRPZmZpY2UsXG4gICAgQ3JlYXRlSGVhZE9mZmljZSxcbiAgICBVcGRhdGVGbGFzaFNhbGUsXG4gICAgQ3JlYXRlRmxhc2hTYWxlLFxuICAgIFJlcGxhY2VFeHBsb3JlUGFnZSxcbiAgICBDcmVhdGVFbXBsb3llZVRva2VuLFxuICAgIFJlc2V0RW1wbG95ZWVQYXNzd29yZCxcbiAgICBTZW5kRW1wbG95ZWVQYXNzd29yZFJlc2V0Q29kZSxcbiAgICBSZXZva2VFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4sXG4gICAgRW5yb2xsRW1wbG95ZWVUZXJtaW5hbEZjbVRva2VuLFxuICAgIERlbGV0ZUVtcGxveWVlLFxuICAgIFVwZGF0ZUVtcGxveWVlLFxuICAgIENyZWF0ZUVtcGxveWVlLFxuICAgIENyZWF0ZUN1c3RvbWVyVG9rZW4sXG4gICAgUmVtb3ZlRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyLFxuICAgIEFkZEZhdm91cml0ZUl0ZW1Gb3JDdXN0b21lcixcbiAgICBSZW1vdmVGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lcixcbiAgICBBZGRGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lcixcbiAgICBDcmVhdGVDdXN0b21lcldhbGxldFRyYW5zYWN0aW9uLFxuICAgIFJlZnVuZEN1c3RvbWVyV2FsbGV0LFxuICAgIFJlbG9hZEN1c3RvbWVyV2FsbGV0LFxuICAgIENyZWF0ZUN1c3RvbWVyV2FsbGV0LFxuICAgIFVwZGF0ZUN1c3RvbWVyQ3JlZGl0Q2FyZCxcbiAgICBSZXZva2VDdXN0b21lckZjbVRva2VuLFxuICAgIEVucm9sbEN1c3RvbWVyRmNtVG9rZW4sXG4gICAgUmV2b2tlQ3VzdG9tZXJBcG5zVG9rZW4sXG4gICAgRW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW4sXG4gICAgUmVzZXRDdXN0b21lclBhc3N3b3JkLFxuICAgIFNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlLFxuICAgIFVwZGF0ZUN1c3RvbWVyLFxuICAgIENyZWF0ZUN1c3RvbWVyLFxuICAgIERlbGV0ZUNhdGVnb3J5LFxuICAgIENyZWF0ZUNhcnQsXG4gICAgQWRkSXRlbUNhcnQsXG4gICAgUmVtb3ZlSXRlbUZyb21DYXJ0LFxuICAgIENyZWF0ZUNvdXBvbixcbiAgICBDcmVhdGVDYXRlZ29yeSxcbiAgICBEZWxldGVDYXJ0LFxuICAgIEFwcGx5Q291cG9uVG9DYXJ0LFxuICAgIFJlbW92ZUNvdXBvbkZyb21DYXJ0LFxuICAgIFVwZGF0ZU5vdGVGb3JDYXJ0LFxuICAgIFVwZGF0ZUNhdGVnb3J5LFxuICAgIEJhdGNoVXBkYXRlQ2F0ZWdvcmllcyB7fVxuXG5leHBvcnQgY2xhc3MgR3JhcGhRTExpbmsgZXh0ZW5kcyBTeW5jaHJvbm91c0xpbmsge1xuICBfaGVhZGVyczogeyB2ZXJzaW9uOiBzdHJpbmc7IGF1dGhvcml6YXRpb246IHN0cmluZyB9IHwge307XG4gIF9jbGllbnQhOiBHcmFwaFFMQ2xpZW50O1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IEdyYXBoUUxMaW5rXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtvYmVqY3R9IGNvbmZpZyA9IHt9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBjb25maWc6IHtcbiAgICAgIGhlYWRlcnM/OiB7IHZlcnNpb246IHN0cmluZzsgYXV0aG9yaXphdGlvbjogc3RyaW5nIH07XG4gICAgICB2ZXJzaW9uPzogc3RyaW5nIHwgbnVsbDtcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgc3VwZXIodXJsKTtcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XG4gICAgdGhpcy5fY29uc3RydWN0Q2xpZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb25zdHJ1Y3QgYSBjbGllbnQgaW5zdGFuY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY29uc3RydWN0Q2xpZW50KCkge1xuICAgIHRoaXMuX2NsaWVudCA9IG5ldyBHcmFwaFFMQ2xpZW50KHRoaXMuX3VybCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBydW5cbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgcXVlcnkoY29uZmlnOiB7XG4gICAgcXVlcnk6IHN0cmluZztcbiAgICB2YXJpYWJsZXM6IG9iamVjdDtcbiAgfSk6IFByb21pc2U8UXVlcnlSZXN1bHQ+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5ydW4oY29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgcnVuXG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIG11dGF0ZShjb25maWc6IHtcbiAgICBxdWVyeTogc3RyaW5nO1xuICAgIHZhcmlhYmxlczogb2JqZWN0O1xuICB9KTogUHJvbWlzZTxNdXRhdGVSZXN1bHQ+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5ydW4oY29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYSBuZXcgZ3JhcGhxbCByZXF1ZXN0XG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn1cbiAgICovXG5cbiAgYXN5bmMgcnVuKGNvbmZpZzogeyBxdWVyeTogc3RyaW5nOyB2YXJpYWJsZXM6IG9iamVjdCB9KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NsaWVudC5yZXF1ZXN0KGNvbmZpZy5xdWVyeSwgY29uZmlnLnZhcmlhYmxlcyB8fCB7fSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc2ltcGxlIEhUVFAgc2VydmVyIGxpbmtcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBVTkxJQ0VOU0VEXG4gKi9cblxuaW1wb3J0IHsgU3luY2hyb25vdXNMaW5rIH0gZnJvbSBcIi4vU3luY2hyb25vdXNMaW5rXCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjbGFzcyBIdHRwTGluayBleHRlbmRzIFN5bmNocm9ub3VzTGluayB7XG4gIC8vIF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIENvbnN0cnVjdCB0aGUgbGluayB3aXRoIFVSTFxuICAgKiBAcGFyYW0gdXJsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZykge1xuICAgIHN1cGVyKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIGEgZ2V0IHJlcXVlc3RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fVxuICAgKi9cbiAgZ2V0KGNvbmZpZzogb2JqZWN0ID0ge30pOiBQcm9taXNlPG9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLnJ1bihPYmplY3QuYXNzaWduKGNvbmZpZywgeyBtZXRob2Q6IFwiZ2V0XCIgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBhIHBvc3QgcmVxdWVzdFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBwb3N0KGNvbmZpZzogb2JqZWN0ID0ge30pOiBQcm9taXNlPHsgZGF0YTogeyBpZDogc3RyaW5nIH0gfT4ge1xuICAgIHJldHVybiB0aGlzLnJ1bihPYmplY3QuYXNzaWduKGNvbmZpZywgeyBtZXRob2Q6IFwicG9zdFwiIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYSBwdXQgcmVxdWVzdFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBwdXQoY29uZmlnOiBvYmplY3QgPSB7fSk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMucnVuKE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IG1ldGhvZDogXCJwdXRcIiB9KSk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIGEgZGVsZXRlIHJlcXVlc3RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fVxuICAgKi9cbiAgZGVsZXRlKGNvbmZpZzogb2JqZWN0ID0ge30pOiBQcm9taXNlPG9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLnJ1bihPYmplY3QuYXNzaWduKGNvbmZpZywgeyBtZXRob2Q6IFwiZGVsZXRlXCIgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYSBuZXcgaHR0cCByZXF1ZXN0XG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cbiAgICovXG4gIHJ1bihjb25maWc6IHsgbWV0aG9kOiBhbnk7IGRhdGE/OiBhbnk7IGhlYWRlcnM/OiBhbnkgfSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGF4aW9zXG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6IGNvbmZpZy5tZXRob2QsXG4gICAgICAgICAgdXJsOiB0aGlzLl91cmwsXG4gICAgICAgICAgZGF0YTogY29uZmlnLmRhdGEgPyBjb25maWcuZGF0YSA6IHt9LFxuICAgICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzID8gY29uZmlnLmhlYWRlcnMgOiB7fVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBuZXR3b3JrIGxpbmsgdGhhdCBoYXMgcmVxdWVzdC9yZXNwb25zZSBzdHJ1Y3R1cmVcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBVTkxJQ0VOU0VEXG4gKi9cblxuaW1wb3J0IHsgTGluayB9IGZyb20gXCIuLi9MaW5rXCI7XG5cbmV4cG9ydCBjbGFzcyBTeW5jaHJvbm91c0xpbmsgZXh0ZW5kcyBMaW5rIHtcbiAgX3R5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBwYXJhbSAge30gdXJsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZykge1xuICAgIHN1cGVyKHVybCk7XG4gICAgdGhpcy5fdHlwZSA9IFwic3luY1wiO1xuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc3RyVG9JZGVudGlmaWVyKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHJlc3VsdDogc3RyaW5nID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3RyW2ldLm1hdGNoKC9bQS1aYS16MC05XS8pKSB7XG4gICAgICByZXN1bHQgKz0gc3RyW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIChzdHJbaV0gPT09IFwiX1wiIHx8IHN0cltpXSA9PT0gXCIgXCIgfHwgc3RyW2ldID09PSBcIi1cIikgJiZcbiAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gIT09IFwiX1wiXG4gICAgKSB7XG4gICAgICByZXN1bHQgKz0gXCJfXCI7XG4gICAgfVxuICB9XG4gIGlmIChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID09PSBcIl9cIikge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCByZXN1bHQubGVuZ3RoIC0gMSk7XG4gIH1cbiAgaWYgKHJlc3VsdFswXSA9PT0gXCJfXCIpIHtcbiAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMSwgcmVzdWx0Lmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBncmFwaFFMRW5kcG9pbnQ6IHtcbiAgICBwcm9kdWN0aW9uOiBcImh0dHBzOi8vZ3JhcGhxbC12MS5jaGVhcHJlYXRzLmNvbS9ncmFwaHFsXCJcbiAgfSxcbiAgdmVyaWZpY2F0aW9uRW5kcG9pbnQ6IHtcbiAgICBwcm9kdWN0aW9uOiBcImh0dHBzOi8vbXMtdmVyaWZpY2F0aW9uLXYxLmNoZWFwcmVhdHMuY29tXCJcbiAgfSxcbiAgdmFsaWRhdGlvbkVuZHBvaW50OiB7XG4gICAgcHJvZHVjdGlvbjogXCJodHRwczovL21zLXZhbGlkYXRpb24tdjEuY2hlYXByZWF0cy5jb21cIlxuICB9LFxuICBpbWFnZUVuZHBvaW50OiB7XG4gICAgcHJvZHVjdGlvbjogXCJodHRwczovL21zLWltYWdlLXYxLmNoZWFwcmVhdHMuY29tXCIsXG4gICAgZGlzdHJpYnV0aW9uOiBcImh0dHBzOi8vc3RhdGljLmNoZWFwcmVhdHMuY29tXCJcbiAgfVxufTtcbiIsIi8qKlxuICogRW50cnkgZmlsZSBmb3IgQ2hlYXByRWF0cyBOb2RlLmpzIFNES1xuICogQXV0aG9yOiBKdW4gWmhlbmdcbiAqIExpY2Vuc2U6IFVOTElDRU5TRURcbiAqL1xuXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHAvQXBwXCI7XG5cbi8vIGRlY2xhcmUgZ2xvYmFsIHtcbi8vICAgaW50ZXJmYWNlIFdpbmRvdyB7XG4vLyAgICAgQ0U6IEFwcDtcbi8vICAgfVxuLy8gfVxuXG5jb25zdCBhcHA6IEFwcCA9IG5ldyBBcHAoKTtcbmV4cG9ydCBkZWZhdWx0IGFwcDtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgKDxhbnk+d2luZG93KS5DRSA9IGFwcDtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IHsgdmVyc2lvbjogXCIxLjEwLjM1XCIgfTtcbiIsIm1vZHVsZS5leHBvcnRzID0gYXhpb3M7IiwibW9kdWxlLmV4cG9ydHMgPSBncmFwaHFsLXJlcXVlc3Q7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnZXhwb3J0cycgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuIl0sInNvdXJjZVJvb3QiOiIifQ==