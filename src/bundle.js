!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10);class o extends n.Link{constructor(e){super(e),this._type="sync"}}t.SynchronousLink=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"1.10.35"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EMAIL="EMAIL",e.SMS="SMS"}(t.ResetCodeSendMethod||(t.ResetCodeSendMethod={}));t.EmployeeController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.enrollTerminalFcm=this.enrollTerminalFcm.bind(this),this.revokeTerminalFcm=this.revokeTerminalFcm.bind(this),this.resetEmployeePassword=this.resetEmployeePassword.bind(this),this.sendPasswordResetCode=this.sendPasswordResetCode.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createEmployeeMutation ($employee: CreateEmployeeInput!) {\n                    createEmployee(employee: $employee) {\n                        _id\n                    }\n                }\n            ",{employee:e}).then(e=>{t(e.createEmployee._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateEmployeeMutation ($id: String!, $employee: UpdateEmployeeInput!) {\n                    updateEmployee(id: $id, employee: $employee) {\n                        _id\n                    }\n                }\n            ",{id:e,employee:t}).then(e=>{r(e.updateEmployee._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteEmployee ($id: String!) {\n                    deleteEmployee(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteEmployee)}).catch(e=>{r(e)})})}enrollTerminalFcm(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation enrollEmployeeTerminalFcmToken ($id: String!, $token: String!) {\n                    enrollEmployeeTerminalFcmToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.enrollEmployeeTerminalFcmToken)}).catch(e=>{n(e)})})}revokeTerminalFcm(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation revokeEmployeeTerminalFcmToken ($token: String!) {\n                    revokeEmployeeTerminalFcmToken(token: $token)\n                }\n            ",{token:e}).then(e=>{t(e.revokeEmployeeTerminalFcmToken)}).catch(e=>{r(e)})})}resetEmployeePassword(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation resetEmployeePassword ($id: String, $email_address:String, $code:String!, $password:String!) {\n                    resetEmployeePassword(id: $id, email_address: $email_address, code: $code, password: $password) {\n                        _id\n                    }\n                }\n            ",{id:e,email_address:t,code:r,password:n}).then(e=>{o(e.resetEmployeePassword._id)}).catch(e=>{i(e)})})}sendPasswordResetCode(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation sendEmployeePasswordResetCode ($email_address: String!, $method:ResetCodeSendMethod) {\n                    sendEmployeePasswordResetCode(email_address: $email_address, method:$method)\n                }\n            ",{email_address:e,method:t}).then(e=>{r(e.sendEmployeePasswordResetCode)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),i=n(r(26));class a extends o.SynchronousLink{constructor(e){super(e)}get(e={}){return this.run(Object.assign(e,{method:"get"}))}post(e={}){return this.run(Object.assign(e,{method:"post"}))}put(e={}){return this.run(Object.assign(e,{method:"put"}))}delete(e={}){return this.run(Object.assign(e,{method:"delete"}))}run(e){return new Promise((t,r)=>{i.default.request({method:e.method,url:this._url,data:e.data?e.data:{},headers:e.headers?e.headers:{}}).then(e=>{t(e)}).catch(e=>{r(e)})})}}t.HttpLink=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new(r(5).App);t.default=n,"undefined"!=typeof window&&(window.CE=n)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(6),i=r(7),a=n(r(1)),d=r(12),s=r(13),u=r(14),l=r(15),p=r(16),c=r(17),h=r(2),m=r(18),_=r(19),C=r(20),y=r(21),g=r(22),$=r(23),v=r(24),f=r(25),P=r(27),S=r(28),E=r(29),w=r(30),A=r(31),b=r(32),I=r(33),T=r(34),R=r(35),L=r(36),O=r(37);let k={endpoints:n(r(38)).default};t.App=class{constructor(){this._token=null,this._adaptor=new i.CheaprEatsGraphQLAdaptor({graphQLEndpoint:this.getConfiguration().endpoints.graphQLEndpoint.production}),this._authorizationController=new d.AuthorizationController(this),this._cartController=new s.CartController(this),this._categoryController=new u.CategoryController(this),this._customerController=new l.CustomerController(this),this._customerTokenController=new p.CustomerTokenController(this),this._couponController=new c.CouponController(this),this._employeeController=new h.EmployeeController(this),this._employeeTokenController=new m.EmployeeTokenController(this),this._graphController=new _.GraphController(this),this._headOfficeController=new C.HeadOfficeController(this),this._menuItemController=new y.MenuItemController(this),this._modifierController=new g.ModifierController(this),this._vendorController=new $.VendorController(this),this._verificationController=new v.VerificationController(this),this._validationController=new f.ValidationController(this),this._surveyController=new P.SurveyController(this),this._orderController=new S.OrderController(this),this._imageController=new E.ImageController(this),this._payoutController=new w.PayoutController(this),this._explorePageController=new A.ExplorePageController(this),this._flashSaleController=new b.FlashSaleController(this),this._tipController=new I.TipController(this),this._loyaltyProgramController=new T.LoyaltyProgramController(this),this._loyaltyCardController=new R.LoyaltyCardController(this),this._redeemableItemController=new L.RedeemableItemController(this),this._remoteConfigurationController=new O.RemoteConfigurationController(this)}get Authorization(){return{getTokenScope:this._authorizationController.getTokenScope}}get Cart(){return{updateNote:this._cartController.updateNote,removeCoupon:this._cartController.removeCoupon,applyCoupon:this._cartController.applyCoupon,delete:this._cartController.delete,removeItem:this._cartController.removeItem,addItem:this._cartController.addItem,create:this._cartController.create}}get Category(){return{create:this._categoryController.create,delete:this._categoryController.delete,update:this._categoryController.update,batchUpdate:this._categoryController.batchUpdate}}get Customer(){return{create:this._customerController.create,enrollApnsToken:this._customerController.enrollApnsToken,revokeApnsToken:this._customerController.revokeApnsToken,enrollFcmToken:this._customerController.enrollFcmToken,revokeFcmToken:this._customerController.revokeFcmToken,update:this._customerController.update,updateCreditCard:this._customerController.updateCreditCard,createWallet:this._customerController.createWallet,reloadWallet:this._customerController.reloadWallet,resetPassword:this._customerController.resetPassword,sendPasswordResetCode:this._customerController.sendPasswordResetCode,refundWallet:this._customerController.refundWallet,createWalletTransaction:this._customerController.createWalletTransaction,addFavouriteVendor:this._customerController.addFavouriteVendor,removeFavouriteVendor:this._customerController.removeFavouriteVendor,addFavouriteItem:this._customerController.addFavouriteItem,removeFavouriteItem:this._customerController.removeFavouriteItem}}get CustomerToken(){return{create:this._customerTokenController.create}}get Coupon(){return{create:this._couponController.create}}get Employee(){return{create:this._employeeController.create,update:this._employeeController.update,delete:this._employeeController.delete,enrollTerminalFcm:this._employeeController.enrollTerminalFcm,revokeTerminalFcm:this._employeeController.revokeTerminalFcm,resetEmployeePassword:this._employeeController.resetEmployeePassword,sendPasswordResetCode:this._employeeController.sendPasswordResetCode}}get EmployeeToken(){return{create:this._employeeTokenController.create}}get Graph(){return{query:this._graphController.query}}get MenuItem(){return{create:this._menuItemController.create,update:this._menuItemController.update,batchUpdate:this._menuItemController.batchUpdate,delete:this._menuItemController.delete}}get Modifier(){return{create:this._modifierController.create,update:this._modifierController.update,delete:this._modifierController.delete}}get Order(){return{create:this._orderController.create,cancel:this._orderController.cancel,beginPreparing:this._orderController.beginPreparing,prepared:this._orderController.prepared,complete:this._orderController.complete}}get HeadOffice(){return{create:this._headOfficeController.create,update:this._headOfficeController.update,delete:this._headOfficeController.delete}}get Verification(){return{startVerificationSession:this._verificationController.startVerificationSession,checkVerificationSession:this._verificationController.checkVerificationSession}}get Vendor(){return{create:this._vendorController.create,createWithEmployee:this._vendorController.createWithEmployee,update:this._vendorController.update,updateAllMenuItemsStatus:this._vendorController.updateAllMenuItemsStatus,deleteVendorTester:this._vendorController.deleteVendorTester,addVendorTesterByEmailAddress:this._vendorController.addVendorTesterByEmailAddress,updateVendorApprovalStatus:this._vendorController.updateVendorApprovalStatus,requestVendorApproval:this._vendorController.requestVendorApproval}}get Validation(){return{Customer:{signupEmail:this._validationController.customerSignupEmail,signupPhone:this._validationController.customerSignupPhone}}}get Survey(){return{create:this._surveyController.create,update:this._surveyController.update,archive:this._surveyController.archive,delete:this._surveyController.delete,release:this._surveyController.release,createSurveyResponse:this._surveyController.createSurveyResponse}}get Image(){return{upload:this._imageController.upload,getLink:this._imageController.getLink}}get Payout(){return{request:this._payoutController.request,update:this._payoutController.update,cancel:this._payoutController.cancel}}get ExplorePage(){return{replace:this._explorePageController.replace}}get FlashSale(){return{create:this._flashSaleController.create,update:this._flashSaleController.update}}get Tip(){return{create:this._tipController.create}}get LoyaltyProgram(){return{create:this._loyaltyProgramController.create,update:this._loyaltyProgramController.update,delete:this._loyaltyProgramController.delete}}get LoyaltyCard(){return{createLoyaltyCardAndEnroll:this._loyaltyCardController.createLoyaltyCardAndEnroll,awardPointsToLoyaltyCard:this._loyaltyCardController.awardPointsToLoyaltyCard,awardShareablePointsToLoyaltyCard:this._loyaltyCardController.awardShareablePointsToLoyaltyCard,shareLoyaltyPoints:this._loyaltyCardController.shareLoyaltyPoints,redeemLoyaltyPointsForCoupon:this._loyaltyCardController.redeemLoyaltyPointsForCoupon}}get RedeemableItem(){return{create:this._redeemableItemController.create,update:this._redeemableItemController.update,delete:this._redeemableItemController.delete}}get RemoteConfiguration(){return{fetch:this._remoteConfigurationController.fetch,deleteRawConfiguration:this._remoteConfigurationController.deleteRawConfiguration,updateRawConfiguration:this._remoteConfigurationController.updateRawConfiguration,createRawConfiguration:this._remoteConfigurationController.createRawConfiguration}}get Util(){return{strToIdentifier:o.strToIdentifier}}getAdaptor(){return this._adaptor}getConfiguration(){return k}setAuthenticationToken(e){this._token=e,this._adaptor.setAuthenticationToken(e)}getAuthenticationToken(){return this._token}isCompatible(){let e=`\n            query {\n                is_sdk_version_supported(version:"${a.default.version}")\n            }\n        `;return new Promise((t,r)=>{this.Graph.query(e).then(e=>{t(e.is_sdk_version_supported)}).catch(e=>{r(e)})})}setApolloEndpoint(e){this.setGraphQLEndpoint(e)}setGraphQLEndpoint(e){k.endpoints.graphQLEndpoint.production=e,this._adaptor=new i.CheaprEatsGraphQLAdaptor({graphQLEndpoint:this.getConfiguration().endpoints.graphQLEndpoint.production})}setVerificationEndpoint(e){k.endpoints.verificationEndpoint.production=e}setValidationEndpoint(e){k.endpoints.validationEndpoint.production=e}setImageEndpoint(e){k.endpoints.imageEndpoint.production=e}setImageDistributionEndpoint(e){k.endpoints.imageEndpoint.distribution=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strToIdentifier=function(e){let t="";for(let r=0;r<e.length;r++)e[r].match(/[A-Za-z0-9]/)?t+=e[r].toLowerCase():"_"!==e[r]&&" "!==e[r]&&"-"!==e[r]||"_"===t[t.length-1]||(t+="_");return"_"===t[t.length-1]&&(t=t.slice(0,t.length-1)),"_"===t[0]&&(t=t.slice(1,t.length)),t}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8),i=r(9),a=n(r(1));class d extends o.Adaptor{constructor(e){super(e),this._graphQLLink=new i.GraphQLLink(e.graphQLEndpoint,{version:a.default.version||null})}setAuthenticationToken(e){this._graphQLLink=new i.GraphQLLink(this._config.graphQLEndpoint,{headers:{version:a.default.version,authorization:e}})}setGraphQLEndpoint(e){this._graphQLLink=new i.GraphQLLink(e),this._config.graphQLEndpoint=e}query(e,t={}){return this._graphQLLink.query({query:e,variables:t})}mutate(e,t={}){return this._graphQLLink.mutate({query:e,variables:t})}}t.CheaprEatsGraphQLAdaptor=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Adaptor=class{constructor(e){this._config=e}run(e){throw new Error("Not implemented")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(11);class i extends n.SynchronousLink{constructor(e,t={}){super(e),this._headers=t.headers||{},this._constructClient()}_constructClient(){this._client=new o.GraphQLClient(this._url,{headers:this._headers})}async query(e){return await this.run(e)}async mutate(e){return await this.run(e)}async run(e){return await this._client.request(e.query,e.variables||{})}}t.GraphQLLink=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Link=class{constructor(e){this._url=e}run(e){throw new Error("Not implemented")}}},function(e,t){e.exports=graphql-request},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AuthorizationController=class{constructor(e){this.app=e,this.getTokenScope=this.getTokenScope.bind(this)}getTokenScope(e){let t=`\n            query {\n                auth_token_scope(token: "${e}")\n            }\n        `;return new Promise((e,r)=>this.app.getAdaptor().query(t).then(t=>{e(t.auth_token_scope)}).catch(e=>{r(e)}))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CartController=class{constructor(e){this.app=e,this.updateNote=this.updateNote.bind(this),this.removeCoupon=this.removeCoupon.bind(this),this.applyCoupon=this.applyCoupon.bind(this),this.delete=this.delete.bind(this),this.removeItem=this.removeItem.bind(this),this.addItem=this.addItem.bind(this),this.create=this.create.bind(this)}updateNote(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $note: String!) {\n                    updateNoteForCart(cart_id: $cartId, note: $note) {\n                        _id\n                    }\n                }\n            ",{cartId:e,note:t}).then(e=>{r(e.updateNoteForCart)}).catch(e=>{n(e)})})}removeCoupon(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $cartCouponId: String!) {\n                    removeCouponFromCart(cart_id: $cartId, cart_coupon_id: $cartCouponId) {\n                        _id\n                    }\n                }\n            ",{cartId:e,cartCouponId:t}).then(e=>{r(e.removeCouponFromCart)}).catch(e=>{n(e)})})}applyCoupon(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $couponCode: String!) {\n                    applyCouponToCart(cart_id: $cartId, coupon_code: $couponCode) {\n                        _id\n                    }\n                }\n            ",{cartId:e,couponCode:t}).then(e=>{r(e.applyCouponToCart)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!) {\n                    deleteCart(cart_id: $cartId)\n                }\n            ",{cartId:e}).then(e=>{t(e.deleteCart)}).catch(e=>{r(e)})})}removeItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $cartItemId: String!) {\n                    removeItemFromCart(\n                        cart_id: $cartId,\n                        cart_item_id: $cartItemId\n                    ) {\n                        _id\n                    }\n                }\n            ",{cartId:e,cartItemId:t}).then(e=>{r(e.removeItemFromCart)}).catch(e=>{n(e)})})}addItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($cartId: String!, $item: AddItemToCartInput!) {\n                    addItemToCart(\n                        cart_id: $cartId,\n                        item: $item\n                    ) {\n                        _id\n                    }\n                }\n            ",{cartId:e,item:t}).then(e=>{r(e.addItemCart)}).catch(e=>{n(e)})})}create(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($customerId: String!, $vendorId: String!) {\n                    createCart(\n                        customer_id: $customerId,\n                        vendor_id: $vendorId\n                    ) {\n                        _id\n                    }\n                }\n            ",{customerId:e,vendorId:t}).then(e=>{r(e.createCart)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CategoryController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.batchUpdate=this.batchUpdate.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCategoryMutation ($category: CreateCategoryInput!) {\n                    createCategory(category: $category) {\n                        _id\n                    }\n                }\n            ",{category:e}).then(e=>{t(e.createCategory._id)}).catch(e=>{r(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteCategoryMutation ($id: String!) {\n                    deleteCategory(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteCategory)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateCategoryMutation ($id: String!, $category: UpdateCategoryInput!) {\n                    updateCategory(id: $id, category: $category) {\n                        _id\n                    }\n                }\n            ",{id:e,category:t}).then(e=>{r(e.updateCategory._id)}).catch(e=>{n(e)})})}batchUpdate(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($categories: [BatchUpdateCategoriesInput]!){\n                    batchUpdateCategories(categories: $categories) {\n                        _id\n                    }\n                }\n            ",{categories:e}).then(e=>{t(e.batchUpdateCategories)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.CustomerController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.updateCreditCard=this.updateCreditCard.bind(this),this.enrollApnsToken=this.enrollApnsToken.bind(this),this.revokeApnsToken=this.revokeApnsToken.bind(this),this.enrollFcmToken=this.enrollFcmToken.bind(this),this.revokeFcmToken=this.revokeFcmToken.bind(this),this.createWallet=this.createWallet.bind(this),this.reloadWallet=this.reloadWallet.bind(this),this.sendPasswordResetCode=this.sendPasswordResetCode.bind(this),this.resetPassword=this.resetPassword.bind(this),this.refundWallet=this.refundWallet.bind(this),this.createWalletTransaction=this.createWalletTransaction.bind(this),this.addFavouriteVendor=this.addFavouriteVendor.bind(this),this.removeFavouriteVendor=this.removeFavouriteVendor.bind(this),this.addFavouriteItem=this.addFavouriteItem.bind(this),this.removeFavouriteItem=this.removeFavouriteItem.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCustomerMutation ($customer: CreateCustomerInput!) {\n                    createCustomer(customer: $customer) {\n                        _id\n                    }\n                }\n            ",{customer:e}).then(e=>{t(e.createCustomer._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateCustomerMutation ($id: String!, $customer: UpdateCustomerInput!) {\n                    updateCustomer(id: $id, customer: $customer) {\n                        _id\n                    }\n                }\n            ",{id:e,customer:t}).then(e=>{r(e.updateCustomer._id)}).catch(e=>{n(e)})})}enrollApnsToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation enrollCustomerApnsTokenMutation ($id: String!, $token: String!) {\n                    enrollCustomerApnsToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.enrollCustomerApnsToken)}).catch(e=>{n(e)})})}revokeApnsToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation revokeCustomerApnsTokenMutation ($id: String!, $token: String!) {\n                    revokeCustomerApnsToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.revokeCustomerApnsToken)}).catch(e=>{n(e)})})}enrollFcmToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation enrollCustomerFcmTokenMutation ($id: String!, $token: String!) {\n                    enrollCustomerFcmToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.enrollCustomerFcmToken)}).catch(e=>{n(e)})})}revokeFcmToken(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation revokeCustomerFcmTokenMutation ($id: String!, $token: String!) {\n                    revokeCustomerFcmToken(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.revokeCustomerFcmToken)}).catch(e=>{n(e)})})}updateCreditCard(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateCustomerCreditCardMutation ($id: String!, $token: String!) {\n                    updateCustomerCreditCard(id: $id, token: $token) {\n                        _id\n                    }\n                }\n            ",{id:e,token:t}).then(e=>{r(e.updateCustomerCreditCard)}).catch(e=>{n(e)})})}createWallet(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCustomerWallet ($id: String!) {\n                    createCustomerWallet(id: $id) {\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e.createCustomerWallet._id)}).catch(e=>{r(e)})})}reloadWallet(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation reloadCustomerWallet ($id: String!, $amount: Int!, $payment_method: String!) {\n                    reloadCustomerWallet(id: $id, amount: $amount, payment_method: $payment_method) {\n                        _id\n                    }\n                }\n            ",{id:e,amount:t,payment_method:r}).then(e=>{n(e.reloadCustomerWallet._id)}).catch(e=>{o(e)})})}sendPasswordResetCode(e,t=n.ResetCodeSendMethod.EMAIL){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation sendCustomerPasswordResetCode ($email_address: String!, $method: ResetCodeSendMethod) {\n                    sendCustomerPasswordResetCode(email_address: $email_address, method:$method)\n                }\n            ",{email_address:e,method:t}).then(e=>{r(e.sendCustomerPasswordResetCode)}).catch(e=>{n(e)})})}resetPassword(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation resetCustomerPassword ($email_address: String!, $code: String!, $password: String!) {\n                    resetCustomerPassword(email_address: $email_address, code: $code, password: $password) {\n                        _id\n                    }\n                }\n            ",{email_address:e,code:t,password:r}).then(e=>{n(e.resetCustomerPassword._id)}).catch(e=>{o(e)})})}refundWallet(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $vendor_id: String!, $amount: Int!, $order_id: String) {\n                    refundCustomerWallet(id: $id, vendor_id: $vendor_id, amount: $amount, order_id: $order_id) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor_id:t,amount:r,order_id:n}).then(e=>{o(e.refundCustomerWallet._id)}).catch(e=>{i(e)})})}createWalletTransaction(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $transaction_type: String!, $amount: Int!, $description: String) {\n                    createCustomerWalletTransaction(id: $id, transaction_type: $transaction_type, amount: $amount, description: $description) {\n                        _id\n                    }\n                }\n            ",{id:e,transaction_type:t,amount:r,description:n}).then(e=>{o(e.createCustomerWalletTransaction._id)}).catch(e=>{i(e)})})}addFavouriteVendor(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $vendor_id: String!) {\n                    addFavouriteVendorForCustomer (id: $id, vendor_id: $vendor_id) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor_id:t}).then(e=>{r(e.addFavouriteVendorForCustomer._id)}).catch(e=>{n(e)})})}removeFavouriteVendor(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $vendor_id: String!) {\n                    removeFavouriteVendorForCustomer (id: $id, vendor_id: $vendor_id) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor_id:t}).then(e=>{r(e.removeFavouriteVendorForCustomer._id)}).catch(e=>{n(e)})})}addFavouriteItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $item_id: String!) {\n                    addFavouriteItemForCustomer (id: $id, item_id: $item_id) {\n                        _id\n                    }\n                }\n            ",{id:e,item_id:t}).then(e=>{r(e.addFavouriteItemForCustomer._id)}).catch(e=>{n(e)})})}removeFavouriteItem(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id:String!, $item_id:String!) {\n                    removeFavouriteItemForCustomer (id:$id, item_id:$item_id) {\n                        _id\n                    }\n                }\n            ",{id:e,item_id:t}).then(e=>{r(e.removeFavouriteItemForCustomer._id)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CustomerTokenController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation createCustomerTokenMutation ($email_address: String!, $password: String!) {\n                    createCustomerToken(email_address: $email_address, password: $password) {\n                        _id\n                        body\n                        created_at\n                        updated_at\n                    }\n                }\n            ",{email_address:e,password:t}).then(e=>{r(e.createCustomerToken)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CouponController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createCouponMutation ($coupon: CreateCouponInput!) {\n                    createCoupon(coupon: $coupon) {\n                        _id\n                    }\n                }\n            ",{coupon:e}).then(e=>{t(e.createCoupon._id)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EmployeeTokenController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation createEmployeeTokenMutation ($vendor_id: String!, $username: String!, $password: String!) {\n                    createEmployeeToken(vendor_id: $vendor_id, username: $username, password: $password) {\n                        body\n                    }\n                }\n            ",{vendor_id:e,username:t,password:r}).then(e=>{n(e.createEmployeeToken.body)}).catch(e=>{o(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.VENDOR_ADMIN="VENDOR_ADMIN",e.VENDOR_EMPLOYEE="VENDOR_EMPLOYEE",e.CUSTOMER="CUSTOMER",e.MASTER="MASTER",e.INVALID="INVALID"}(t.UserTypes||(t.UserTypes={}));t.GraphController=class{constructor(e){this.app=e,this.query=this.query.bind(this)}query(e,t={}){return this.app.getAdaptor().query(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HeadOfficeController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createHeadOffice ($identifier: String!) {\n                    createHeadOffice(identifier: $identifier) {\n                        _id\n                    }\n                }\n            ",{identifier:e}).then(e=>{t(e.createHeadOffice._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateHeadOffice ($id: String!, $identifier: String!) {\n                    updateHeadOffice(id: $id, identifier: $identifier) {\n                        _id\n                    }\n                }\n            ",{id:e,identifier:t}).then(e=>{r(e.updateHeadOffice._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteHeadOffice ($id: String!) {\n                    deleteHeadOffice(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteHeadOffice)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MenuItemController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this),this.batchUpdate=this.batchUpdate.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createMenuItemMutation ($menu_item: CreateMenuItemInput!) {\n                    createMenuItem(menu_item: $menu_item) {\n                        _id\n                    }\n                }\n            ",{menu_item:e}).then(e=>{t(e.createMenuItem._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateMenuItemMutation ($id: String!, $menu_item: UpdateMenuItemInput!) {\n                    updateMenuItem(id: $id, menu_item: $menu_item) {\n                        _id\n                    }\n                }\n            ",{id:e,menu_item:t}).then(e=>{r(e.updateMenuItem._id)}).catch(e=>{n(e)})})}batchUpdate(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation batchUpdateMenuItems ($menu_items: [BatchUpdateMenuItemsInput]!) {\n                    batchUpdateMenuItems(menu_items: $menu_items) {\n                        _id\n                    }\n                }\n            ",{menu_items:e}).then(e=>{t(e.batchUpdateMenuItems)}).catch(e=>{r(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteMenuItemMutation ($id: String!) {\n                    deleteMenuItem(id: $id)\n                }\n            ",{id:e}).then(()=>{t()}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ModifierController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createModifier ($modifier: CreateModifierInput!) {\n                    createModifier(modifier: $modifier) {\n                        _id\n                    }\n                }\n            ",{modifier:e}).then(e=>{t(e.createModifier._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateModifier ($id: String!, $modifier: UpdateModifierInput!) {\n                    updateModifier(id: $id, modifier: $modifier) {\n                        _id\n                    }\n                }\n            ",{id:e,modifier:t}).then(e=>{r(e.updateModifier._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation deleteModifier ($id: String!) {\n                    deleteModifier(id: $id)\n                }\n            ",{id:e}).then(()=>{t()}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NOT_APPROVED="NOT_APPROVED",e.PENDING="PENDING",e.APPROVED="APPROVED"}(t.VendorApprovalStatus||(t.VendorApprovalStatus={})),function(e){e.OFF="OFF",e.WEEKLY="WEEKLY",e.BI_WEEKLY="BI_WEEKLY",e.MONTHLY="MONTHLY"}(t.PayoutAutoRequestSchedule||(t.PayoutAutoRequestSchedule={})),function(e){e.FIRST_TIME="FIRST_TIME",e.CASUAL="CASUAL",e.REGULAR="REGULAR"}(t.VendorAnalyticsCustomerType||(t.VendorAnalyticsCustomerType={}));t.VendorController=class{constructor(e){this.app=e,this.deleteVendorTester=this.deleteVendorTester.bind(this),this.addVendorTesterByEmailAddress=this.addVendorTesterByEmailAddress.bind(this),this.updateVendorApprovalStatus=this.updateVendorApprovalStatus.bind(this),this.requestVendorApproval=this.requestVendorApproval.bind(this),this.create=this.create.bind(this),this.update=this.update.bind(this),this.createWithEmployee=this.createWithEmployee.bind(this),this.updateAllMenuItemsStatus=this.updateAllMenuItemsStatus.bind(this)}deleteVendorTester(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteVendorTester(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteVendorTester)}).catch(e=>{r(e)})})}addVendorTesterByEmailAddress(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $email_address: String!) {\n                    addVendorTesterByEmailAddress(id: $id, email_address: $email_address) {\n                        _id\n                    }\n                }\n            ",{id:e,email_address:t}).then(e=>{r(e.addVendorTesterByEmailAddress)}).catch(e=>{n(e)})})}updateVendorApprovalStatus(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $approval_status: VendorApprovalStatus!) {\n                    updateVendorApprovalStatus(id: $id, approval_status: $approval_status) {\n                        _id\n                    }\n                }\n            ",{id:e,approval_status:t}).then(e=>{r(e.updateVendorApprovalStatus._id)}).catch(e=>{n(e)})})}requestVendorApproval(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    requestVendorApproval(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.requestVendorApproval)}).catch(e=>{r(e)})})}create(e){return console.warn("Vendor.create is deprecated, it is recommended for you to move to Vendor.createWithEmployee"),new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createVendorMutation ($vendor: CreateVendorInput!) {\n                    createVendor(vendor: $vendor) {\n                        _id\n                    }\n                }\n            ",{vendor:e}).then(e=>{t(e.createVendor._id)}).catch(e=>{r(e)})})}createWithEmployee(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createVendorWithEmployeeMutation($vendor: CreateVendorWithEmployeeInput!) {\n                    createVendorWithEmployee(vendor: $vendor) {\n                        _id\n                    }\n                }\n            ",{vendor:e}).then(e=>{t(e.createVendorWithEmployee._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation updateVendorMutation ($id: String!, $vendor: UpdateVendorInput!) {\n                    updateVendor(id: $id, vendor: $vendor) {\n                        _id\n                    }\n                }\n            ",{id:e,vendor:t}).then(e=>{r(e.updateVendor._id)}).catch(e=>{n(e)})})}updateAllMenuItemsStatus(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($vendor_id: String!, $status: String!) {\n                    updateAllMenuItemsStatusForVendor(vendor_id: $vendor_id, status: $status)\n                }\n            ",{vendor_id:e,status:t}).then(e=>{r(e.updateAllMenuItemsStatusForVendor)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VerificationController=class{constructor(e){this.app=e,this.startVerificationSession=this.startVerificationSession.bind(this),this.checkVerificationSession=this.checkVerificationSession.bind(this)}startVerificationSession(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createSmsVerificationSessionMutation ($phone_number:String!) {\n                    createSmsVerificationSession(phone_number:$phone_number) {\n                        uuid\n                    }\n                }\n            ",{phone_number:e}).then(e=>{t(e)}).catch(e=>{r(e)})})}checkVerificationSession(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation verifySmsVerificationSessionMutation ($uuid:String!, $verification_code:String!) {\n                    verifySmsVerificationSession(uuid:$uuid, verification_code:$verification_code) {\n                        phone_number,\n                        verified_status\n                    }\n                }\n            ",{uuid:e,verification_code:t}).then(e=>{r(e)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.ValidationController=class{constructor(e){this.app=e,this.customerSignupEmail=this.customerSignupEmail.bind(this),this.customerSignupPhone=this.customerSignupPhone.bind(this)}getHttpLink(e=""){return new n.HttpLink(this.app.getConfiguration().endpoints.validationEndpoint.production+e)}customerSignupEmail(e){return new Promise((t,r)=>{this.getHttpLink("/customer/signup/email").post({data:{email:e}}).then(e=>{t(e.data)}).catch(e=>{r(e)})})}customerSignupPhone(e){return new Promise((t,r)=>{this.getHttpLink("/customer/signup/phone").post({data:{phone:e}}).then(e=>{t(e.data)}).catch(e=>{r(e)})})}}},function(e,t){e.exports=axios},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHECKBOX="CHECKBOX",e.MULTI_CHECKBOX="MULTI_CHECKBOX",e.SHORT_ANSWER="SHORT_ANSWER",e.RATING="RATING"}(t.SurveyQuestionType||(t.SurveyQuestionType={})),function(e){e.AFTER_ORDER="AFTER_ORDER"}(t.SurveyDeliveryRule||(t.SurveyDeliveryRule={}));t.SurveyController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.archive=this.archive.bind(this),this.delete=this.delete.bind(this),this.release=this.release.bind(this),this.createSurveyResponse=this.createSurveyResponse.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($survey: CreateSurveyInput!) {\n                    createSurvey(survey: $survey) {\n                        _id\n                    }\n                }\n            ",{survey:e}).then(e=>{t(e.createSurvey._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $survey: UpdateSurveyInput!) {\n                    updateSurvey(id: $id, survey: $survey) {\n                        _id\n                    }\n                }\n            ",{id:e,survey:t}).then(e=>{r(e.updateSurvey._id)}).catch(e=>{n(e)})})}archive(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    archiveSurvey(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.archiveSurvey)}).catch(e=>{r(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteSurvey(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteSurvey)}).catch(e=>{r(e)})})}release(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    releaseSurvey(id: $id) {\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e.releaseSurvey._id)}).catch(e=>{r(e)})})}createSurveyResponse(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($survey_id: String!, $survey_response: CreateSurveyResponseInput!) {\n                    createSurveyResponse(survey_id: $survey_id, survey_response: $survey_response) {\n                        _id\n                    }\n                }\n            ",{survey_id:e,survey_response:t}).then(e=>{r(e.createSurveyResponse._id)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EAT_IN="EAT_IN",e.TAKE_OUT="TAKE_OUT",e.DELIVERY="DELIVERY"}(t.OrderType||(t.OrderType={})),function(e){e.VENDOR_CANCELLED="VENDOR_CANCELLED",e.VENDOR_PREP_CANCELLED="VENDOR_PREP_CANCELLED",e.VENDOR_ITEM_SOLD_OUT="VENDOR_ITEM_SOLD_OUT",e.VENDOR_STORE_CLOSING_SOON="VENDOR_STORE_CLOSING_SOON",e.CUSTOMER_NOT_PICKED_UP="CUSTOMER_NOT_PICKED_UP",e.CUSTOMER_CANCELLED="CUSTOMER_CANCELLED",e.OTHER="OTHER"}(t.OrderCancellationReason||(t.OrderCancellationReason={}));t.OrderController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.cancel=this.cancel.bind(this),this.beginPreparing=this.beginPreparing.bind(this),this.prepared=this.prepared.bind(this),this.complete=this.complete.bind(this)}create(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation createOrderMutation ($order: CreateOrderInput!, $dry: Boolean, $clear_cart: Boolean) {\n                    createOrder(order: $order, dry: $dry, clear_cart: $clear_cart) {\n                        _id\n                    }\n                }\n            ",{order:e,dry:t,clear_cart:r}).then(e=>{n(e.createOrder._id)}).catch(e=>{o(e)})})}cancel(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation cancelOrderMutation ($id: String!, $reason: OrderCancellationReason!, $description: String){\n                    cancelOrder(id: $id, reason: $reason, description: $description){\n                        _id\n                    }\n                }\n            ",{id:e,reason:t,description:r}).then(e=>{n(e)}).catch(e=>{o(e)})})}beginPreparing(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation beginPreparingOrder($id: String!, $estimated_preparing_sec: Int!){\n                    beginPreparingOrder(id: $id, estimated_preparing_sec: $estimated_preparing_sec){\n                        _id\n                    }\n                }\n            ",{id:e,estimated_preparing_sec:t}).then(e=>{r(e)}).catch(e=>{n(e)})})}prepared(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation preparedOrderMutation ($id: String!){\n                    preparedOrder (id: $id){\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e)}).catch(e=>{r(e)})})}complete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation completeOrderMutation ($id: String!){\n                    completeOrder(id: $id){\n                        _id\n                    }\n                }\n            ",{id:e}).then(e=>{t(e)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.ImageController=class{constructor(e){this.app=e,this.upload=this.upload.bind(this),this.getLink=this.getLink.bind(this)}getHttpLink(e=""){return new n.HttpLink(this.app.getConfiguration().endpoints.imageEndpoint.production+e)}upload(e){const t=this.getHttpLink("/upload");return new Promise((r,n)=>{t.post({data:{image:e}}).then(e=>{r(e.data)}).catch(e=>{n(e)})})}getLink(e,t){return this.app.getConfiguration().endpoints.imageEndpoint.distribution+"/"+e+"-"+t+".png"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MANUAL="MANUAL"}(t.PayoutMethod||(t.PayoutMethod={})),function(e){e.PENDING="PENDING",e.IN_TRANSIT="IN_TRANSIT",e.PAID="PAID",e.CANCELLED="CANCELLED"}(t.PayoutStatus||(t.PayoutStatus={})),function(e){e.CREDIT="CREDIT",e.DEBIT="DEBIT"}(t.ServiceChargeType||(t.ServiceChargeType={})),function(e){e.ORDER_TRANSACTION_FEE="ORDER_TRANSACTION_FEE",e.PAYOUT_REQUEST_FEE="PAYOUT_REQUEST_FEE",e.OTHER="OTHER",e.OTHER_TAXABLE="OTHER_TAXABLE",e.TAX="TAX"}(t.ServiceChargeReason||(t.ServiceChargeReason={}));t.PayoutController=class{constructor(e){this.app=e,this.request=this.request.bind(this),this.update=this.update.bind(this),this.cancel=this.cancel.bind(this)}request(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($vendor_id: String!, $dry: Boolean) {\n                    requestPayout(vendor_id: $vendor_id, dry: $dry) {\n                        _id\n                        total\n                    }\n                }\n            ",{vendor_id:e,dry:t}).then(e=>{r(e.requestPayout)}).catch(e=>{n(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $payout:UpdatePayoutInput!) {\n                    updatePayout(id: $id, payout: $payout) {\n                        _id\n                    }\n                }\n            ",{id:e,payout:t}).then(e=>{r(e.updatePayout._id)}).catch(e=>{n(e)})})}cancel(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    cancelPayout(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.cancelPayout)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ExplorePageController=class{constructor(e){this.app=e,this.replace=this.replace.bind(this)}replace(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($advertisements: [AdvertisementInput], $daily_deals: [DailyDealsInput], $special_deals: [SpecialDealsInput], $timely_deals: [TimelyDealsInput]) { \n                    replaceExplorePage(advertisements: $advertisements, daily_deals: $daily_deals, special_deals: $special_deals, timely_deals: $timely_deals) {\n                        updated_at\n                    }\n                }\n            ",{advertisements:e,daily_deals:t,special_deals:r,timely_deals:n}).then(e=>{o(e.replaceExplorePage.updated_at)}).catch(e=>{i(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DOLLAR="DOLLAR",e.PERCENTAGE="PERCENTAGE"}(t.FlashSaleType||(t.FlashSaleType={}));t.FlashSaleController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this)}create(e,t,r,n,o,i){return new Promise((a,d)=>{this.app.getAdaptor().mutate("\n                mutation($vendor_id: String!, $type: FlashSaleType!, $amount: Int!, $items: [FlashSaleItemInput]!, $start_at: String!, $end_at: String!) {\n                    createFlashSale(vendor_id: $vendor_id, type: $type, amount: $amount, items:$items, start_at:$start_at, end_at:$end_at) {\n                        _id\n                    }\n                }\n            ",{vendor_id:e,type:t,amount:r,items:n,start_at:o,end_at:i}).then(e=>{a(e.createFlashSale._id)}).catch(e=>{d(e)})})}update(e,t,r){return new Promise((n,o)=>{this.app.getAdaptor().mutate("\n                mutation($id: String!, $items: [FlashSaleItemInput], $end_at: String) {\n                    updateFlashSale(id: $id, items:$items, end_at:$end_at) {\n                        _id\n                    }\n                }\n            ",{id:e,items:t,end_at:r}).then(e=>{n(e.updateFlashSale._id)}).catch(e=>{o(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TipController=class{constructor(e){this.app=e,this.create=this.create.bind(this)}create(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($order_id:String!, $amount:Int!) {\n                    createTip(order_id:$order_id, amount:$amount) {\n                        _id,\n                    }\n                }             \n            ",{order_id:e,amount:t}).then(e=>{r(e.createTip._id)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.DOLLAR="DOLLAR",e.ORDER="ORDER",e.ITEM="ITEM"}(t.LoyaltyProgramType||(t.LoyaltyProgramType={}));t.LoyaltyProgramController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($loyalty_program: CreateLoyaltyProgramInput!) {\n                    createLoyaltyProgram(loyalty_program: $loyalty_program) {\n                        _id\n                    }\n                }\n            ",{loyalty_program:e}).then(e=>{t(e.createLoyaltyProgram._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id:String!, $loyalty_program: UpdateLoyaltyProgramInput!) {\n                    updateLoyaltyProgram(id:$id, loyalty_program: $loyalty_program) {\n                        _id\n                    }\n                }\n            ",{id:e,loyalty_program:t}).then(e=>{r(e.updateLoyaltyProgram._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteLoyaltyProgram(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteLoyaltyProgram)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.EARNING="EARNING",e.EARNING_FRIEND="EARNING_FRIEND",e.SHARING="SHARING",e.REDEEMING="REDEEMING"}(t.LoyaltyTransactionType||(t.LoyaltyTransactionType={}));t.LoyaltyCardController=class{constructor(e){this.app=e,this.createLoyaltyCardAndEnroll=this.createLoyaltyCardAndEnroll.bind(this),this.awardPointsToLoyaltyCard=this.awardPointsToLoyaltyCard.bind(this),this.awardShareablePointsToLoyaltyCard=this.awardShareablePointsToLoyaltyCard.bind(this),this.shareLoyaltyPoints=this.shareLoyaltyPoints.bind(this),this.redeemLoyaltyPointsForCoupon=this.redeemLoyaltyPointsForCoupon.bind(this)}createLoyaltyCardAndEnroll(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($loyalty_card:CreateLoyaltyCardInput!) {\n                    createLoyaltyCardAndEnroll(loyalty_card: $loyalty_card) {\n                        _id\n                    }\n                }\n            ",{loyalty_card:e}).then(e=>{t(e.createLoyaltyCardAndEnroll._id)}).catch(e=>{r(e)})})}awardPointsToLoyaltyCard(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $amount: Int!) {\n                    awardPointsToLoyaltyCard(id: $id, amount: $amount) {\n                        _id\n                    }\n                }\n            ",{id:e,amount:t}).then(e=>{r(e.awardPointsToLoyaltyCard._id)}).catch(e=>{n(e)})})}awardShareablePointsToLoyaltyCard(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $amount: Int!) {\n                    awardShareablePointsToLoyaltyCard(id: $id, amount: $amount) {\n                        _id\n                    }\n                }\n            ",{id:e,amount:t}).then(e=>{r(e.awardShareablePointsToLoyaltyCard._id)}).catch(e=>{n(e)})})}shareLoyaltyPoints(e,t,r,n){return new Promise((o,i)=>{this.app.getAdaptor().mutate("\n                mutation ($sender_customer_id: String!, $receiver_phone_number: String!, $loyalty_program_id: String!, $no_of_points_to_share: Int!) {\n                    shareLoyaltyPoints(sender_customer_id: $sender_customer_id, receiver_phone_number: $receiver_phone_number, loyalty_program_id: $loyalty_program_id, no_of_points_to_share: $no_of_points_to_share) {\n                        _id\n                    }\n                }\n            ",{sender_customer_id:e,receiver_phone_number:t,loyalty_program_id:r,no_of_points_to_share:n}).then(e=>{o(e.shareLoyaltyPoints._id)}).catch(e=>{i(e)})})}redeemLoyaltyPointsForCoupon(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($loyalty_card_id: String!, $menu_item_id: String!) {\n                    redeemLoyaltyPointsForCoupon(loyalty_card_id: $loyalty_card_id, menu_item_id: $menu_item_id) {\n                        _id\n                    }\n                }\n            ",{loyalty_card_id:e,menu_item_id:t}).then(e=>{r(e.redeemLoyaltyPointsForCoupon._id)}).catch(e=>{n(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RedeemableItemController=class{constructor(e){this.app=e,this.create=this.create.bind(this),this.update=this.update.bind(this),this.delete=this.delete.bind(this)}create(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation createRedeemableItem ($redeemable_item: CreateRedeemableItemInput!) {\n                    createRedeemableItem(redeemable_item: $redeemable_item) {\n                        _id\n                    }\n                }\n            ",{redeemable_item:e}).then(e=>{t(e.createRedeemableItem._id)}).catch(e=>{r(e)})})}update(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id:String!, $redeemable_item: UpdateRedeemableItemInput!) {\n                    updateRedeemableItem(id: $id, redeemable_item: $redeemable_item) {\n                        _id\n                    }\n                }\n            ",{id:e,redeemable_item:t}).then(e=>{r(e.updateRedeemableItem._id)}).catch(e=>{n(e)})})}delete(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteRedeemableItem(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteRedeemableItem)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RemoteConfigurationController=class{constructor(e){this.app=e,this.fetch=this.fetch.bind(this),this.deleteRawConfiguration=this.deleteRawConfiguration.bind(this),this.updateRawConfiguration=this.updateRawConfiguration.bind(this),this.createRawConfiguration=this.createRawConfiguration.bind(this)}fetch(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                query ($name: String!, $version: String!) {\n                    merged_configuration(name: $name, version: $version) {\n                        name\n                        data\n                    }\n                }\n            ",{name:e,version:t}).then(e=>{r(JSON.parse(e.merged_configuration.data))}).catch(e=>{n(e)})})}deleteRawConfiguration(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!) {\n                    deleteRawConfiguration(id: $id)\n                }\n            ",{id:e}).then(e=>{t(e.deleteRawConfiguration)}).catch(e=>{r(e)})})}updateRawConfiguration(e,t){return new Promise((r,n)=>{this.app.getAdaptor().mutate("\n                mutation ($id: String!, $rawConfiguration: UpdateRawConfigurationInput!) {\n                    updateRawConfiguration(id: $id, raw_configuration: $rawConfiguration) {\n                        _id\n                    }\n                }\n            ",{id:e,rawConfiguration:t}).then(e=>{r(e.updateRawConfiguration)}).catch(e=>{n(e)})})}createRawConfiguration(e){return new Promise((t,r)=>{this.app.getAdaptor().mutate("\n                mutation ($rawConfiguration: CreateRawConfigurationInput!) {\n                    createRawConfiguration(raw_configuration: $rawConfiguration) {\n                        _id\n                    }\n                }\n            ",{rawConfiguration:e}).then(e=>{t(e.createRawConfiguration)}).catch(e=>{r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={graphQLEndpoint:{production:"https://graphql-v1.cheapreats.com/graphql"},verificationEndpoint:{production:"https://ms-verification-v1.cheapreats.com"},validationEndpoint:{production:"https://ms-validation-v1.cheapreats.com"},imageEndpoint:{production:"https://ms-image-v1.cheapreats.com",distribution:"https://static.cheapreats.com"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9saW5rcy9zeW5jaHJvbm91c2xpbmtzL1N5bmNocm9ub3VzTGluay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmVyc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL0VtcGxveWVlQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvSHR0cExpbmsudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvQXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvdXRpbC9zdHJUb0lkZW50aWZpZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hZGFwdG9ycy9DaGVhcHJFYXRzR3JhcGhRTEFkYXB0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9hZGFwdG9ycy9BZGFwdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGluay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2xpbmtzL0xpbmsudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZ3JhcGhxbC1yZXF1ZXN0XCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9BdXRob3JpemF0aW9uQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL0NhcnRDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvQ2F0ZWdvcnlDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvQ3VzdG9tZXJDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvQ3VzdG9tZXJUb2tlbkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9Db3Vwb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9HcmFwaENvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9IZWFkT2ZmaWNlQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL01lbnVJdGVtQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL01vZGlmaWVyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL1ZlbmRvckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9WZXJpZmljYXRpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvVmFsaWRhdGlvbkNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYXhpb3NcIiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL1N1cnZleUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9PcmRlckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9JbWFnZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9QYXlvdXRDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvRXhwbG9yZVBhZ2VDb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29udHJvbGxlcnMvRmxhc2hTYWxlQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbnRyb2xsZXJzL1RpcENvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9Mb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9Mb3lhbHR5Q2FyZENvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9SZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb250cm9sbGVycy9SZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2VuZHBvaW50cy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlN5bmNocm9ub3VzTGluayIsIkxpbmsiLCJ1cmwiLCJzdXBlciIsInRoaXMiLCJfdHlwZSIsInZlcnNpb24iLCJSZXNldENvZGVTZW5kTWV0aG9kIiwiYXBwIiwidXBkYXRlIiwiZGVsZXRlIiwiZW5yb2xsVGVybWluYWxGY20iLCJyZXZva2VUZXJtaW5hbEZjbSIsInJlc2V0RW1wbG95ZWVQYXNzd29yZCIsInNlbmRQYXNzd29yZFJlc2V0Q29kZSIsImVtcGxveWVlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJnZXRBZGFwdG9yIiwibXV0YXRlIiwidGhlbiIsInJlc3VsdCIsImNyZWF0ZUVtcGxveWVlIiwiX2lkIiwiY2F0Y2giLCJlIiwiaWQiLCJ1cGRhdGVFbXBsb3llZSIsImRlbGV0ZUVtcGxveWVlIiwidG9rZW4iLCJlbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4iLCJyZXZva2VFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4iLCJlbWFpbF9hZGRyZXNzIiwiY29kZSIsInBhc3N3b3JkIiwibWV0aG9kIiwic2VuZEVtcGxveWVlUGFzc3dvcmRSZXNldENvZGUiLCJIdHRwTGluayIsImNvbmZpZyIsInJ1biIsImFzc2lnbiIsInJlcXVlc3QiLCJfdXJsIiwiZGF0YSIsImhlYWRlcnMiLCJBcHAiLCJ3aW5kb3ciLCJDRSIsImVuZHBvaW50cyIsIl90b2tlbiIsIl9hZGFwdG9yIiwiQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yIiwiZ3JhcGhRTEVuZHBvaW50IiwiZ2V0Q29uZmlndXJhdGlvbiIsInByb2R1Y3Rpb24iLCJfYXV0aG9yaXphdGlvbkNvbnRyb2xsZXIiLCJBdXRob3JpemF0aW9uQ29udHJvbGxlciIsIl9jYXJ0Q29udHJvbGxlciIsIkNhcnRDb250cm9sbGVyIiwiX2NhdGVnb3J5Q29udHJvbGxlciIsIkNhdGVnb3J5Q29udHJvbGxlciIsIl9jdXN0b21lckNvbnRyb2xsZXIiLCJDdXN0b21lckNvbnRyb2xsZXIiLCJfY3VzdG9tZXJUb2tlbkNvbnRyb2xsZXIiLCJDdXN0b21lclRva2VuQ29udHJvbGxlciIsIl9jb3Vwb25Db250cm9sbGVyIiwiQ291cG9uQ29udHJvbGxlciIsIl9lbXBsb3llZUNvbnRyb2xsZXIiLCJFbXBsb3llZUNvbnRyb2xsZXIiLCJfZW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIiLCJFbXBsb3llZVRva2VuQ29udHJvbGxlciIsIl9ncmFwaENvbnRyb2xsZXIiLCJHcmFwaENvbnRyb2xsZXIiLCJfaGVhZE9mZmljZUNvbnRyb2xsZXIiLCJIZWFkT2ZmaWNlQ29udHJvbGxlciIsIl9tZW51SXRlbUNvbnRyb2xsZXIiLCJNZW51SXRlbUNvbnRyb2xsZXIiLCJfbW9kaWZpZXJDb250cm9sbGVyIiwiTW9kaWZpZXJDb250cm9sbGVyIiwiX3ZlbmRvckNvbnRyb2xsZXIiLCJWZW5kb3JDb250cm9sbGVyIiwiX3ZlcmlmaWNhdGlvbkNvbnRyb2xsZXIiLCJWZXJpZmljYXRpb25Db250cm9sbGVyIiwiX3ZhbGlkYXRpb25Db250cm9sbGVyIiwiVmFsaWRhdGlvbkNvbnRyb2xsZXIiLCJfc3VydmV5Q29udHJvbGxlciIsIlN1cnZleUNvbnRyb2xsZXIiLCJfb3JkZXJDb250cm9sbGVyIiwiT3JkZXJDb250cm9sbGVyIiwiX2ltYWdlQ29udHJvbGxlciIsIkltYWdlQ29udHJvbGxlciIsIl9wYXlvdXRDb250cm9sbGVyIiwiUGF5b3V0Q29udHJvbGxlciIsIl9leHBsb3JlUGFnZUNvbnRyb2xsZXIiLCJFeHBsb3JlUGFnZUNvbnRyb2xsZXIiLCJfZmxhc2hTYWxlQ29udHJvbGxlciIsIkZsYXNoU2FsZUNvbnRyb2xsZXIiLCJfdGlwQ29udHJvbGxlciIsIlRpcENvbnRyb2xsZXIiLCJfbG95YWx0eVByb2dyYW1Db250cm9sbGVyIiwiTG95YWx0eVByb2dyYW1Db250cm9sbGVyIiwiX2xveWFsdHlDYXJkQ29udHJvbGxlciIsIkxveWFsdHlDYXJkQ29udHJvbGxlciIsIl9yZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIiLCJSZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIiLCJfcmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXIiLCJSZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlciIsImdldFRva2VuU2NvcGUiLCJ1cGRhdGVOb3RlIiwicmVtb3ZlQ291cG9uIiwiYXBwbHlDb3Vwb24iLCJyZW1vdmVJdGVtIiwiYWRkSXRlbSIsImJhdGNoVXBkYXRlIiwiZW5yb2xsQXBuc1Rva2VuIiwicmV2b2tlQXBuc1Rva2VuIiwiZW5yb2xsRmNtVG9rZW4iLCJyZXZva2VGY21Ub2tlbiIsInVwZGF0ZUNyZWRpdENhcmQiLCJjcmVhdGVXYWxsZXQiLCJyZWxvYWRXYWxsZXQiLCJyZXNldFBhc3N3b3JkIiwicmVmdW5kV2FsbGV0IiwiY3JlYXRlV2FsbGV0VHJhbnNhY3Rpb24iLCJhZGRGYXZvdXJpdGVWZW5kb3IiLCJyZW1vdmVGYXZvdXJpdGVWZW5kb3IiLCJhZGRGYXZvdXJpdGVJdGVtIiwicmVtb3ZlRmF2b3VyaXRlSXRlbSIsInF1ZXJ5IiwiY2FuY2VsIiwiYmVnaW5QcmVwYXJpbmciLCJwcmVwYXJlZCIsImNvbXBsZXRlIiwic3RhcnRWZXJpZmljYXRpb25TZXNzaW9uIiwiY2hlY2tWZXJpZmljYXRpb25TZXNzaW9uIiwiY3JlYXRlV2l0aEVtcGxveWVlIiwidXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzIiwiZGVsZXRlVmVuZG9yVGVzdGVyIiwiYWRkVmVuZG9yVGVzdGVyQnlFbWFpbEFkZHJlc3MiLCJ1cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cyIsInJlcXVlc3RWZW5kb3JBcHByb3ZhbCIsIkN1c3RvbWVyIiwic2lnbnVwRW1haWwiLCJjdXN0b21lclNpZ251cEVtYWlsIiwic2lnbnVwUGhvbmUiLCJjdXN0b21lclNpZ251cFBob25lIiwiYXJjaGl2ZSIsInJlbGVhc2UiLCJjcmVhdGVTdXJ2ZXlSZXNwb25zZSIsInVwbG9hZCIsImdldExpbmsiLCJyZXBsYWNlIiwiY3JlYXRlTG95YWx0eUNhcmRBbmRFbnJvbGwiLCJhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQiLCJhd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQiLCJzaGFyZUxveWFsdHlQb2ludHMiLCJyZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uIiwiZmV0Y2giLCJkZWxldGVSYXdDb25maWd1cmF0aW9uIiwidXBkYXRlUmF3Q29uZmlndXJhdGlvbiIsImNyZWF0ZVJhd0NvbmZpZ3VyYXRpb24iLCJzdHJUb0lkZW50aWZpZXIiLCJzZXRBdXRoZW50aWNhdGlvblRva2VuIiwicXVlcnlTdHJpbmciLCJHcmFwaCIsImlzX3Nka192ZXJzaW9uX3N1cHBvcnRlZCIsImVuZHBvaW50Iiwic2V0R3JhcGhRTEVuZHBvaW50IiwidmVyaWZpY2F0aW9uRW5kcG9pbnQiLCJ2YWxpZGF0aW9uRW5kcG9pbnQiLCJpbWFnZUVuZHBvaW50IiwiZGlzdHJpYnV0aW9uIiwic3RyIiwibGVuZ3RoIiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiQWRhcHRvciIsIl9ncmFwaFFMTGluayIsIkdyYXBoUUxMaW5rIiwiX2NvbmZpZyIsImF1dGhvcml6YXRpb24iLCJ2YXJpYWJsZXMiLCJFcnJvciIsIl9oZWFkZXJzIiwiX2NvbnN0cnVjdENsaWVudCIsIl9jbGllbnQiLCJHcmFwaFFMQ2xpZW50IiwiZ3JhcGhxbCIsImF1dGhfdG9rZW5fc2NvcGUiLCJjYXJ0SWQiLCJub3RlIiwidXBkYXRlTm90ZUZvckNhcnQiLCJjYXJ0Q291cG9uSWQiLCJyZW1vdmVDb3Vwb25Gcm9tQ2FydCIsImNvdXBvbkNvZGUiLCJhcHBseUNvdXBvblRvQ2FydCIsImRlbGV0ZUNhcnQiLCJjYXJ0SXRlbUlkIiwicmVtb3ZlSXRlbUZyb21DYXJ0IiwiaXRlbSIsImFkZEl0ZW1DYXJ0IiwiY3VzdG9tZXJJZCIsInZlbmRvcklkIiwiY3JlYXRlQ2FydCIsImNhdGVnb3J5IiwiY3JlYXRlQ2F0ZWdvcnkiLCJkZWxldGVDYXRlZ29yeSIsInVwZGF0ZUNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsImJhdGNoVXBkYXRlQ2F0ZWdvcmllcyIsImN1c3RvbWVyIiwiY3JlYXRlQ3VzdG9tZXIiLCJ1cGRhdGVDdXN0b21lciIsImVucm9sbEN1c3RvbWVyQXBuc1Rva2VuIiwicmV2b2tlQ3VzdG9tZXJBcG5zVG9rZW4iLCJlbnJvbGxDdXN0b21lckZjbVRva2VuIiwicmV2b2tlQ3VzdG9tZXJGY21Ub2tlbiIsInVwZGF0ZUN1c3RvbWVyQ3JlZGl0Q2FyZCIsImNyZWF0ZUN1c3RvbWVyV2FsbGV0IiwiYW1vdW50IiwicGF5bWVudF9tZXRob2QiLCJyZWxvYWRDdXN0b21lcldhbGxldCIsIkVNQUlMIiwic2VuZEN1c3RvbWVyUGFzc3dvcmRSZXNldENvZGUiLCJyZXNldEN1c3RvbWVyUGFzc3dvcmQiLCJ2ZW5kb3JfaWQiLCJvcmRlcl9pZCIsInJlZnVuZEN1c3RvbWVyV2FsbGV0IiwidHJhbnNhY3Rpb25fdHlwZSIsImRlc2NyaXB0aW9uIiwiY3JlYXRlQ3VzdG9tZXJXYWxsZXRUcmFuc2FjdGlvbiIsImFkZEZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyIiwicmVtb3ZlRmF2b3VyaXRlVmVuZG9yRm9yQ3VzdG9tZXIiLCJpdGVtX2lkIiwiYWRkRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyIiwicmVtb3ZlRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyIiwiY3JlYXRlQ3VzdG9tZXJUb2tlbiIsImNvdXBvbiIsImNyZWF0ZUNvdXBvbiIsInVzZXJuYW1lIiwiY3JlYXRlRW1wbG95ZWVUb2tlbiIsImJvZHkiLCJVc2VyVHlwZXMiLCJpZGVudGlmaWVyIiwiY3JlYXRlSGVhZE9mZmljZSIsInVwZGF0ZUhlYWRPZmZpY2UiLCJkZWxldGVIZWFkT2ZmaWNlIiwibWVudV9pdGVtIiwiY3JlYXRlTWVudUl0ZW0iLCJ1cGRhdGVNZW51SXRlbSIsIm1lbnVfaXRlbXMiLCJiYXRjaFVwZGF0ZU1lbnVJdGVtcyIsIm1vZGlmaWVyIiwiY3JlYXRlTW9kaWZpZXIiLCJ1cGRhdGVNb2RpZmllciIsIlZlbmRvckFwcHJvdmFsU3RhdHVzIiwiUGF5b3V0QXV0b1JlcXVlc3RTY2hlZHVsZSIsIlZlbmRvckFuYWx5dGljc0N1c3RvbWVyVHlwZSIsImFwcHJvdmFsX3N0YXR1cyIsInZlbmRvciIsImNvbnNvbGUiLCJ3YXJuIiwiY3JlYXRlVmVuZG9yIiwiY3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlIiwidXBkYXRlVmVuZG9yIiwic3RhdHVzIiwidXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzRm9yVmVuZG9yIiwicGhvbmVfbnVtYmVyIiwidXVpZCIsInZlcmlmaWNhdGlvbl9jb2RlIiwiYXBwZW5kIiwiZW1haWwiLCJnZXRIdHRwTGluayIsInBvc3QiLCJwaG9uZSIsImF4aW9zIiwiU3VydmV5UXVlc3Rpb25UeXBlIiwiU3VydmV5RGVsaXZlcnlSdWxlIiwic3VydmV5IiwiY3JlYXRlU3VydmV5IiwidXBkYXRlU3VydmV5IiwiYXJjaGl2ZVN1cnZleSIsImRlbGV0ZVN1cnZleSIsInJlbGVhc2VTdXJ2ZXkiLCJzdXJ2ZXlfaWQiLCJzdXJ2ZXlfcmVzcG9uc2UiLCJPcmRlclR5cGUiLCJPcmRlckNhbmNlbGxhdGlvblJlYXNvbiIsIm9yZGVyIiwiZHJ5IiwiY2xlYXJfY2FydCIsImNyZWF0ZU9yZGVyIiwicmVhc29uIiwiZXN0aW1hdGVkX3ByZXBhcmluZ19zZWMiLCJpbWFnZSIsImxpbmsiLCJzaXplIiwiUGF5b3V0TWV0aG9kIiwiUGF5b3V0U3RhdHVzIiwiU2VydmljZUNoYXJnZVR5cGUiLCJTZXJ2aWNlQ2hhcmdlUmVhc29uIiwicmVxdWVzdFBheW91dCIsInBheW91dCIsInVwZGF0ZVBheW91dCIsImNhbmNlbFBheW91dCIsImFkdmVydGlzZW1lbnRzIiwiZGFpbHlfZGVhbHMiLCJzcGVjaWFsX2RlYWxzIiwidGltZWx5X2RlYWxzIiwicmVwbGFjZUV4cGxvcmVQYWdlIiwidXBkYXRlZF9hdCIsIkZsYXNoU2FsZVR5cGUiLCJ0eXBlIiwiaXRlbXMiLCJzdGFydF9hdCIsImVuZF9hdCIsImNyZWF0ZUZsYXNoU2FsZSIsInVwZGF0ZUZsYXNoU2FsZSIsImNyZWF0ZVRpcCIsIkxveWFsdHlQcm9ncmFtVHlwZSIsImxveWFsdHlfcHJvZ3JhbSIsImNyZWF0ZUxveWFsdHlQcm9ncmFtIiwidXBkYXRlTG95YWx0eVByb2dyYW0iLCJkZWxldGVMb3lhbHR5UHJvZ3JhbSIsIkxveWFsdHlUcmFuc2FjdGlvblR5cGUiLCJsb3lhbHR5X2NhcmQiLCJzZW5kZXJfY3VzdG9tZXJfaWQiLCJyZWNlaXZlcl9waG9uZV9udW1iZXIiLCJsb3lhbHR5X3Byb2dyYW1faWQiLCJub19vZl9wb2ludHNfdG9fc2hhcmUiLCJsb3lhbHR5X2NhcmRfaWQiLCJtZW51X2l0ZW1faWQiLCJyZWRlZW1hYmxlX2l0ZW0iLCJjcmVhdGVSZWRlZW1hYmxlSXRlbSIsInVwZGF0ZVJlZGVlbWFibGVJdGVtIiwiZGVsZXRlUmVkZWVtYWJsZUl0ZW0iLCJKU09OIiwicGFyc2UiLCJtZXJnZWRfY29uZmlndXJhdGlvbiIsInJhd0NvbmZpZ3VyYXRpb24iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FB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SUFPSyxDQUN0Qk8sT0FFRE4sS0FBTUMsSUFDTEwsRUFBUUssRUFBT3lJLDBCQUVoQnRJLE1BQU9DLElBQ05SLEVBQU9RLE9BS2YsdUJBQ0VDLEVBQ0EwVCxHQUVBLE9BQU8sSUFBSXJVLFFBQVEsQ0FBQ0MsRUFBU0MsS0FRM0JkLEtBQUtJLElBQ0ZXLGFBQ0FDLE9BVGtCLGlSQVNLLENBQ3RCTyxLQUNBMFQscUJBRURoVSxLQUFNQyxJQUNMTCxFQUFRSyxFQUFPMEksMEJBRWhCdkksTUFBT0MsSUFDTlIsRUFBT1EsT0FLZix1QkFDRTJULEdBRUEsT0FBTyxJQUFJclUsUUFBUSxDQUFDQyxFQUFTQyxLQVEzQmQsS0FBS0ksSUFDRlcsYUFDQUMsT0FUa0IsMFBBU0ssQ0FDdEJpVSxxQkFFRGhVLEtBQU1DLElBQ0xMLEVBQVFLLEVBQU8ySSwwQkFFaEJ4SSxNQUFPQyxJQUNOUixFQUFPUSxVLDhFQ25JakIsVUFBZSxDQUNiMkIsZ0JBQWlCLENBQ2ZFLFdBQVksNkNBRWRrSCxxQkFBc0IsQ0FDcEJsSCxXQUFZLDZDQUVkbUgsbUJBQW9CLENBQ2xCbkgsV0FBWSwyQ0FFZG9ILGNBQWUsQ0FDYnBILFdBQVkscUNBQ1pxSCxhQUFjIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgbmV0d29yayBsaW5rIHRoYXQgaGFzIHJlcXVlc3QvcmVzcG9uc2Ugc3RydWN0dXJlXG4gKiBBdXRob3I6IEp1biBaaGVuZ1xuICogTGljZW5zZTogVU5MSUNFTlNFRFxuICovXG5cbmltcG9ydCB7IExpbmsgfSBmcm9tIFwiLi4vTGlua1wiO1xuXG5leHBvcnQgY2xhc3MgU3luY2hyb25vdXNMaW5rIGV4dGVuZHMgTGluayB7XG4gIF90eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAcGFyYW0gIHt9IHVybFxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcpIHtcbiAgICBzdXBlcih1cmwpO1xuICAgIHRoaXMuX3R5cGUgPSBcInN5bmNcIjtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgeyB2ZXJzaW9uOiBcIjEuMTAuMzVcIiB9O1xuIiwiaW1wb3J0IHsgRW1haWxQcmVmZXJlbmNlc0lucHV0LCBFbWFpbFByZWZlcmVuY2VzIH0gZnJvbSBcIi4vQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUVtcGxveWVlSW5wdXQge1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICByb2xlOiBzdHJpbmc7XG4gIGVtYWlsX2FkZHJlc3M6IHN0cmluZztcbiAgcGhvbmVfbnVtYmVyOiBzdHJpbmc7XG4gIHZlbmRvcl9pZDogc3RyaW5nO1xuICBlbWFpbF9wcmVmZXJlbmNlczogRW1haWxQcmVmZXJlbmNlc0lucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZUNvbW1vblByb3BlcnRpZXMge1xuICBlbWFpbF9hZGRyZXNzPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgcGhvbmVfbnVtYmVyPzogc3RyaW5nO1xuICByb2xlPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVFbXBsb3llZUlucHV0IGV4dGVuZHMgRW1wbG95ZWVDb21tb25Qcm9wZXJ0aWVzIHtcbiAgZW1haWxfcHJlZmVyZW5jZXM/OiBFbWFpbFByZWZlcmVuY2VzSW5wdXQ7XG59XG5leHBvcnQgZW51bSBSZXNldENvZGVTZW5kTWV0aG9kIHtcbiAgRU1BSUwgPSBcIkVNQUlMXCIsXG4gIFNNUyA9IFwiU01TXCJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRW1wbG95ZWUgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciwgRW1wbG95ZWVDb21tb25Qcm9wZXJ0aWVzIHtcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gIGVtYWlsX3ByZWZlcmVuY2VzPzogRW1haWxQcmVmZXJlbmNlcztcbiAgdmVuZG9yPzogVmVuZG9yO1xuICB0ZXJtaW5hbF9mY21fdG9rZW5zPzogQXJyYXk8c3RyaW5nPjtcbn1cblxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBlbXBsb3llZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBFbXBsb3llZUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmVucm9sbFRlcm1pbmFsRmNtID0gdGhpcy5lbnJvbGxUZXJtaW5hbEZjbS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmV2b2tlVGVybWluYWxGY20gPSB0aGlzLnJldm9rZVRlcm1pbmFsRmNtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldEVtcGxveWVlUGFzc3dvcmQgPSB0aGlzLnJlc2V0RW1wbG95ZWVQYXNzd29yZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2VuZFBhc3N3b3JkUmVzZXRDb2RlID0gdGhpcy5zZW5kUGFzc3dvcmRSZXNldENvZGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBlbXBsb3llZSwgcmV0dXJuIGVtcGxveWVlIElEIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtDcmVhdGVFbXBsb3llZUlucHV0fSBlbXBsb3llZSAtIFRoZSBFbXBsb3llZSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIEVtcGxveWVlIE9iamVjdFxuICAgKi9cbiAgY3JlYXRlKGVtcGxveWVlOiBDcmVhdGVFbXBsb3llZUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZUVtcGxveWVlTXV0YXRpb24gKCRlbXBsb3llZTogQ3JlYXRlRW1wbG95ZWVJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRW1wbG95ZWUoZW1wbG95ZWU6ICRlbXBsb3llZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgZW1wbG95ZWVcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlRW1wbG95ZWUuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIGVtcGxveWVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgRW1wbG95ZWUgT2JqZWN0XG4gICAqIEBwYXJhbSB7VXBkYXRlRW1wbG95ZWVJbnB1dH0gZW1wbG95ZWUgLSBUaGUgRW1wbG95ZWUgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBFbXBsb3llZSBPYmplY3RcbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBlbXBsb3llZTogVXBkYXRlRW1wbG95ZWVJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiB1cGRhdGVFbXBsb3llZU11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRlbXBsb3llZTogVXBkYXRlRW1wbG95ZWVJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRW1wbG95ZWUoaWQ6ICRpZCwgZW1wbG95ZWU6ICRlbXBsb3llZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZW1wbG95ZWVcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlRW1wbG95ZWUuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIEVtcGxveWVlIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgRW1wbG95ZWUgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBkZWxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBkZWxldGVFbXBsb3llZSAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZUVtcGxveWVlKGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZUVtcGxveWVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVucm9sbCBhIG5ldyBGQ00gdG9rZW4gZm9yIHRlcm1pbmFsIGFwcFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEVtcGxveWVlIE9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSBUaGUgRkNNIHRva2VuIGZvciB0aGUgVGVybWluYWwgTW9iaWxlIEFwcFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFbXBsb3llZT59XG4gICAqL1xuICBlbnJvbGxUZXJtaW5hbEZjbShpZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxFbXBsb3llZT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gZW5yb2xsRW1wbG95ZWVUZXJtaW5hbEZjbVRva2VuICgkaWQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBlbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4oaWQ6ICRpZCwgdG9rZW46ICR0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdG9rZW5cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZW5yb2xsRW1wbG95ZWVUZXJtaW5hbEZjbVRva2VuKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldm9rZSBhIEZDTSB0b2tlbiBmb3IgdGVybWluYWwgYXBwXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIFRoZSBGQ00gdG9rZW4gZm9yIHRoZSBUZXJtaW5hbCBNb2JpbGUgQXBwXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICByZXZva2VUZXJtaW5hbEZjbSh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbiAoJHRva2VuOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbih0b2tlbjogJHRva2VuKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICB0b2tlblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZXZva2VFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIGFuIGVtcGxveWVlIHBhc3N3b3JkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElkIG9mIHRoZSBlbXBsb3llZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW1haWxfYWRkcmVzcyAtIEVtYWlsIGFkZHJlc3Mgb2YgdGhlIGVtcGxveWVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlIC0gUmVzZXQgY29kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgbmV3IHBhc3N3b3JkIHRvIHNldFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgLy9RVUVTVElPTiBpZCBhbmQgZW1haWxfYWRkcmVzcyBhcmUgb3B0aW9uYWw/P1xuICByZXNldEVtcGxveWVlUGFzc3dvcmQoXG4gICAgaWQ6IHN0cmluZyB8IG51bGwsXG4gICAgZW1haWxfYWRkcmVzczogc3RyaW5nIHwgbnVsbCxcbiAgICBjb2RlOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gcmVzZXRFbXBsb3llZVBhc3N3b3JkICgkaWQ6IFN0cmluZywgJGVtYWlsX2FkZHJlc3M6U3RyaW5nLCAkY29kZTpTdHJpbmchLCAkcGFzc3dvcmQ6U3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZXNldEVtcGxveWVlUGFzc3dvcmQoaWQ6ICRpZCwgZW1haWxfYWRkcmVzczogJGVtYWlsX2FkZHJlc3MsIGNvZGU6ICRjb2RlLCBwYXNzd29yZDogJHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBlbWFpbF9hZGRyZXNzLFxuICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgcGFzc3dvcmRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVzZXRFbXBsb3llZVBhc3N3b3JkLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIHBhc3N3b3JkIHJlc2V0IGNvZGUgdG8gZW1wbG95ZWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsX2FkZHJlc3MgLSBJZCBvZiB0aGUgZW1wbG95ZWVcbiAgICogQHBhcmFtIHtNZXRob2R9IG1ldGhvZCAtIFRoZSBuZXcgcGFzc3dvcmQgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBzZW5kUGFzc3dvcmRSZXNldENvZGUoXG4gICAgZW1haWxfYWRkcmVzczogc3RyaW5nLFxuICAgIG1ldGhvZDogUmVzZXRDb2RlU2VuZE1ldGhvZCB8IG51bGxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHNlbmRFbXBsb3llZVBhc3N3b3JkUmVzZXRDb2RlICgkZW1haWxfYWRkcmVzczogU3RyaW5nISwgJG1ldGhvZDpSZXNldENvZGVTZW5kTWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRFbXBsb3llZVBhc3N3b3JkUmVzZXRDb2RlKGVtYWlsX2FkZHJlc3M6ICRlbWFpbF9hZGRyZXNzLCBtZXRob2Q6JG1ldGhvZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgZW1haWxfYWRkcmVzcyxcbiAgICAgICAgICBtZXRob2RcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuc2VuZEVtcGxveWVlUGFzc3dvcmRSZXNldENvZGUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc2ltcGxlIEhUVFAgc2VydmVyIGxpbmtcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBVTkxJQ0VOU0VEXG4gKi9cblxuaW1wb3J0IHsgU3luY2hyb25vdXNMaW5rIH0gZnJvbSBcIi4vU3luY2hyb25vdXNMaW5rXCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBjbGFzcyBIdHRwTGluayBleHRlbmRzIFN5bmNocm9ub3VzTGluayB7XG4gIC8vIF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIENvbnN0cnVjdCB0aGUgbGluayB3aXRoIFVSTFxuICAgKiBAcGFyYW0gdXJsXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZykge1xuICAgIHN1cGVyKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIGEgZ2V0IHJlcXVlc3RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fVxuICAgKi9cbiAgZ2V0KGNvbmZpZzogb2JqZWN0ID0ge30pOiBQcm9taXNlPG9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLnJ1bihPYmplY3QuYXNzaWduKGNvbmZpZywgeyBtZXRob2Q6IFwiZ2V0XCIgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBhIHBvc3QgcmVxdWVzdFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBwb3N0KGNvbmZpZzogb2JqZWN0ID0ge30pOiBQcm9taXNlPHsgZGF0YTogeyBpZDogc3RyaW5nIH0gfT4ge1xuICAgIHJldHVybiB0aGlzLnJ1bihPYmplY3QuYXNzaWduKGNvbmZpZywgeyBtZXRob2Q6IFwicG9zdFwiIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYSBwdXQgcmVxdWVzdFxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBwdXQoY29uZmlnOiBvYmplY3QgPSB7fSk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMucnVuKE9iamVjdC5hc3NpZ24oY29uZmlnLCB7IG1ldGhvZDogXCJwdXRcIiB9KSk7XG4gIH1cblxuICAvKipcbiAgICogUnVuIGEgZGVsZXRlIHJlcXVlc3RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fVxuICAgKi9cbiAgZGVsZXRlKGNvbmZpZzogb2JqZWN0ID0ge30pOiBQcm9taXNlPG9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLnJ1bihPYmplY3QuYXNzaWduKGNvbmZpZywgeyBtZXRob2Q6IFwiZGVsZXRlXCIgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgYSBuZXcgaHR0cCByZXF1ZXN0XG4gICAqIEBwYXJhbSBjb25maWdcbiAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0Pn1cbiAgICovXG4gIHJ1bihjb25maWc6IHsgbWV0aG9kOiBhbnk7IGRhdGE/OiBhbnk7IGhlYWRlcnM/OiBhbnkgfSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGF4aW9zXG4gICAgICAgIC5yZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6IGNvbmZpZy5tZXRob2QsXG4gICAgICAgICAgdXJsOiB0aGlzLl91cmwsXG4gICAgICAgICAgZGF0YTogY29uZmlnLmRhdGEgPyBjb25maWcuZGF0YSA6IHt9LFxuICAgICAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzID8gY29uZmlnLmhlYWRlcnMgOiB7fVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBFbnRyeSBmaWxlIGZvciBDaGVhcHJFYXRzIE5vZGUuanMgU0RLXG4gKiBBdXRob3I6IEp1biBaaGVuZ1xuICogTGljZW5zZTogVU5MSUNFTlNFRFxuICovXG5cbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcC9BcHBcIjtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBDRTogQXBwO1xuICB9XG59XG5cbmNvbnN0IGFwcDogQXBwID0gbmV3IEFwcCgpO1xuZXhwb3J0IGRlZmF1bHQgYXBwO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICB3aW5kb3cuQ0UgPSBhcHA7XG59XG4iLCJpbXBvcnQgeyBzdHJUb0lkZW50aWZpZXIgfSBmcm9tIFwiLi91dGlsL3N0clRvSWRlbnRpZmllclwiO1xuaW1wb3J0IHsgQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yIH0gZnJvbSBcIi4vYWRhcHRvcnMvQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yXCI7XG5pbXBvcnQgcGFja2FnZURvdEpzb24gZnJvbSBcIi4uL3ZlcnNpb25cIjtcblxuLy8gQUREIENPTlRST0xMRVIgSU1QT1JUUyBCRUxPV1xuaW1wb3J0IHsgQXV0aG9yaXphdGlvbkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9BdXRob3JpemF0aW9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ2FydENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ2F0ZWdvcnlDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvQ2F0ZWdvcnlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lckNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9DdXN0b21lckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEN1c3RvbWVyVG9rZW5Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvQ3VzdG9tZXJUb2tlbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENvdXBvbkNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9Db3Vwb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBFbXBsb3llZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9FbXBsb3llZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEVtcGxveWVlVG9rZW5Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEdyYXBoQ29udHJvbGxlciwgUXVlcnlSZXN1bHQgfSBmcm9tIFwiLi9jb250cm9sbGVycy9HcmFwaENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEhlYWRPZmZpY2VDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvSGVhZE9mZmljZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1lbnVJdGVtQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTW9kaWZpZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvTW9kaWZpZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBWZW5kb3JDb250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVyaWZpY2F0aW9uQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL1ZlcmlmaWNhdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZhbGlkYXRpb25Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvVmFsaWRhdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFN1cnZleUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9TdXJ2ZXlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBPcmRlckNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9PcmRlckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEltYWdlQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0ltYWdlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUGF5b3V0Q29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL1BheW91dENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEV4cGxvcmVQYWdlQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0V4cGxvcmVQYWdlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRmxhc2hTYWxlQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0ZsYXNoU2FsZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFRpcENvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9UaXBDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBMb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVycy9Mb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IExveWFsdHlDYXJkQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0xveWFsdHlDYXJkQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyIH0gZnJvbSBcIi4vY29udHJvbGxlcnMvUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBSZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL1JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgZW5kcG9pbnRzIGZyb20gXCIuLi9jb25maWcvZW5kcG9pbnRzXCI7XG5cbmxldCBjb25maWcgPSB7XG4gIGVuZHBvaW50czogZW5kcG9pbnRzXG59O1xuXG4vKipcbiAqIE1haW4gZW50cnkgcG9pbnQgb2YgdGhlIFNES1xuICovXG5leHBvcnQgY2xhc3MgQXBwIHtcbiAgX3Rva2VuOiBzdHJpbmcgfCBudWxsO1xuICBfYWRhcHRvcjogQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yO1xuICBfYXV0aG9yaXphdGlvbkNvbnRyb2xsZXI6IEF1dGhvcml6YXRpb25Db250cm9sbGVyO1xuICBfY2FydENvbnRyb2xsZXI6IENhcnRDb250cm9sbGVyO1xuICBfY2F0ZWdvcnlDb250cm9sbGVyOiBDYXRlZ29yeUNvbnRyb2xsZXI7XG4gIF9jdXN0b21lckNvbnRyb2xsZXI6IEN1c3RvbWVyQ29udHJvbGxlcjtcbiAgX2N1c3RvbWVyVG9rZW5Db250cm9sbGVyOiBDdXN0b21lclRva2VuQ29udHJvbGxlcjtcbiAgX2NvdXBvbkNvbnRyb2xsZXI6IENvdXBvbkNvbnRyb2xsZXI7XG4gIF9lbXBsb3llZUNvbnRyb2xsZXI6IEVtcGxveWVlQ29udHJvbGxlcjtcbiAgX2VtcGxveWVlVG9rZW5Db250cm9sbGVyOiBFbXBsb3llZVRva2VuQ29udHJvbGxlcjtcbiAgX2dyYXBoQ29udHJvbGxlcjogR3JhcGhDb250cm9sbGVyO1xuICBfaGVhZE9mZmljZUNvbnRyb2xsZXI6IEhlYWRPZmZpY2VDb250cm9sbGVyO1xuICBfbWVudUl0ZW1Db250cm9sbGVyOiBNZW51SXRlbUNvbnRyb2xsZXI7XG4gIF9tb2RpZmllckNvbnRyb2xsZXI6IE1vZGlmaWVyQ29udHJvbGxlcjtcbiAgX3ZlbmRvckNvbnRyb2xsZXI6IFZlbmRvckNvbnRyb2xsZXI7XG4gIF92ZXJpZmljYXRpb25Db250cm9sbGVyOiBWZXJpZmljYXRpb25Db250cm9sbGVyO1xuICBfdmFsaWRhdGlvbkNvbnRyb2xsZXI6IFZhbGlkYXRpb25Db250cm9sbGVyO1xuICBfc3VydmV5Q29udHJvbGxlcjogU3VydmV5Q29udHJvbGxlcjtcbiAgX29yZGVyQ29udHJvbGxlcjogT3JkZXJDb250cm9sbGVyO1xuICBfaW1hZ2VDb250cm9sbGVyOiBJbWFnZUNvbnRyb2xsZXI7XG4gIF9wYXlvdXRDb250cm9sbGVyOiBQYXlvdXRDb250cm9sbGVyO1xuICBfZXhwbG9yZVBhZ2VDb250cm9sbGVyOiBFeHBsb3JlUGFnZUNvbnRyb2xsZXI7XG4gIF9mbGFzaFNhbGVDb250cm9sbGVyOiBGbGFzaFNhbGVDb250cm9sbGVyO1xuICBfdGlwQ29udHJvbGxlcjogVGlwQ29udHJvbGxlcjtcbiAgX2xveWFsdHlQcm9ncmFtQ29udHJvbGxlcjogTG95YWx0eVByb2dyYW1Db250cm9sbGVyO1xuICBfbG95YWx0eUNhcmRDb250cm9sbGVyOiBMb3lhbHR5Q2FyZENvbnRyb2xsZXI7XG4gIF9yZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXI6IFJlZGVlbWFibGVJdGVtQ29udHJvbGxlcjtcbiAgX3JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyOiBSZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlcjtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCB0aGUgQXBwIGluc3RhbmNlLlxuICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl90b2tlbiA9IG51bGw7XG5cbiAgICB0aGlzLl9hZGFwdG9yID0gbmV3IENoZWFwckVhdHNHcmFwaFFMQWRhcHRvcih7XG4gICAgICBncmFwaFFMRW5kcG9pbnQ6IHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmVuZHBvaW50cy5ncmFwaFFMRW5kcG9pbnRcbiAgICAgICAgLnByb2R1Y3Rpb25cbiAgICB9KTtcbiAgICAvLyBBREQgQ09OVFJPTExFUlMgQkVMT1dcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uQ29udHJvbGxlciA9IG5ldyBBdXRob3JpemF0aW9uQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9jYXJ0Q29udHJvbGxlciA9IG5ldyBDYXJ0Q29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9jYXRlZ29yeUNvbnRyb2xsZXIgPSBuZXcgQ2F0ZWdvcnlDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlciA9IG5ldyBDdXN0b21lckNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fY3VzdG9tZXJUb2tlbkNvbnRyb2xsZXIgPSBuZXcgQ3VzdG9tZXJUb2tlbkNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fY291cG9uQ29udHJvbGxlciA9IG5ldyBDb3Vwb25Db250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2VtcGxveWVlQ29udHJvbGxlciA9IG5ldyBFbXBsb3llZUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fZW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIgPSBuZXcgRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fZ3JhcGhDb250cm9sbGVyID0gbmV3IEdyYXBoQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9oZWFkT2ZmaWNlQ29udHJvbGxlciA9IG5ldyBIZWFkT2ZmaWNlQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9tZW51SXRlbUNvbnRyb2xsZXIgPSBuZXcgTWVudUl0ZW1Db250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX21vZGlmaWVyQ29udHJvbGxlciA9IG5ldyBNb2RpZmllckNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fdmVuZG9yQ29udHJvbGxlciA9IG5ldyBWZW5kb3JDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX3ZlcmlmaWNhdGlvbkNvbnRyb2xsZXIgPSBuZXcgVmVyaWZpY2F0aW9uQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl92YWxpZGF0aW9uQ29udHJvbGxlciA9IG5ldyBWYWxpZGF0aW9uQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9zdXJ2ZXlDb250cm9sbGVyID0gbmV3IFN1cnZleUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fb3JkZXJDb250cm9sbGVyID0gbmV3IE9yZGVyQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9pbWFnZUNvbnRyb2xsZXIgPSBuZXcgSW1hZ2VDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX3BheW91dENvbnRyb2xsZXIgPSBuZXcgUGF5b3V0Q29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9leHBsb3JlUGFnZUNvbnRyb2xsZXIgPSBuZXcgRXhwbG9yZVBhZ2VDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX2ZsYXNoU2FsZUNvbnRyb2xsZXIgPSBuZXcgRmxhc2hTYWxlQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl90aXBDb250cm9sbGVyID0gbmV3IFRpcENvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fbG95YWx0eVByb2dyYW1Db250cm9sbGVyID0gbmV3IExveWFsdHlQcm9ncmFtQ29udHJvbGxlcih0aGlzKTtcbiAgICB0aGlzLl9sb3lhbHR5Q2FyZENvbnRyb2xsZXIgPSBuZXcgTG95YWx0eUNhcmRDb250cm9sbGVyKHRoaXMpO1xuICAgIHRoaXMuX3JlZGVlbWFibGVJdGVtQ29udHJvbGxlciA9IG5ldyBSZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5fcmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXIgPSBuZXcgUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXIoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuXG4gIC8vIEFERCBHRVRURVJTIEJFTE9XXG5cbiAgZ2V0IEF1dGhvcml6YXRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFRva2VuU2NvcGU6IHRoaXMuX2F1dGhvcml6YXRpb25Db250cm9sbGVyLmdldFRva2VuU2NvcGVcbiAgICB9O1xuICB9XG5cbiAgZ2V0IENhcnQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZU5vdGU6IHRoaXMuX2NhcnRDb250cm9sbGVyLnVwZGF0ZU5vdGUsXG4gICAgICByZW1vdmVDb3Vwb246IHRoaXMuX2NhcnRDb250cm9sbGVyLnJlbW92ZUNvdXBvbixcbiAgICAgIGFwcGx5Q291cG9uOiB0aGlzLl9jYXJ0Q29udHJvbGxlci5hcHBseUNvdXBvbixcbiAgICAgIGRlbGV0ZTogdGhpcy5fY2FydENvbnRyb2xsZXIuZGVsZXRlLFxuICAgICAgcmVtb3ZlSXRlbTogdGhpcy5fY2FydENvbnRyb2xsZXIucmVtb3ZlSXRlbSxcbiAgICAgIGFkZEl0ZW06IHRoaXMuX2NhcnRDb250cm9sbGVyLmFkZEl0ZW0sXG4gICAgICBjcmVhdGU6IHRoaXMuX2NhcnRDb250cm9sbGVyLmNyZWF0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNhdGVnb3J5IHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IENhdGVnb3J5Q29udHJvbGxlci5jcmVhdGUsIGRlbGV0ZTogQ2F0ZWdvcnlDb250cm9sbGVyLmRlbGV0ZSwgdXBkYXRlOiBDYXRlZ29yeUNvbnRyb2xsZXIudXBkYXRlLCBiYXRjaFVwZGF0ZTogQ2F0ZWdvcnlDb250cm9sbGVyLmJhdGNoVXBkYXRlfX1cbiAgICovXG4gIGdldCBDYXRlZ29yeSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlOiB0aGlzLl9jYXRlZ29yeUNvbnRyb2xsZXIuY3JlYXRlLFxuICAgICAgZGVsZXRlOiB0aGlzLl9jYXRlZ29yeUNvbnRyb2xsZXIuZGVsZXRlLFxuICAgICAgdXBkYXRlOiB0aGlzLl9jYXRlZ29yeUNvbnRyb2xsZXIudXBkYXRlLFxuICAgICAgYmF0Y2hVcGRhdGU6IHRoaXMuX2NhdGVnb3J5Q29udHJvbGxlci5iYXRjaFVwZGF0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1c3RvbWVyIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IEN1c3RvbWVyQ29udHJvbGxlci5jcmVhdGUsIGVucm9sbEFwbnNUb2tlbjogQ3VzdG9tZXJDb250cm9sbGVyLmVucm9sbEFwbnNUb2tlbiwgcmV2b2tlQXBuc1Rva2VuOiBDdXN0b21lckNvbnRyb2xsZXIucmV2b2tlQXBuc1Rva2VuLCBlbnJvbGxGY21Ub2tlbjogQ3VzdG9tZXJDb250cm9sbGVyLmVucm9sbEZjbVRva2VuLCByZXZva2VGY21Ub2tlbjogQ3VzdG9tZXJDb250cm9sbGVyLnJldm9rZUZjbVRva2VuLCB1cGRhdGU6IEN1c3RvbWVyQ29udHJvbGxlci51cGRhdGUsIHVwZGF0ZUNyZWRpdENhcmQ6IEN1c3RvbWVyQ29udHJvbGxlci51cGRhdGVDcmVkaXRDYXJkLCBjcmVhdGVXYWxsZXQ6IEN1c3RvbWVyQ29udHJvbGxlci5jcmVhdGVXYWxsZXQsIHJlbG9hZFdhbGxldDogQ3VzdG9tZXJDb250cm9sbGVyLnJlbG9hZFdhbGxldCwgcmVzZXRQYXNzd29yZDogQ3VzdG9tZXJDb250cm9sbGVyLnJlc2V0UGFzc3dvcmQsIHNlbmRQYXNzd29yZFJlc2V0Q29kZTogQ3VzdG9tZXJDb250cm9sbGVyLnNlbmRQYXNzd29yZFJlc2V0Q29kZSwgcmVmdW5kV2FsbGV0OiBDdXN0b21lckNvbnRyb2xsZXIucmVmdW5kV2FsbGV0LCBjcmVhdGVXYWxsZXRUcmFuc2FjdGlvbjpDdXN0b21lckNvbnRyb2xsZXIuY3JlYXRlV2FsbGV0VHJhbnNhY3Rpb24sIGFkZEZhdm91cml0ZVZlbmRvcjpDdXN0b21lckNvbnRyb2xsZXIuYWRkRmF2b3VyaXRlVmVuZG9yLCByZW1vdmVGYXZvdXJpdGVWZW5kb3I6Q3VzdG9tZXJDb250cm9sbGVyLnJlbW92ZUZhdm91cml0ZVZlbmRvciwgYWRkRmF2b3VyaXRlSXRlbTpDdXN0b21lckNvbnRyb2xsZXIuYWRkRmF2b3VyaXRlSXRlbSwgcmVtb3ZlRmF2b3VyaXRlSXRlbTpDdXN0b21lckNvbnRyb2xsZXIucmVtb3ZlRmF2b3VyaXRlSXRlbX19XG4gICAqL1xuICBnZXQgQ3VzdG9tZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIGVucm9sbEFwbnNUb2tlbjogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLmVucm9sbEFwbnNUb2tlbixcbiAgICAgIHJldm9rZUFwbnNUb2tlbjogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnJldm9rZUFwbnNUb2tlbixcbiAgICAgIGVucm9sbEZjbVRva2VuOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIuZW5yb2xsRmNtVG9rZW4sXG4gICAgICByZXZva2VGY21Ub2tlbjogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnJldm9rZUZjbVRva2VuLFxuICAgICAgdXBkYXRlOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIudXBkYXRlLFxuICAgICAgdXBkYXRlQ3JlZGl0Q2FyZDogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnVwZGF0ZUNyZWRpdENhcmQsXG4gICAgICBjcmVhdGVXYWxsZXQ6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5jcmVhdGVXYWxsZXQsXG4gICAgICByZWxvYWRXYWxsZXQ6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5yZWxvYWRXYWxsZXQsXG4gICAgICByZXNldFBhc3N3b3JkOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIucmVzZXRQYXNzd29yZCxcbiAgICAgIHNlbmRQYXNzd29yZFJlc2V0Q29kZTogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnNlbmRQYXNzd29yZFJlc2V0Q29kZSxcbiAgICAgIHJlZnVuZFdhbGxldDogdGhpcy5fY3VzdG9tZXJDb250cm9sbGVyLnJlZnVuZFdhbGxldCxcbiAgICAgIGNyZWF0ZVdhbGxldFRyYW5zYWN0aW9uOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIuY3JlYXRlV2FsbGV0VHJhbnNhY3Rpb24sXG4gICAgICBhZGRGYXZvdXJpdGVWZW5kb3I6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5hZGRGYXZvdXJpdGVWZW5kb3IsXG4gICAgICByZW1vdmVGYXZvdXJpdGVWZW5kb3I6IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5yZW1vdmVGYXZvdXJpdGVWZW5kb3IsXG4gICAgICBhZGRGYXZvdXJpdGVJdGVtOiB0aGlzLl9jdXN0b21lckNvbnRyb2xsZXIuYWRkRmF2b3VyaXRlSXRlbSxcbiAgICAgIHJlbW92ZUZhdm91cml0ZUl0ZW06IHRoaXMuX2N1c3RvbWVyQ29udHJvbGxlci5yZW1vdmVGYXZvdXJpdGVJdGVtXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VzdG9tZXIgdG9rZW4gcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogQ3VzdG9tZXJUb2tlbkNvbnRyb2xsZXIuY3JlYXRlfX1cbiAgICovXG4gIGdldCBDdXN0b21lclRva2VuKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2N1c3RvbWVyVG9rZW5Db250cm9sbGVyLmNyZWF0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNvdXBvbiByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBDb3Vwb25Db250cm9sbGVyLmNyZWF0ZX19XG4gICAqL1xuICBnZXQgQ291cG9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2NvdXBvbkNvbnRyb2xsZXIuY3JlYXRlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZW1wbG95ZWUgcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogRW1wbG95ZWVDb250cm9sbGVyLmNyZWF0ZSwgdXBkYXRlOiBFbXBsb3llZUNvbnRyb2xsZXIudXBkYXRlLCBkZWxldGU6IEVtcGxveWVlQ29udHJvbGxlci5kZWxldGUsIGVucm9sbFRlcm1pbmFsRmNtOiBFbXBsb3llZUNvbnRyb2xsZXIuZW5yb2xsVGVybWluYWxGY20sIHJldm9rZVRlcm1pbmFsRmNtOiBFbXBsb3llZUNvbnRyb2xsZXIucmV2b2tlVGVybWluYWxGY20sIHNlbmRQYXNzd29yZFJlc2V0Q29kZTogRW1wbG95ZWVDb250cm9sbGVyLnNlbmRQYXNzd29yZFJlc2V0Q29kZX19XG4gICAqL1xuICBnZXQgRW1wbG95ZWUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLmRlbGV0ZSxcbiAgICAgIGVucm9sbFRlcm1pbmFsRmNtOiB0aGlzLl9lbXBsb3llZUNvbnRyb2xsZXIuZW5yb2xsVGVybWluYWxGY20sXG4gICAgICByZXZva2VUZXJtaW5hbEZjbTogdGhpcy5fZW1wbG95ZWVDb250cm9sbGVyLnJldm9rZVRlcm1pbmFsRmNtLFxuICAgICAgcmVzZXRFbXBsb3llZVBhc3N3b3JkOiB0aGlzLl9lbXBsb3llZUNvbnRyb2xsZXIucmVzZXRFbXBsb3llZVBhc3N3b3JkLFxuICAgICAgc2VuZFBhc3N3b3JkUmVzZXRDb2RlOiB0aGlzLl9lbXBsb3llZUNvbnRyb2xsZXIuc2VuZFBhc3N3b3JkUmVzZXRDb2RlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZW1wbG95ZWUgdG9rZW4gcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogRW1wbG95ZWVUb2tlbkNvbnRyb2xsZXIuY3JlYXRlfX1cbiAgICovXG4gIGdldCBFbXBsb3llZVRva2VuKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2VtcGxveWVlVG9rZW5Db250cm9sbGVyLmNyZWF0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGdyYXBoIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3txdWVyeTogR3JhcGhDb250cm9sbGVyLnF1ZXJ5fX1cbiAgICovXG4gIGdldCBHcmFwaCgpOiB7IHF1ZXJ5OiBHcmFwaENvbnRyb2xsZXJbXCJxdWVyeVwiXSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgcXVlcnk6IHRoaXMuX2dyYXBoQ29udHJvbGxlci5xdWVyeVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1lbnUgaXRlbSByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBNZW51SXRlbUNvbnRyb2xsZXIuY3JlYXRlLCB1cGRhdGU6IE1lbnVJdGVtQ29udHJvbGxlci51cGRhdGUsIGRlbGV0ZTogTWVudUl0ZW1Db250cm9sbGVyLmRlbGV0ZX19XG4gICAqL1xuICBnZXQgTWVudUl0ZW0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fbWVudUl0ZW1Db250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fbWVudUl0ZW1Db250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGJhdGNoVXBkYXRlOiB0aGlzLl9tZW51SXRlbUNvbnRyb2xsZXIuYmF0Y2hVcGRhdGUsXG4gICAgICBkZWxldGU6IHRoaXMuX21lbnVJdGVtQ29udHJvbGxlci5kZWxldGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtb2RpZmllciByZWxhdGVkIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBNb2RpZmllckNvbnRyb2xsZXIuY3JlYXRlLCB1cGRhdGU6IE1vZGlmaWVyQ29udHJvbGxlci51cGRhdGUsIGRlbGV0ZTogTW9kaWZpZXJDb250cm9sbGVyLmRlbGV0ZX19XG4gICAqL1xuICBnZXQgTW9kaWZpZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fbW9kaWZpZXJDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fbW9kaWZpZXJDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fbW9kaWZpZXJDb250cm9sbGVyLmRlbGV0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IG9yZGVyIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IE9yZGVyQ29udHJvbGxlci5jcmVhdGUsIGNhbmNlbDogT3JkZXJDb250cm9sbGVyLmNhbmNlbCwgYmVnaW5QcmVwYXJpbmc6IE9yZGVyQ29udHJvbGxlci5iZWdpblByZXBhcmluZywgcHJlcGFyZWQ6IE9yZGVyQ29udHJvbGxlci5wcmVwYXJlZCwgY29tcGxldGU6IE9yZGVyQ29udHJvbGxlci5jb21wbGV0ZX19XG4gICAqL1xuICBnZXQgT3JkZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fb3JkZXJDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIGNhbmNlbDogdGhpcy5fb3JkZXJDb250cm9sbGVyLmNhbmNlbCxcbiAgICAgIGJlZ2luUHJlcGFyaW5nOiB0aGlzLl9vcmRlckNvbnRyb2xsZXIuYmVnaW5QcmVwYXJpbmcsXG4gICAgICBwcmVwYXJlZDogdGhpcy5fb3JkZXJDb250cm9sbGVyLnByZXBhcmVkLFxuICAgICAgY29tcGxldGU6IHRoaXMuX29yZGVyQ29udHJvbGxlci5jb21wbGV0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGhlYWQgb2ZmaWNlIHJlbGF0ZWQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IEhlYWRPZmZpY2VDb250cm9sbGVyLmNyZWF0ZSwgdXBkYXRlOiBIZWFkT2ZmaWNlQ29udHJvbGxlci51cGRhdGUsIGRlbGV0ZTogSGVhZE9mZmljZUNvbnRyb2xsZXIuZGVsZXRlfX1cbiAgICovXG4gIGdldCBIZWFkT2ZmaWNlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2hlYWRPZmZpY2VDb250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5faGVhZE9mZmljZUNvbnRyb2xsZXIudXBkYXRlLFxuICAgICAgZGVsZXRlOiB0aGlzLl9oZWFkT2ZmaWNlQ29udHJvbGxlci5kZWxldGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2ZXJpZmljYXRpb24gc2VydmljZXMgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tzdGFydFZlcmlmaWNhdGlvblNlc3Npb246IFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIuc3RhcnRWZXJpZmljYXRpb25TZXNzaW9uLCBjaGVja1ZlcmlmaWNhdGlvblNlc3Npb246IFZlcmlmaWNhdGlvbkNvbnRyb2xsZXIuY2hlY2tWZXJpZmljYXRpb25TZXNzaW9ufX1cbiAgICovXG4gIGdldCBWZXJpZmljYXRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0VmVyaWZpY2F0aW9uU2Vzc2lvbjogdGhpcy5fdmVyaWZpY2F0aW9uQ29udHJvbGxlclxuICAgICAgICAuc3RhcnRWZXJpZmljYXRpb25TZXNzaW9uLFxuICAgICAgY2hlY2tWZXJpZmljYXRpb25TZXNzaW9uOiB0aGlzLl92ZXJpZmljYXRpb25Db250cm9sbGVyXG4gICAgICAgIC5jaGVja1ZlcmlmaWNhdGlvblNlc3Npb25cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2ZW5kb3IgcmVsYXRlZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogVmVuZG9yQ29udHJvbGxlci5jcmVhdGUsIGNyZWF0ZVdpdGhFbXBsb3llZTogVmVuZG9yQ29udHJvbGxlci5jcmVhdGVXaXRoRW1wbG95ZWUsIHVwZGF0ZTogVmVuZG9yQ29udHJvbGxlci51cGRhdGUsIHVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1czogVmVuZG9yQ29udHJvbGxlci51cGRhdGVBbGxNZW51SXRlbXNTdGF0dXMsIGRlbGV0ZVZlbmRvclRlc3RlcjogVmVuZG9yQ29udHJvbGxlci5kZWxldGVWZW5kb3JUZXN0ZXIsIGFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzOiBWZW5kb3JDb250cm9sbGVyLmFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzLCB1cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1czogVmVuZG9yQ29udHJvbGxlci51cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cywgcmVxdWVzdFZlbmRvckFwcHJvdmFsOiBWZW5kb3JDb250cm9sbGVyLnJlcXVlc3RWZW5kb3JBcHByb3ZhbH19XG4gICAqL1xuICBnZXQgVmVuZG9yKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX3ZlbmRvckNvbnRyb2xsZXIuY3JlYXRlLFxuICAgICAgY3JlYXRlV2l0aEVtcGxveWVlOiB0aGlzLl92ZW5kb3JDb250cm9sbGVyLmNyZWF0ZVdpdGhFbXBsb3llZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fdmVuZG9yQ29udHJvbGxlci51cGRhdGUsXG4gICAgICB1cGRhdGVBbGxNZW51SXRlbXNTdGF0dXM6IHRoaXMuX3ZlbmRvckNvbnRyb2xsZXIudXBkYXRlQWxsTWVudUl0ZW1zU3RhdHVzLFxuICAgICAgZGVsZXRlVmVuZG9yVGVzdGVyOiB0aGlzLl92ZW5kb3JDb250cm9sbGVyLmRlbGV0ZVZlbmRvclRlc3RlcixcbiAgICAgIGFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzOiB0aGlzLl92ZW5kb3JDb250cm9sbGVyXG4gICAgICAgIC5hZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyxcbiAgICAgIHVwZGF0ZVZlbmRvckFwcHJvdmFsU3RhdHVzOiB0aGlzLl92ZW5kb3JDb250cm9sbGVyXG4gICAgICAgIC51cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1cyxcbiAgICAgIHJlcXVlc3RWZW5kb3JBcHByb3ZhbDogdGhpcy5fdmVuZG9yQ29udHJvbGxlci5yZXF1ZXN0VmVuZG9yQXBwcm92YWxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWxpZGF0aW9uIHNlcnZpY2VzIG1ldGhvZHMuXG4gICAqIEByZXR1cm5zIHt7Q3VzdG9tZXI6IHtzaWdudXBFbWFpbDogVmFsaWRhdGlvbkNvbnRyb2xsZXIuY3VzdG9tZXJTaWdudXBFbWFpbCwgc2lnbnVwUGhvbmU6IFZhbGlkYXRpb25Db250cm9sbGVyLmN1c3RvbWVyU2lnbnVwUGhvbmV9fX1cbiAgICovXG4gIGdldCBWYWxpZGF0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBDdXN0b21lcjoge1xuICAgICAgICBzaWdudXBFbWFpbDogdGhpcy5fdmFsaWRhdGlvbkNvbnRyb2xsZXIuY3VzdG9tZXJTaWdudXBFbWFpbCxcbiAgICAgICAgc2lnbnVwUGhvbmU6IHRoaXMuX3ZhbGlkYXRpb25Db250cm9sbGVyLmN1c3RvbWVyU2lnbnVwUGhvbmVcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdXJ2ZXkgcmVsYXRlZCBtZXRob2RzXG4gICAqIEByZXR1cm5zIHt7Y3JlYXRlOiBTdXJ2ZXlDb250cm9sbGVyLmNyZWF0ZSwgdXBkYXRlOiBTdXJ2ZXlDb250cm9sbGVyLnVwZGF0ZSwgYXJjaGl2ZTogU3VydmV5Q29udHJvbGxlci5hcmNoaXZlLCBkZWxldGU6IFN1cnZleUNvbnRyb2xsZXIuZGVsZXRlLCByZWxlYXNlOiBTdXJ2ZXlDb250cm9sbGVyLnJlbGVhc2UsIGNyZWF0ZVN1cnZleVJlc3BvbnNlOiBTdXJ2ZXlDb250cm9sbGVyLmNyZWF0ZVN1cnZleVJlc3BvbnNlfX1cbiAgICovXG4gIGdldCBTdXJ2ZXkoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fc3VydmV5Q29udHJvbGxlci5jcmVhdGUsXG4gICAgICB1cGRhdGU6IHRoaXMuX3N1cnZleUNvbnRyb2xsZXIudXBkYXRlLFxuICAgICAgYXJjaGl2ZTogdGhpcy5fc3VydmV5Q29udHJvbGxlci5hcmNoaXZlLFxuICAgICAgZGVsZXRlOiB0aGlzLl9zdXJ2ZXlDb250cm9sbGVyLmRlbGV0ZSxcbiAgICAgIHJlbGVhc2U6IHRoaXMuX3N1cnZleUNvbnRyb2xsZXIucmVsZWFzZSxcbiAgICAgIGNyZWF0ZVN1cnZleVJlc3BvbnNlOiB0aGlzLl9zdXJ2ZXlDb250cm9sbGVyLmNyZWF0ZVN1cnZleVJlc3BvbnNlXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW1hZ2Ugc2VydmljZXMgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3t1cGxvYWQ6IEltYWdlQ29udHJvbGxlci51cGxvYWQsIGdldExpbms6IEltYWdlQ29udHJvbGxlci5nZXRMaW5rfX1cbiAgICovXG4gIGdldCBJbWFnZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBsb2FkOiB0aGlzLl9pbWFnZUNvbnRyb2xsZXIudXBsb2FkLFxuICAgICAgZ2V0TGluazogdGhpcy5faW1hZ2VDb250cm9sbGVyLmdldExpbmtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwYXlvdXQgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tyZXF1ZXN0OiBQYXlvdXRDb250cm9sbGVyLnJlcXVlc3QsIHVwZGF0ZTogUGF5b3V0Q29udHJvbGxlci51cGRhdGUsIGNhbmNlbDogUGF5b3V0Q29udHJvbGxlci5jYW5jZWwsIH19XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZ2V0IFBheW91dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWVzdDogdGhpcy5fcGF5b3V0Q29udHJvbGxlci5yZXF1ZXN0LFxuICAgICAgdXBkYXRlOiB0aGlzLl9wYXlvdXRDb250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGNhbmNlbDogdGhpcy5fcGF5b3V0Q29udHJvbGxlci5jYW5jZWxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBleHBsb3JlIHBhZ2UgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tyZXBsYWNlOiBFeHBsb3JlUGFnZUNvbnRyb2xsZXIucmVwbGFjZX19XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZ2V0IEV4cGxvcmVQYWdlKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXBsYWNlOiB0aGlzLl9leHBsb3JlUGFnZUNvbnRyb2xsZXIucmVwbGFjZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZsYXNoIHNhbGUgbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IEZsYXNoU2FsZUNvbnRyb2xsZXIuY3JlYXRlLCB1cGRhdGU6IEZsYXNoU2FsZUNvbnRyb2xsZXIudXBkYXRlfX1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBnZXQgRmxhc2hTYWxlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGU6IHRoaXMuX2ZsYXNoU2FsZUNvbnRyb2xsZXIuY3JlYXRlLFxuICAgICAgdXBkYXRlOiB0aGlzLl9mbGFzaFNhbGVDb250cm9sbGVyLnVwZGF0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRpcCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZTogVGlwQ29udHJvbGxlci5jcmVhdGV9fVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGdldCBUaXAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fdGlwQ29udHJvbGxlci5jcmVhdGVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBsb3lhbHR5IHByb2dyYW0gbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IExveWFsdHlQcm9ncmFtQ29udHJvbGxlci5jcmVhdGUsIHVwZGF0ZTogTG95YWx0eVByb2dyYW1Db250cm9sbGVyLnVwZGF0ZSwgZGVsZXRlOiBMb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXIuZGVsZXRlfX1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBnZXQgTG95YWx0eVByb2dyYW0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fbG95YWx0eVByb2dyYW1Db250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fbG95YWx0eVByb2dyYW1Db250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fbG95YWx0eVByb2dyYW1Db250cm9sbGVyLmRlbGV0ZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGxveWFsdHkgY2FyZCBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e2NyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsOiBMb3lhbHR5Q2FyZENvbnRyb2xsZXIuY3JlYXRlTG95YWx0eUNhcmRBbmRFbnJvbGwsIGF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZDogTG95YWx0eUNhcmRDb250cm9sbGVyLmF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZCwgYXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkOiBMb3lhbHR5Q2FyZENvbnRyb2xsZXIuYXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkLCBzaGFyZUxveWFsdHlQb2ludHM6IExveWFsdHlDYXJkQ29udHJvbGxlci5zaGFyZUxveWFsdHlQb2ludHMsIHJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb246IExveWFsdHlDYXJkQ29udHJvbGxlci5yZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9ufX1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBnZXQgTG95YWx0eUNhcmQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsOiB0aGlzLl9sb3lhbHR5Q2FyZENvbnRyb2xsZXJcbiAgICAgICAgLmNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsLFxuICAgICAgYXdhcmRQb2ludHNUb0xveWFsdHlDYXJkOiB0aGlzLl9sb3lhbHR5Q2FyZENvbnRyb2xsZXJcbiAgICAgICAgLmF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZCxcbiAgICAgIGF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZDogdGhpcy5fbG95YWx0eUNhcmRDb250cm9sbGVyXG4gICAgICAgIC5hd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQsXG4gICAgICBzaGFyZUxveWFsdHlQb2ludHM6IHRoaXMuX2xveWFsdHlDYXJkQ29udHJvbGxlci5zaGFyZUxveWFsdHlQb2ludHMsXG4gICAgICByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uOiB0aGlzLl9sb3lhbHR5Q2FyZENvbnRyb2xsZXJcbiAgICAgICAgLnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb25cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWRlZW1hYmxlIGl0ZW0gbWV0aG9kcy5cbiAgICogQHJldHVybnMge3tjcmVhdGU6IFJlZGVlbWFibGVJdGVtQ29udHJvbGxlci5jcmVhdGUsIHVwZGF0ZTogUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyLnVwZGF0ZSwgZGVsZXRlOiBSZWRlZW1hYmxlSXRlbUNvbnRyb2xsZXIuZGVsZXRlfX1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBnZXQgUmVkZWVtYWJsZUl0ZW0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZTogdGhpcy5fcmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyLmNyZWF0ZSxcbiAgICAgIHVwZGF0ZTogdGhpcy5fcmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyLnVwZGF0ZSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fcmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyLmRlbGV0ZVxuICAgIH07XG4gIH1cblxuICBnZXQgUmVtb3RlQ29uZmlndXJhdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmV0Y2g6IHRoaXMuX3JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyLmZldGNoLFxuICAgICAgZGVsZXRlUmF3Q29uZmlndXJhdGlvbjogdGhpcy5fcmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXJcbiAgICAgICAgLmRlbGV0ZVJhd0NvbmZpZ3VyYXRpb24sXG4gICAgICB1cGRhdGVSYXdDb25maWd1cmF0aW9uOiB0aGlzLl9yZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlclxuICAgICAgICAudXBkYXRlUmF3Q29uZmlndXJhdGlvbixcbiAgICAgIGNyZWF0ZVJhd0NvbmZpZ3VyYXRpb246IHRoaXMuX3JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyXG4gICAgICAgIC5jcmVhdGVSYXdDb25maWd1cmF0aW9uXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXRpbGl0eSBtZXRob2RzLlxuICAgKiBAcmV0dXJucyB7e3N0clRvSWRlbnRpZmllcjogKCp8KGZ1bmN0aW9uKCk6IHJlc3VsdCkpfX1cbiAgICovXG4gIGdldCBVdGlsKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHJUb0lkZW50aWZpZXJcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IG5ldHdvcmsgYWRhcHRvciBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7Q2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yfVxuICAgKi9cbiAgZ2V0QWRhcHRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fYWRhcHRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgQ29uZmlndXJhdGlvblxuICAgKiBAcmV0dXJucyB7e2VuZHBvaW50czogKHtncmFwaFFMRW5kcG9pbnQ6IHtwcm9kdWN0aW9uOiBzdHJpbmd9LCB2ZXJpZmljYXRpb25FbmRwb2ludDoge3Byb2R1Y3Rpb246IHN0cmluZ30sIHZhbGlkYXRpb25FbmRwb2ludDoge3Byb2R1Y3Rpb246IHN0cmluZ30sIGltYWdlRW5kcG9pbnQ6IHtwcm9kdWN0aW9uOiBzdHJpbmcsIGRpc3RyaWJ1dGlvbjogc3RyaW5nfX18e2dyYXBoUUxFbmRwb2ludCwgdmVyaWZpY2F0aW9uRW5kcG9pbnQsIHZhbGlkYXRpb25FbmRwb2ludCwgaW1hZ2VFbmRwb2ludH0pfX1cbiAgICovXG4gIGdldENvbmZpZ3VyYXRpb24oKSB7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgY3VycmVudCBhdXRoZW50aWNhdGlvbiB0b2tlblxuICAgKiBAcGFyYW0gdG9rZW5cbiAgICovXG4gIHNldEF1dGhlbnRpY2F0aW9uVG9rZW4odG9rZW46IHN0cmluZykge1xuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XG4gICAgdGhpcy5fYWRhcHRvci5zZXRBdXRoZW50aWNhdGlvblRva2VuKHRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBhdXRoZW50aWNhdGlvbiB0b2tlblxuICAgKiBAcmV0dXJucyB7bnVsbHxzdHJpbmd9XG4gICAqL1xuICBnZXRBdXRoZW50aWNhdGlvblRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLl90b2tlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgY3VycmVudCBTREsgVmVyc2lvbiBpbiBjb21wYXRpYmxlXG4gICAqIEByZXR1cm5zIHtudWxsfGJvb2xlYW59XG4gICAqL1xuICBpc0NvbXBhdGlibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc2RrVmVyc2lvbiA9IHBhY2thZ2VEb3RKc29uLnZlcnNpb247XG4gICAgbGV0IHF1ZXJ5U3RyaW5nID0gYFxuICAgICAgICAgICAgcXVlcnkge1xuICAgICAgICAgICAgICAgIGlzX3Nka192ZXJzaW9uX3N1cHBvcnRlZCh2ZXJzaW9uOlwiJHtzZGtWZXJzaW9ufVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLkdyYXBoLnF1ZXJ5KHF1ZXJ5U3RyaW5nKVxuICAgICAgICAudGhlbigoZGF0YTogUXVlcnlSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEuaXNfc2RrX3ZlcnNpb25fc3VwcG9ydGVkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IEFwb2xsbyBlbmRwb2ludC5cbiAgICogV0FSTklORzogRU5EIE9GIExJRkVcbiAgICogUGxlYXNlIHVzZSBzZXRHcmFwaFFMRW5kcG9pbnRJbnN0ZWFkXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKi9cbiAgc2V0QXBvbGxvRW5kcG9pbnQoZW5kcG9pbnQ6IHN0cmluZykge1xuICAgIHRoaXMuc2V0R3JhcGhRTEVuZHBvaW50KGVuZHBvaW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgR3JhcGhRTCBlbmRwb2ludC5cbiAgICogQHBhcmFtIGVuZHBvaW50XG4gICAqL1xuICBzZXRHcmFwaFFMRW5kcG9pbnQoZW5kcG9pbnQ6IHN0cmluZykge1xuICAgIGNvbmZpZy5lbmRwb2ludHMuZ3JhcGhRTEVuZHBvaW50LnByb2R1Y3Rpb24gPSBlbmRwb2ludDtcbiAgICB0aGlzLl9hZGFwdG9yID0gbmV3IENoZWFwckVhdHNHcmFwaFFMQWRhcHRvcih7XG4gICAgICBncmFwaFFMRW5kcG9pbnQ6IHRoaXMuZ2V0Q29uZmlndXJhdGlvbigpLmVuZHBvaW50cy5ncmFwaFFMRW5kcG9pbnRcbiAgICAgICAgLnByb2R1Y3Rpb25cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdmVyaWZpY2F0aW9uRW5kcG9pbnQucHJvZHVjdGlvblxuICAgKiBAcGFyYW0gZW5kcG9pbnRcbiAgICovXG4gIHNldFZlcmlmaWNhdGlvbkVuZHBvaW50KGVuZHBvaW50OiBzdHJpbmcpIHtcbiAgICBjb25maWcuZW5kcG9pbnRzLnZlcmlmaWNhdGlvbkVuZHBvaW50LnByb2R1Y3Rpb24gPSBlbmRwb2ludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdmFsaWRhdGlvbkVuZHBvaW50LnByb2R1Y3Rpb25cbiAgICogQHBhcmFtIGVuZHBvaW50XG4gICAqL1xuICBzZXRWYWxpZGF0aW9uRW5kcG9pbnQoZW5kcG9pbnQ6IHN0cmluZykge1xuICAgIGNvbmZpZy5lbmRwb2ludHMudmFsaWRhdGlvbkVuZHBvaW50LnByb2R1Y3Rpb24gPSBlbmRwb2ludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgaW1hZ2VFbmRwb2ludC5wcm9kdWN0aW9uXG4gICAqIEBwYXJhbSBlbmRwb2ludFxuICAgKi9cbiAgc2V0SW1hZ2VFbmRwb2ludChlbmRwb2ludDogc3RyaW5nKSB7XG4gICAgY29uZmlnLmVuZHBvaW50cy5pbWFnZUVuZHBvaW50LnByb2R1Y3Rpb24gPSBlbmRwb2ludDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgaW1hZ2VFbmRwb2ludC5kaXN0cmlidXRpb25cbiAgICogQHBhcmFtIGVuZHBvaW50XG4gICAqL1xuICBzZXRJbWFnZURpc3RyaWJ1dGlvbkVuZHBvaW50KGVuZHBvaW50OiBzdHJpbmcpIHtcbiAgICBjb25maWcuZW5kcG9pbnRzLmltYWdlRW5kcG9pbnQuZGlzdHJpYnV0aW9uID0gZW5kcG9pbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzdHJUb0lkZW50aWZpZXIoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBsZXQgcmVzdWx0OiBzdHJpbmcgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHJbaV0ubWF0Y2goL1tBLVphLXowLTldLykpIHtcbiAgICAgIHJlc3VsdCArPSBzdHJbaV0udG9Mb3dlckNhc2UoKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgKHN0cltpXSA9PT0gXCJfXCIgfHwgc3RyW2ldID09PSBcIiBcIiB8fCBzdHJbaV0gPT09IFwiLVwiKSAmJlxuICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSAhPT0gXCJfXCJcbiAgICApIHtcbiAgICAgIHJlc3VsdCArPSBcIl9cIjtcbiAgICB9XG4gIH1cbiAgaWYgKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPT09IFwiX1wiKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIHJlc3VsdC5sZW5ndGggLSAxKTtcbiAgfVxuICBpZiAocmVzdWx0WzBdID09PSBcIl9cIikge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgxLCByZXN1bHQubGVuZ3RoKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCIvKipcbiAqIE5ldHdvcmsgYWRhcHRvciBmb3IgQ2hlYXByRWF0cyBHcmFwaFFMXG4gKiBBdXRob3I6IEp1biBaaGVuZ1xuICogTGljZW5zZTogVU5MSUNFTlNFRFxuICovXG5pbXBvcnQgeyBBZGFwdG9yIH0gZnJvbSBcIi4vQWRhcHRvclwiO1xuaW1wb3J0IHsgR3JhcGhRTExpbmsgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuaW1wb3J0IHBhY2thZ2VEb3RKc29uIGZyb20gXCIuLi8uLi92ZXJzaW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGVhcHJFYXRzR3JhcGhRTEFkYXB0b3IgZXh0ZW5kcyBBZGFwdG9yIHtcbiAgLy8gX2NvbmZpZzogeyBncmFwaFFMRW5kcG9pbnQ6IHN0cmluZyB9O1xuICBfZ3JhcGhRTExpbms6IEdyYXBoUUxMaW5rO1xuICBjb25zdHJ1Y3Rvcihjb25maWc6IHsgZ3JhcGhRTEVuZHBvaW50OiBzdHJpbmcgfSkge1xuICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgdGhpcy5fZ3JhcGhRTExpbmsgPSBuZXcgR3JhcGhRTExpbmsoY29uZmlnLmdyYXBoUUxFbmRwb2ludCwge1xuICAgICAgdmVyc2lvbjogcGFja2FnZURvdEpzb24udmVyc2lvbiB8fCBudWxsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBzZXRzIHRoZSBhdXRoZW50aWNhdGlvbiBmb3IgYW4gYXBwbGljYXRpb24gdG8gYmUgYXV0aG9yaXplZCB0byBtYWtlIGNhbGxzIHRvIENoZWFwckVhdHMgQVBJXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdG9rZW4gLSBUaGUgQXV0aGVudGljYXRpb24gVG9rZW5cbiAgICovXG4gIHNldEF1dGhlbnRpY2F0aW9uVG9rZW4odG9rZW46IHN0cmluZykge1xuICAgIHRoaXMuX2dyYXBoUUxMaW5rID0gbmV3IEdyYXBoUUxMaW5rKHRoaXMuX2NvbmZpZy5ncmFwaFFMRW5kcG9pbnQsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgdmVyc2lvbjogcGFja2FnZURvdEpzb24udmVyc2lvbixcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdG9rZW5cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgb2YgdGhlIEdyYXBoUUwgQVBJXG4gICAqL1xuICBzZXRHcmFwaFFMRW5kcG9pbnQodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9ncmFwaFFMTGluayA9IG5ldyBHcmFwaFFMTGluayh1cmwpO1xuICAgIHRoaXMuX2NvbmZpZy5ncmFwaFFMRW5kcG9pbnQgPSB1cmw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtICB7c3RyaW5nfSBxdWVyeVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IHZhcmlhYmxlcyA9IHt9XG4gICAqL1xuICBxdWVyeShxdWVyeTogc3RyaW5nLCB2YXJpYWJsZXM6IG9iamVjdCA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dyYXBoUUxMaW5rLnF1ZXJ5KHsgcXVlcnksIHZhcmlhYmxlcyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHF1ZXJ5XG4gICAqIEBwYXJhbSAge29iamVjdH0gdmFyaWFibGVzID0ge31cbiAgICovXG4gIG11dGF0ZShxdWVyeTogc3RyaW5nLCB2YXJpYWJsZXM6IG9iamVjdCA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dyYXBoUUxMaW5rLm11dGF0ZSh7IHF1ZXJ5LCB2YXJpYWJsZXMgfSk7XG4gIH1cbn1cblxuLy8gbW9kdWxlLmV4cG9ydHMgPSBDaGVhcHJFYXRzR3JhcGhRTEFkYXB0b3I7XG4iLCIvKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIHNpbXBsZSBuZXR3b3JrIGFkYXB0b3JcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBVTkxJQ0VOU0VEXG4gKi9cblxuZXhwb3J0IGNsYXNzIEFkYXB0b3Ige1xuICBfY29uZmlnOiB7IGdyYXBoUUxFbmRwb2ludDogc3RyaW5nIH07XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogeyBncmFwaFFMRW5kcG9pbnQ6IHN0cmluZyB9KSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IHRoZSBhZGFwdG9yXG4gICAgICogQHBhcmFtIHthbnl9IGNvbmZpZ1xuICAgICAqL1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gYW4gYWRhcHRvciByZXF1ZXN0XG4gICAqIEBwYXJhbSB7YW55fSBjb25maWdcbiAgICovXG4gIHJ1bihjb25maWc6IGFueSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBzaW1wbGUgR3JhcGhRTCBzZXJ2ZXIgbGlua1xuICogQXV0aG9yOiBKdW4gWmhlbmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG5pbXBvcnQgeyBTeW5jaHJvbm91c0xpbmsgfSBmcm9tIFwiLi9TeW5jaHJvbm91c0xpbmtcIjtcbmltcG9ydCB7IEdyYXBoUUxDbGllbnQgfSBmcm9tIFwiZ3JhcGhxbC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBDYXRlZ29yeSB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9DYXRlZ29yeUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENhcnQgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvQ2FydENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENvdXBvbiB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9Db3Vwb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9DdXN0b21lckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEVtcGxveWVlIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0VtcGxveWVlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRXhwbG9yZVBhZ2UgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvRXhwbG9yZVBhZ2VDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBGbGFzaFNhbGUgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvRmxhc2hTYWxlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgSGVhZE9mZmljZSB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9IZWFkT2ZmaWNlQ29udHJvbGxlclwiO1xuaW1wb3J0IHtcbiAgTG95YWx0eUNhcmQsXG4gIExveWFsdHlUcmFuc2FjdGlvblxufSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvTG95YWx0eUNhcmRDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL09yZGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUGF5b3V0IH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL1BheW91dENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFJhd0NvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvUmVtb3RlQ29uZmlndXJhdGlvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFN1cnZleSwgU3VydmV5UmVzcG9uc2UgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvU3VydmV5Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yLCBWZW5kb3JUZXN0ZXIgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVyaWZpY2F0aW9uU2Vzc2lvbiB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9WZXJpZmljYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQge1xuICBNZXJnZWRDb25maWd1cmF0aW9uLFxuICBRdWVyeVJlc3VsdFxufSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvR3JhcGhDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lclRva2VuIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0N1c3RvbWVyVG9rZW5Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBFbXBsb3llZVRva2VuIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL0VtcGxveWVlVG9rZW5Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBMb3lhbHR5UHJvZ3JhbSB9IGZyb20gXCIuLi8uLi9jb250cm9sbGVycy9Mb3lhbHR5UHJvZ3JhbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1vZGlmaWVyIH0gZnJvbSBcIi4uLy4uL2NvbnRyb2xsZXJzL01vZGlmaWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUmVkZWVtYWJsZUl0ZW0gfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBUaXAgfSBmcm9tIFwiLi4vLi4vY29udHJvbGxlcnMvVGlwQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgdHlwZSB9IGZyb20gXCJvc1wiO1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVOb3RlRm9yQ2FydCB7XG4gIHVwZGF0ZU5vdGVGb3JDYXJ0OiBDYXJ0O1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYXRlZ29yeSB7XG4gIHVwZGF0ZUNhdGVnb3J5OiBDYXRlZ29yeTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hVcGRhdGVDYXRlZ29yaWVzIHtcbiAgYmF0Y2hVcGRhdGVDYXRlZ29yaWVzOiBBcnJheTxDYXRlZ29yeT47XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlbW92ZUNvdXBvbkZyb21DYXJ0IHtcbiAgcmVtb3ZlQ291cG9uRnJvbUNhcnQ6IENhcnQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEFwcGx5Q291cG9uVG9DYXJ0IHtcbiAgYXBwbHlDb3Vwb25Ub0NhcnQ6IENhcnQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUNhcnQge1xuICBkZWxldGVDYXJ0OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUNhdGVnb3J5IHtcbiAgY3JlYXRlQ2F0ZWdvcnk6IENhdGVnb3J5O1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDb3Vwb24ge1xuICBjcmVhdGVDb3Vwb246IENvdXBvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVtb3ZlSXRlbUZyb21DYXJ0IHtcbiAgcmVtb3ZlSXRlbUZyb21DYXJ0OiBDYXJ0O1xufVxuZXhwb3J0IGludGVyZmFjZSBBZGRJdGVtQ2FydCB7XG4gIGFkZEl0ZW1DYXJ0OiBDYXJ0O1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDYXJ0IHtcbiAgY3JlYXRlQ2FydDogQ2FydDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlQ2F0ZWdvcnkge1xuICBkZWxldGVDYXRlZ29yeTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDdXN0b21lciB7XG4gIGNyZWF0ZUN1c3RvbWVyOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ3VzdG9tZXIge1xuICB1cGRhdGVDdXN0b21lcjogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlIHtcbiAgc2VuZEN1c3RvbWVyUGFzc3dvcmRSZXNldENvZGU6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVzZXRDdXN0b21lclBhc3N3b3JkIHtcbiAgcmVzZXRDdXN0b21lclBhc3N3b3JkOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRW5yb2xsQ3VzdG9tZXJBcG5zVG9rZW4ge1xuICBlbnJvbGxDdXN0b21lckFwbnNUb2tlbjogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJldm9rZUN1c3RvbWVyQXBuc1Rva2VuIHtcbiAgcmV2b2tlQ3VzdG9tZXJBcG5zVG9rZW46IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBFbnJvbGxDdXN0b21lckZjbVRva2VuIHtcbiAgZW5yb2xsQ3VzdG9tZXJGY21Ub2tlbjogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJldm9rZUN1c3RvbWVyRmNtVG9rZW4ge1xuICByZXZva2VDdXN0b21lckZjbVRva2VuOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ3VzdG9tZXJDcmVkaXRDYXJkIHtcbiAgdXBkYXRlQ3VzdG9tZXJDcmVkaXRDYXJkOiBDdXN0b21lcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ3VzdG9tZXJXYWxsZXQge1xuICBjcmVhdGVDdXN0b21lcldhbGxldDogQ291cG9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZWxvYWRDdXN0b21lcldhbGxldCB7XG4gIHJlbG9hZEN1c3RvbWVyV2FsbGV0OiBDb3Vwb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlZnVuZEN1c3RvbWVyV2FsbGV0IHtcbiAgcmVmdW5kQ3VzdG9tZXJXYWxsZXQ6IENvdXBvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ3VzdG9tZXJXYWxsZXRUcmFuc2FjdGlvbiB7XG4gIGNyZWF0ZUN1c3RvbWVyV2FsbGV0VHJhbnNhY3Rpb246IENvdXBvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQWRkRmF2b3VyaXRlVmVuZG9yRm9yQ3VzdG9tZXIge1xuICBhZGRGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lcjogQ3VzdG9tZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlbW92ZUZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyIHtcbiAgcmVtb3ZlRmF2b3VyaXRlVmVuZG9yRm9yQ3VzdG9tZXI6IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBBZGRGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXIge1xuICBhZGRGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXI6IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZW1vdmVGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXIge1xuICByZW1vdmVGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXI6IEN1c3RvbWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVDdXN0b21lclRva2VuIHtcbiAgY3JlYXRlQ3VzdG9tZXJUb2tlbjogQ3VzdG9tZXJUb2tlbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRW1wbG95ZWUge1xuICBjcmVhdGVFbXBsb3llZTogRW1wbG95ZWU7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUVtcGxveWVlIHtcbiAgdXBkYXRlRW1wbG95ZWU6IEVtcGxveWVlO1xufVxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVFbXBsb3llZSB7XG4gIGRlbGV0ZUVtcGxveWVlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEVucm9sbEVtcGxveWVlVGVybWluYWxGY21Ub2tlbiB7XG4gIGVucm9sbEVtcGxveWVlVGVybWluYWxGY21Ub2tlbjogRW1wbG95ZWU7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbiB7XG4gIHJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbjogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBTZW5kRW1wbG95ZWVQYXNzd29yZFJlc2V0Q29kZSB7XG4gIHNlbmRFbXBsb3llZVBhc3N3b3JkUmVzZXRDb2RlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlc2V0RW1wbG95ZWVQYXNzd29yZCB7XG4gIHJlc2V0RW1wbG95ZWVQYXNzd29yZDogRW1wbG95ZWU7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUVtcGxveWVlVG9rZW4ge1xuICBjcmVhdGVFbXBsb3llZVRva2VuOiBFbXBsb3llZVRva2VuO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXBsYWNlRXhwbG9yZVBhZ2Uge1xuICByZXBsYWNlRXhwbG9yZVBhZ2U6IEV4cGxvcmVQYWdlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVGbGFzaFNhbGUge1xuICBjcmVhdGVGbGFzaFNhbGU6IEZsYXNoU2FsZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlRmxhc2hTYWxlIHtcbiAgdXBkYXRlRmxhc2hTYWxlOiBGbGFzaFNhbGU7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUhlYWRPZmZpY2Uge1xuICBjcmVhdGVIZWFkT2ZmaWNlOiBIZWFkT2ZmaWNlO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVIZWFkT2ZmaWNlIHtcbiAgdXBkYXRlSGVhZE9mZmljZTogSGVhZE9mZmljZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlSGVhZE9mZmljZSB7XG4gIGRlbGV0ZUhlYWRPZmZpY2U6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlTG95YWx0eUNhcmRBbmRFbnJvbGwge1xuICBjcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbDogTG95YWx0eUNhcmQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIEF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZCB7XG4gIGF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZDogTG95YWx0eVRyYW5zYWN0aW9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBBd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQge1xuICBhd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQ6IExveWFsdHlUcmFuc2FjdGlvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2hhcmVMb3lhbHR5UG9pbnRzIHtcbiAgc2hhcmVMb3lhbHR5UG9pbnRzOiBMb3lhbHR5VHJhbnNhY3Rpb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24ge1xuICByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uOiBDb3Vwb247XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUxveWFsdHlQcm9ncmFtIHtcbiAgY3JlYXRlTG95YWx0eVByb2dyYW06IExveWFsdHlQcm9ncmFtO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVMb3lhbHR5UHJvZ3JhbSB7XG4gIHVwZGF0ZUxveWFsdHlQcm9ncmFtOiBMb3lhbHR5Q2FyZDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlTG95YWx0eVByb2dyYW0ge1xuICBkZWxldGVMb3lhbHR5UHJvZ3JhbTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVNZW51SXRlbSB7XG4gIGNyZWF0ZU1lbnVJdGVtOiBNZW51SXRlbTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTWVudUl0ZW0ge1xuICB1cGRhdGVNZW51SXRlbTogTWVudUl0ZW07XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZU1lbnVJdGVtIHtcbiAgZGVsZXRlTWVudUl0ZW06IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hVcGRhdGVNZW51SXRlbXMge1xuICBiYXRjaFVwZGF0ZU1lbnVJdGVtczogQXJyYXk8TWVudUl0ZW0+O1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVNb2RpZmllciB7XG4gIGNyZWF0ZU1vZGlmaWVyOiBNb2RpZmllcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTW9kaWZpZXIge1xuICB1cGRhdGVNb2RpZmllcjogTW9kaWZpZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZU1vZGlmaWVyIHtcbiAgZGVsZXRlTW9kaWZpZXI6IE1vZGlmaWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVPcmRlciB7XG4gIGNyZWF0ZU9yZGVyOiBPcmRlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FuY2VsT3JkZXIge1xuICBjYW5jZWxPcmRlcjogT3JkZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIEJlZ2luUHJlcGFyaW5nT3JkZXIge1xuICBiZWdpblByZXBhcmluZ09yZGVyOiBPcmRlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUHJlcGFyZWRPcmRlciB7XG4gIHByZXBhcmVkT3JkZXI6IE9yZGVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0ZU9yZGVyIHtcbiAgY29tcGxldGVPcmRlcjogT3JkZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RQYXlvdXQge1xuICByZXF1ZXN0UGF5b3V0OiBQYXlvdXQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVBheW91dCB7XG4gIHVwZGF0ZVBheW91dDogUGF5b3V0O1xufVxuZXhwb3J0IGludGVyZmFjZSBDYW5jZWxQYXlvdXQge1xuICBjYW5jZWxQYXlvdXQ6IFBheW91dDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUmVkZWVtYWJsZUl0ZW0ge1xuICBjcmVhdGVSZWRlZW1hYmxlSXRlbTogUmVkZWVtYWJsZUl0ZW07XG59XG5leHBvcnQgaW50ZXJmYWNlIHVwZGF0ZVJlZGVlbWFibGVJdGVtIHtcbiAgdXBkYXRlUmVkZWVtYWJsZUl0ZW06IFJlZGVlbWFibGVJdGVtO1xufVxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVSZWRlZW1hYmxlSXRlbSB7XG4gIGRlbGV0ZVJlZGVlbWFibGVJdGVtOiBzdHJpbmc7XG59XG4vL3Nob3VsZCBiZSBvbmx5IGluIHF1ZXJ5IHNlZSBSZW1vdGVDb25maWd1cmF0aW9uQ29udHJvbGxlclxuZXhwb3J0IGludGVyZmFjZSBNZXJnZWRfQ29uZmlndXJhdGlvbiB7XG4gIG1lcmdlZF9jb25maWd1cmF0aW9uOiBNZXJnZWRDb25maWd1cmF0aW9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVSYXdDb25maWd1cmF0aW9uIHtcbiAgY3JlYXRlUmF3Q29uZmlndXJhdGlvbjogUmF3Q29uZmlndXJhdGlvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlUmF3Q29uZmlndXJhdGlvbiB7XG4gIHVwZGF0ZVJhd0NvbmZpZ3VyYXRpb246IFJhd0NvbmZpZ3VyYXRpb247XG59XG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZVJhd0NvbmZpZ3VyYXRpb24ge1xuICBkZWxldGVSYXdDb25maWd1cmF0aW9uOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVN1cnZleSB7XG4gIGNyZWF0ZVN1cnZleTogU3VydmV5O1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVTdXJ2ZXkge1xuICB1cGRhdGVTdXJ2ZXk6IFN1cnZleTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVsZWFzZVN1cnZleSB7XG4gIHJlbGVhc2VTdXJ2ZXk6IFN1cnZleTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQXJjaGl2ZVN1cnZleSB7XG4gIGFyY2hpdmVTdXJ2ZXk6IFN1cnZleTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlU3VydmV5IHtcbiAgZGVsZXRlU3VydmV5OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVN1cnZleVJlc3BvbnNlIHtcbiAgY3JlYXRlU3VydmV5UmVzcG9uc2U6IFN1cnZleVJlc3BvbnNlO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVUaXAge1xuICBjcmVhdGVUaXA6IFRpcDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlVmVuZG9yVGVzdGVyIHtcbiAgZGVsZXRlVmVuZG9yVGVzdGVyOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzIHtcbiAgYWRkVmVuZG9yVGVzdGVyQnlFbWFpbEFkZHJlc3M6IFZlbmRvclRlc3Rlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMge1xuICB1cGRhdGVWZW5kb3JBcHByb3ZhbFN0YXR1czogVmVuZG9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0VmVuZG9yQXBwcm92YWwge1xuICByZXF1ZXN0VmVuZG9yQXBwcm92YWw6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlIHtcbiAgY3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlOiBWZW5kb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVZlbmRvciB7XG4gIHVwZGF0ZVZlbmRvcjogVmVuZG9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTbXNWZXJpZmljYXRpb25TZXNzaW9uIHtcbiAgY3JlYXRlU21zVmVyaWZpY2F0aW9uU2Vzc2lvbjogVmVyaWZpY2F0aW9uU2Vzc2lvbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZ5U21zVmVyaWZpY2F0aW9uU2Vzc2lvbiB7XG4gIHZlcmlmeVNtc1ZlcmlmaWNhdGlvblNlc3Npb246IFZlcmlmaWNhdGlvblNlc3Npb247XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1c0ZvclZlbmRvciB7XG4gIHVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1c0ZvclZlbmRvcjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE11dGF0ZVJlc3VsdFxuICBleHRlbmRzIENyZWF0ZUNhdGVnb3J5LFxuICAgIENyZWF0ZUNvdXBvbixcbiAgICBVcGRhdGVBbGxNZW51SXRlbXNTdGF0dXNGb3JWZW5kb3IsXG4gICAgVXBkYXRlQ3VzdG9tZXIsXG4gICAgVXBkYXRlTm90ZUZvckNhcnQsXG4gICAgUmVtb3ZlQ291cG9uRnJvbUNhcnQsXG4gICAgQXBwbHlDb3Vwb25Ub0NhcnQsXG4gICAgVmVyaWZ5U21zVmVyaWZpY2F0aW9uU2Vzc2lvbixcbiAgICBDcmVhdGVTbXNWZXJpZmljYXRpb25TZXNzaW9uLFxuICAgIFVwZGF0ZVZlbmRvcixcbiAgICBDcmVhdGVWZW5kb3JXaXRoRW1wbG95ZWUsXG4gICAgUmVxdWVzdFZlbmRvckFwcHJvdmFsLFxuICAgIFVwZGF0ZVZlbmRvckFwcHJvdmFsU3RhdHVzLFxuICAgIEFkZFZlbmRvclRlc3RlckJ5RW1haWxBZGRyZXNzLFxuICAgIERlbGV0ZVZlbmRvclRlc3RlcixcbiAgICBDcmVhdGVUaXAsXG4gICAgQ3JlYXRlU3VydmV5UmVzcG9uc2UsXG4gICAgRGVsZXRlU3VydmV5LFxuICAgIEFyY2hpdmVTdXJ2ZXksXG4gICAgUmVsZWFzZVN1cnZleSxcbiAgICBVcGRhdGVTdXJ2ZXksXG4gICAgQ3JlYXRlU3VydmV5LFxuICAgIERlbGV0ZVJhd0NvbmZpZ3VyYXRpb24sXG4gICAgVXBkYXRlUmF3Q29uZmlndXJhdGlvbixcbiAgICBDcmVhdGVSYXdDb25maWd1cmF0aW9uLFxuICAgIE1lcmdlZF9Db25maWd1cmF0aW9uLFxuICAgIERlbGV0ZVJlZGVlbWFibGVJdGVtLFxuICAgIHVwZGF0ZVJlZGVlbWFibGVJdGVtLFxuICAgIENyZWF0ZVJlZGVlbWFibGVJdGVtLFxuICAgIENhbmNlbFBheW91dCxcbiAgICBVcGRhdGVQYXlvdXQsXG4gICAgUmVxdWVzdFBheW91dCxcbiAgICBDb21wbGV0ZU9yZGVyLFxuICAgIFByZXBhcmVkT3JkZXIsXG4gICAgQmVnaW5QcmVwYXJpbmdPcmRlcixcbiAgICBDYW5jZWxPcmRlcixcbiAgICBDcmVhdGVPcmRlcixcbiAgICBEZWxldGVNb2RpZmllcixcbiAgICBVcGRhdGVNb2RpZmllcixcbiAgICBDcmVhdGVNb2RpZmllcixcbiAgICBCYXRjaFVwZGF0ZU1lbnVJdGVtcyxcbiAgICBEZWxldGVNZW51SXRlbSxcbiAgICBVcGRhdGVNZW51SXRlbSxcbiAgICBDcmVhdGVNZW51SXRlbSxcbiAgICBEZWxldGVMb3lhbHR5UHJvZ3JhbSxcbiAgICBVcGRhdGVMb3lhbHR5UHJvZ3JhbSxcbiAgICBDcmVhdGVMb3lhbHR5UHJvZ3JhbSxcbiAgICBSZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uLFxuICAgIFNoYXJlTG95YWx0eVBvaW50cyxcbiAgICBBd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQsXG4gICAgQXdhcmRQb2ludHNUb0xveWFsdHlDYXJkLFxuICAgIENyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsLFxuICAgIERlbGV0ZUhlYWRPZmZpY2UsXG4gICAgVXBkYXRlSGVhZE9mZmljZSxcbiAgICBDcmVhdGVIZWFkT2ZmaWNlLFxuICAgIFVwZGF0ZUZsYXNoU2FsZSxcbiAgICBDcmVhdGVGbGFzaFNhbGUsXG4gICAgUmVwbGFjZUV4cGxvcmVQYWdlLFxuICAgIENyZWF0ZUVtcGxveWVlVG9rZW4sXG4gICAgUmVzZXRFbXBsb3llZVBhc3N3b3JkLFxuICAgIFNlbmRFbXBsb3llZVBhc3N3b3JkUmVzZXRDb2RlLFxuICAgIFJldm9rZUVtcGxveWVlVGVybWluYWxGY21Ub2tlbixcbiAgICBFbnJvbGxFbXBsb3llZVRlcm1pbmFsRmNtVG9rZW4sXG4gICAgRGVsZXRlRW1wbG95ZWUsXG4gICAgVXBkYXRlRW1wbG95ZWUsXG4gICAgQ3JlYXRlRW1wbG95ZWUsXG4gICAgQ3JlYXRlQ3VzdG9tZXJUb2tlbixcbiAgICBSZW1vdmVGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXIsXG4gICAgQWRkRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyLFxuICAgIFJlbW92ZUZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyLFxuICAgIEFkZEZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyLFxuICAgIENyZWF0ZUN1c3RvbWVyV2FsbGV0VHJhbnNhY3Rpb24sXG4gICAgUmVmdW5kQ3VzdG9tZXJXYWxsZXQsXG4gICAgUmVsb2FkQ3VzdG9tZXJXYWxsZXQsXG4gICAgQ3JlYXRlQ3VzdG9tZXJXYWxsZXQsXG4gICAgVXBkYXRlQ3VzdG9tZXJDcmVkaXRDYXJkLFxuICAgIFJldm9rZUN1c3RvbWVyRmNtVG9rZW4sXG4gICAgRW5yb2xsQ3VzdG9tZXJGY21Ub2tlbixcbiAgICBSZXZva2VDdXN0b21lckFwbnNUb2tlbixcbiAgICBFbnJvbGxDdXN0b21lckFwbnNUb2tlbixcbiAgICBSZXNldEN1c3RvbWVyUGFzc3dvcmQsXG4gICAgU2VuZEN1c3RvbWVyUGFzc3dvcmRSZXNldENvZGUsXG4gICAgVXBkYXRlQ3VzdG9tZXIsXG4gICAgQ3JlYXRlQ3VzdG9tZXIsXG4gICAgRGVsZXRlQ2F0ZWdvcnksXG4gICAgQ3JlYXRlQ2FydCxcbiAgICBBZGRJdGVtQ2FydCxcbiAgICBSZW1vdmVJdGVtRnJvbUNhcnQsXG4gICAgQ3JlYXRlQ291cG9uLFxuICAgIENyZWF0ZUNhdGVnb3J5LFxuICAgIERlbGV0ZUNhcnQsXG4gICAgQXBwbHlDb3Vwb25Ub0NhcnQsXG4gICAgUmVtb3ZlQ291cG9uRnJvbUNhcnQsXG4gICAgVXBkYXRlTm90ZUZvckNhcnQsXG4gICAgVXBkYXRlQ2F0ZWdvcnksXG4gICAgQmF0Y2hVcGRhdGVDYXRlZ29yaWVzIHt9XG5cbmV4cG9ydCBjbGFzcyBHcmFwaFFMTGluayBleHRlbmRzIFN5bmNocm9ub3VzTGluayB7XG4gIF9oZWFkZXJzOiB7IHZlcnNpb246IHN0cmluZzsgYXV0aG9yaXphdGlvbjogc3RyaW5nIH0gfCB7fTtcbiAgX2NsaWVudCE6IEdyYXBoUUxDbGllbnQ7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcgR3JhcGhRTExpbmtcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcGFyYW0ge29iZWpjdH0gY29uZmlnID0ge31cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHVybDogc3RyaW5nLFxuICAgIGNvbmZpZzoge1xuICAgICAgaGVhZGVycz86IHsgdmVyc2lvbjogc3RyaW5nOyBhdXRob3JpemF0aW9uOiBzdHJpbmcgfTtcbiAgICAgIHZlcnNpb24/OiBzdHJpbmcgfCBudWxsO1xuICAgIH0gPSB7fVxuICApIHtcbiAgICBzdXBlcih1cmwpO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcbiAgICB0aGlzLl9jb25zdHJ1Y3RDbGllbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWNvbnN0cnVjdCBhIGNsaWVudCBpbnN0YW5jZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jb25zdHJ1Y3RDbGllbnQoKSB7XG4gICAgdGhpcy5fY2xpZW50ID0gbmV3IEdyYXBoUUxDbGllbnQodGhpcy5fdXJsLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWxpYXMgZm9yIHJ1blxuICAgKiBAcGFyYW0gY29uZmlnXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhc3luYyBxdWVyeShjb25maWc6IHtcbiAgICBxdWVyeTogc3RyaW5nO1xuICAgIHZhcmlhYmxlczogb2JqZWN0O1xuICB9KTogUHJvbWlzZTxRdWVyeVJlc3VsdD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJ1bihjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBydW5cbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgbXV0YXRlKGNvbmZpZzoge1xuICAgIHF1ZXJ5OiBzdHJpbmc7XG4gICAgdmFyaWFibGVzOiBvYmplY3Q7XG4gIH0pOiBQcm9taXNlPE11dGF0ZVJlc3VsdD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJ1bihjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBhIG5ldyBncmFwaHFsIHJlcXVlc3RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fVxuICAgKi9cblxuICBhc3luYyBydW4oY29uZmlnOiB7IHF1ZXJ5OiBzdHJpbmc7IHZhcmlhYmxlczogb2JqZWN0IH0pIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fY2xpZW50LnJlcXVlc3QoY29uZmlnLnF1ZXJ5LCBjb25maWcudmFyaWFibGVzIHx8IHt9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBuZXR3b3JrIGxpbmtcbiAqIEF1dGhvcjogSnVuIFpoZW5nXG4gKiBMaWNlbnNlOiBVTkxJQ0VOU0VEXG4gKi9cblxuZXhwb3J0IGNsYXNzIExpbmsge1xuICBfdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBsaW5rIHdpdGggYW4gVVJMXG4gICAqIEBwYXJhbSB1cmxcbiAgICovXG4gIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5fdXJsID0gdXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1biBhIHJlcXVlc3RcbiAgICogQHBhcmFtIGNvbmZpZ1xuICAgKi9cbiAgcnVuKGNvbmZpZzogYW55KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGdyYXBocWwtcmVxdWVzdDsiLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBRdWVyeVJlc3VsdCB9IGZyb20gXCIuL0dyYXBoQ29udHJvbGxlclwiO1xuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgdGhpcy5nZXRUb2tlblNjb3BlID0gdGhpcy5nZXRUb2tlblNjb3BlLmJpbmQodGhpcyk7XG4gIH1cblxuICBnZXRUb2tlblNjb3BlKHRva2VuOiBzdHJpbmcpIHtcbiAgICBsZXQgcXVlcnlTdHJpbmcgPSBgXG4gICAgICAgICAgICBxdWVyeSB7XG4gICAgICAgICAgICAgICAgYXV0aF90b2tlbl9zY29wZSh0b2tlbjogXCIke3Rva2VufVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5xdWVyeShxdWVyeVN0cmluZylcbiAgICAgICAgLnRoZW4oKGRhdGE6IFF1ZXJ5UmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhLmF1dGhfdG9rZW5fc2NvcGUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4vQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDb3Vwb24gfSBmcm9tIFwiLi9Db3Vwb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTW9kaWZpZXIgfSBmcm9tIFwiLi9Nb2RpZmllckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBBZGRJdGVtVG9DYXJ0TW9kaWZpZXJJbnB1dCB7XG4gIG1vZGlmaWVyX2lkOiBzdHJpbmc7XG4gIGNob2ljZXM6IEFycmF5PHN0cmluZz47XG59XG5leHBvcnQgaW50ZXJmYWNlIEFkZEl0ZW1Ub0NhcnRJbnB1dCB7XG4gIGl0ZW1faWQ6IHN0cmluZztcbiAgbW9kaWZpZXJzOiBBcnJheTxBZGRJdGVtVG9DYXJ0TW9kaWZpZXJJbnB1dD47XG59XG5leHBvcnQgaW50ZXJmYWNlIENhcnRJdGVtTW9kaWZpZXIge1xuICBtb2RpZmllcj86IE1vZGlmaWVyO1xuICBjaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FydEl0ZW0ge1xuICBfaWQ/OiBzdHJpbmc7XG4gIG1lbnVfaXRlbT86IE1lbnVJdGVtO1xuICBtb2RpZmllcnM/OiBBcnJheTxDYXJ0SXRlbU1vZGlmaWVyPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2FydENvdXBvbiB7XG4gIF9pZD86IHN0cmluZztcbiAgY291cG9uPzogQ291cG9uO1xufVxuZXhwb3J0IGludGVyZmFjZSBDYXJ0IGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICBjdXN0b21lcj86IEN1c3RvbWVyO1xuICB2ZW5kb3I/OiBWZW5kb3I7XG4gIGl0ZW1zPzogQXJyYXk8Q2FydEl0ZW0+O1xuICBzdWJ0b3RhbD86IG51bWJlcjtcbiAgdG90YWw/OiBudW1iZXI7XG4gIGNvdXBvbnM/OiBBcnJheTxDYXJ0Q291cG9uPjtcbiAgbm90ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIENhcnRDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy51cGRhdGVOb3RlID0gdGhpcy51cGRhdGVOb3RlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW1vdmVDb3Vwb24gPSB0aGlzLnJlbW92ZUNvdXBvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXBwbHlDb3Vwb24gPSB0aGlzLmFwcGx5Q291cG9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVtb3ZlSXRlbSA9IHRoaXMucmVtb3ZlSXRlbS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYWRkSXRlbSA9IHRoaXMuYWRkSXRlbS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgdXBkYXRlTm90ZShjYXJ0SWQ6IHN0cmluZywgbm90ZTogc3RyaW5nKTogUHJvbWlzZTxDYXJ0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGNhcnRJZDogU3RyaW5nISwgJG5vdGU6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTm90ZUZvckNhcnQoY2FydF9pZDogJGNhcnRJZCwgbm90ZTogJG5vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNhcnRJZCxcbiAgICAgICAgICBub3RlXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZU5vdGVGb3JDYXJ0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlQ291cG9uKGNhcnRJZDogc3RyaW5nLCBjYXJ0Q291cG9uSWQ6IHN0cmluZyk6IFByb21pc2U8Q2FydD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjYXJ0SWQ6IFN0cmluZyEsICRjYXJ0Q291cG9uSWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ291cG9uRnJvbUNhcnQoY2FydF9pZDogJGNhcnRJZCwgY2FydF9jb3Vwb25faWQ6ICRjYXJ0Q291cG9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNhcnRJZCxcbiAgICAgICAgICBjYXJ0Q291cG9uSWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVtb3ZlQ291cG9uRnJvbUNhcnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhcHBseUNvdXBvbihjYXJ0SWQ6IHN0cmluZywgY291cG9uQ29kZTogc3RyaW5nKTogUHJvbWlzZTxDYXJ0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGNhcnRJZDogU3RyaW5nISwgJGNvdXBvbkNvZGU6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlDb3Vwb25Ub0NhcnQoY2FydF9pZDogJGNhcnRJZCwgY291cG9uX2NvZGU6ICRjb3Vwb25Db2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjYXJ0SWQsXG4gICAgICAgICAgY291cG9uQ29kZVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5hcHBseUNvdXBvblRvQ2FydCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBjYXJ0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJ0SWRcbiAgICogQHJldHVybnMge1Byb21pc2U8Q2FydD59XG4gICAqL1xuICBkZWxldGUoY2FydElkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjYXJ0SWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ2FydChjYXJ0X2lkOiAkY2FydElkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjYXJ0SWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlQ2FydCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGN1cnJlbnRseSBhY3RpdmUgY2FydC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhcnRJZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FydEl0ZW1JZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDYXJ0Pn1cbiAgICovXG4gIHJlbW92ZUl0ZW0oY2FydElkOiBzdHJpbmcsIGNhcnRJdGVtSWQ6IHN0cmluZyk6IFByb21pc2U8Q2FydD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjYXJ0SWQ6IFN0cmluZyEsICRjYXJ0SXRlbUlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1Gcm9tQ2FydChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnRfaWQ6ICRjYXJ0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJ0X2l0ZW1faWQ6ICRjYXJ0SXRlbUlkXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY2FydElkLFxuICAgICAgICAgIGNhcnRJdGVtSWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVtb3ZlSXRlbUZyb21DYXJ0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBuZXcgaXRlbSB0byBjdXJyZW50bHkgYWN0aXZlIGNhcnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYXJ0SWRcbiAgICogQHBhcmFtIHtBZGRJdGVtVG9DYXJ0SW5wdXR9IGl0ZW1cbiAgICogQHJldHVybnMge1Byb21pc2U8Q2FydD59XG4gICAqL1xuICBhZGRJdGVtKGNhcnRJZDogc3RyaW5nLCBpdGVtOiBBZGRJdGVtVG9DYXJ0SW5wdXQpOiBQcm9taXNlPENhcnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkY2FydElkOiBTdHJpbmchLCAkaXRlbTogQWRkSXRlbVRvQ2FydElucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJdGVtVG9DYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FydF9pZDogJGNhcnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06ICRpdGVtXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY2FydElkLFxuICAgICAgICAgIGl0ZW1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYWRkSXRlbUNhcnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNhcnQsIHJlbW92ZSBhbGwgb2xkIGNhcnRzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3VzdG9tZXJJZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmVuZG9ySWRcbiAgICogQHJldHVybnMge1Byb21pc2U8Q2FydD59XG4gICAqL1xuICBjcmVhdGUoY3VzdG9tZXJJZDogc3RyaW5nLCB2ZW5kb3JJZDogc3RyaW5nKTogUHJvbWlzZTxDYXJ0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGN1c3RvbWVySWQ6IFN0cmluZyEsICR2ZW5kb3JJZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDYXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJfaWQ6ICRjdXN0b21lcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVuZG9yX2lkOiAkdmVuZG9ySWRcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBjdXN0b21lcklkLFxuICAgICAgICAgIHZlbmRvcklkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUNhcnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSBcIi4vTWVudUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFNlbGVjdElucHV0IH0gZnJvbSBcIi4vQ29tbW9uSW50ZXJmYWNlXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuLy8gaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBpbnRlcmZhY2UgQ2F0ZWdvcnkgZXh0ZW5kcyBVcGRhdGVDYXRlZ29yeUlucHV0LCBEZWZhdWx0Q29udHJvbGxlciB7XG4gIG1lbnVfaXRlbXMoc2VsZWN0OiBTZWxlY3RJbnB1dCk6IEFycmF5PE1lbnVJdGVtPjtcbiAgbWVudV9pdGVtX2NvdW50PzogbnVtYmVyO1xuICB2ZW5kb3I/OiBWZW5kb3I7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUNhdGVnb3J5SW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIHNvcnRfb3JkZXI/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhdGVnb3J5SW5wdXQge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgc29ydF9vcmRlcj86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQmF0Y2hVcGRhdGVDYXRlZ29yaWVzSW5wdXQge1xuICBpZDogc3RyaW5nO1xuICBjYXRlZ29yeTogVXBkYXRlQ2F0ZWdvcnlJbnB1dDtcbn1cblxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBjYXRlZ29yaWVzLlxuICovXG5leHBvcnQgY2xhc3MgQ2F0ZWdvcnlDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbGV0ZSA9IHRoaXMuZGVsZXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5iYXRjaFVwZGF0ZSA9IHRoaXMuYmF0Y2hVcGRhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjYXRlZ29yeSwgcmV0dXJuIGNhdGVnb3J5IElEIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtDcmVhdGVDYXRlZ29yeUlucHV0fSBjYXRlZ29yeSAtIFRoZSBjYXRlZ29yeSBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIGNhdGVnb3J5IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICovXG4gIGNyZWF0ZShjYXRlZ29yeTogQ3JlYXRlQ2F0ZWdvcnlJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVDYXRlZ29yeU11dGF0aW9uICgkY2F0ZWdvcnk6IENyZWF0ZUNhdGVnb3J5SW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNhdGVnb3J5KGNhdGVnb3J5OiAkY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGNhdGVnb3J5XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUNhdGVnb3J5Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBjYXRlZ29yeVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgY2F0ZWdvcnkgaWQgdGhhdCB3aWxsIGJlIGRlbGV0ZWRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGRlbGV0ZShpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZUNhdGVnb3J5TXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVDYXRlZ29yeShpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5kZWxldGVDYXRlZ29yeSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY2F0ZWdvcnlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBjYXRlZ29yeSB0aGF0IHdpbGwgYmUgdXBkYXRlZFxuICAgKiBAcGFyYW0ge1VwZGF0ZUNhdGVnb3J5SW5wdXR9IGNhdGVnb3J5IC0gVGhlIHVwZGF0ZWQgY2F0ZWdvcnkgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gUmV0dXJucyB0aGUgaWQgb2YgdGhlIHVwZGF0ZWQgY2F0ZWdvcnlcbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBjYXRlZ29yeTogVXBkYXRlQ2F0ZWdvcnlJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiB1cGRhdGVDYXRlZ29yeU11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRjYXRlZ29yeTogVXBkYXRlQ2F0ZWdvcnlJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2F0ZWdvcnkoaWQ6ICRpZCwgY2F0ZWdvcnk6ICRjYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY2F0ZWdvcnlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlQ2F0ZWdvcnkuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhdGNoIHVwZGF0ZSBhIGxpc3Qgb2YgY2F0ZWdvcmllcy5cbiAgICogQHBhcmFtIHtBcnJheTxCYXRjaFVwZGF0ZUNhdGVnb3JpZXNJbnB1dD59IGNhdGVnb3JpZXMgTGlzdCBvZiBCYXRjaFVwZGF0ZUNhdGVnb3JpZXNJbnB1dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheTxDYXRlZ29yeT4+fSBMaXN0IG9mIGNhdGVnb3JpZXMgd2l0aCBfaWQgZmllbGRcbiAgICovXG4gIGJhdGNoVXBkYXRlKFxuICAgIGNhdGVnb3JpZXM6IEFycmF5PEJhdGNoVXBkYXRlQ2F0ZWdvcmllc0lucHV0PlxuICApOiBQcm9taXNlPEFycmF5PENhdGVnb3J5Pj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRjYXRlZ29yaWVzOiBbQmF0Y2hVcGRhdGVDYXRlZ29yaWVzSW5wdXRdISl7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoVXBkYXRlQ2F0ZWdvcmllcyhjYXRlZ29yaWVzOiAkY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5iYXRjaFVwZGF0ZUNhdGVnb3JpZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENhcnQgfSBmcm9tIFwiLi9DYXJ0Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgUmVzZXRDb2RlU2VuZE1ldGhvZCB9IGZyb20gXCIuL0VtcGxveWVlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTZWxlY3RJbnB1dCB9IGZyb20gXCIuL0NvbW1vbkludGVyZmFjZVwiO1xuaW1wb3J0IHsgTG95YWx0eUNhcmQgfSBmcm9tIFwiLi9Mb3lhbHR5Q2FyZENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENvdXBvbiB9IGZyb20gXCIuL0NvdXBvbkNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSBcIi4vTWVudUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuZXhwb3J0IGludGVyZmFjZSBDcmVkaXRDYXJkIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIGJyYW5kPzogc3RyaW5nO1xuICBsYXN0ND86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXAge1xuICBfaWQ/OiBzdHJpbmc7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGN1c3RvbWVycz86IEFycmF5PEN1c3RvbWVyPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tZXIgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciwgQ3VzdG9tZXJPcHRpb25zIHtcbiAgZW1haWxfYWRkcmVzcz86IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gIHBob25lX251bWJlcj86IHN0cmluZztcbiAgYXBuc190b2tlbnM/OiBBcnJheTxzdHJpbmc+O1xuICBmY21fdG9rZW5zPzogQXJyYXk8c3RyaW5nPjtcbiAgY3JlZGl0X2NhcmQ/OiBDcmVkaXRDYXJkO1xuICBlbWFpbF9wcmVmZXJlbmNlcz86IEVtYWlsUHJlZmVyZW5jZXM7XG4gIG1vYmlsZV9ub3RpZmljYXRpb25zPzogYm9vbGVhbjtcbiAgbG95YWx0eV9jYXJkcyhzZWxlY3Q6IFNlbGVjdElucHV0KTogQXJyYXk8TG95YWx0eUNhcmQ+O1xuICBpc190ZXN0PzogYm9vbGVhbjtcbiAgd2FsbGV0PzogQ291cG9uO1xuICBjYXJ0PzogQ2FydDtcbiAgZmF2b3VyaXRlX3ZlbmRvcnM/OiBBcnJheTxWZW5kb3I+O1xuICBmYXZvdXJpdGVfaXRlbXM/OiBBcnJheTxNZW51SXRlbT47XG4gIHRlc3RfdmVuZG9ycz86IEFycmF5PFZlbmRvcj47XG4gIGdyb3Vwcz86IEFycmF5PEdyb3VwPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tZXJPcHRpb25zIHtcbiAgcHJvZmlsZV9waWN0dXJlPzogc3RyaW5nO1xuICBiaXJ0aGRheT86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxQcmVmZXJlbmNlc0lucHV0IHtcbiAgcHJvbW90aW9uYWw6IGJvb2xlYW47XG4gIHRyYW5zYWN0aW9uYWw6IGJvb2xlYW47XG4gIHN5c3RlbTogYm9vbGVhbjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxQcmVmZXJlbmNlcyB7XG4gIHByb21vdGlvbmFsPzogYm9vbGVhbjtcbiAgdHJhbnNhY3Rpb25hbD86IGJvb2xlYW47XG4gIHN5c3RlbT86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUN1c3RvbWVySW5wdXQgZXh0ZW5kcyBDdXN0b21lck9wdGlvbnMge1xuICBlbWFpbF9hZGRyZXNzOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgcGhvbmVfbnVtYmVyOiBzdHJpbmc7XG4gIHZlcmlmaWNhdGlvbl9yZXF1ZXN0X2lkOiBzdHJpbmc7XG4gIHZlcmlmaWNhdGlvbl9jb2RlOiBzdHJpbmc7XG4gIGVtYWlsX3ByZWZlcmVuY2VzOiBFbWFpbFByZWZlcmVuY2VzSW5wdXQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUN1c3RvbWVySW5wdXQgZXh0ZW5kcyBDdXN0b21lck9wdGlvbnMge1xuICBtb2JpbGVfbm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG4gIGVtYWlsX3ByZWZlcmVuY2VzPzogRW1haWxQcmVmZXJlbmNlc0lucHV0O1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBjdXN0b21lcnMuXG4gKi9cblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGVDcmVkaXRDYXJkID0gdGhpcy51cGRhdGVDcmVkaXRDYXJkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5lbnJvbGxBcG5zVG9rZW4gPSB0aGlzLmVucm9sbEFwbnNUb2tlbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmV2b2tlQXBuc1Rva2VuID0gdGhpcy5yZXZva2VBcG5zVG9rZW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLmVucm9sbEZjbVRva2VuID0gdGhpcy5lbnJvbGxGY21Ub2tlbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmV2b2tlRmNtVG9rZW4gPSB0aGlzLnJldm9rZUZjbVRva2VuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGVXYWxsZXQgPSB0aGlzLmNyZWF0ZVdhbGxldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVsb2FkV2FsbGV0ID0gdGhpcy5yZWxvYWRXYWxsZXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNlbmRQYXNzd29yZFJlc2V0Q29kZSA9IHRoaXMuc2VuZFBhc3N3b3JkUmVzZXRDb2RlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldFBhc3N3b3JkID0gdGhpcy5yZXNldFBhc3N3b3JkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWZ1bmRXYWxsZXQgPSB0aGlzLnJlZnVuZFdhbGxldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY3JlYXRlV2FsbGV0VHJhbnNhY3Rpb24gPSB0aGlzLmNyZWF0ZVdhbGxldFRyYW5zYWN0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRGYXZvdXJpdGVWZW5kb3IgPSB0aGlzLmFkZEZhdm91cml0ZVZlbmRvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVtb3ZlRmF2b3VyaXRlVmVuZG9yID0gdGhpcy5yZW1vdmVGYXZvdXJpdGVWZW5kb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZEZhdm91cml0ZUl0ZW0gPSB0aGlzLmFkZEZhdm91cml0ZUl0ZW0uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbW92ZUZhdm91cml0ZUl0ZW0gPSB0aGlzLnJlbW92ZUZhdm91cml0ZUl0ZW0uYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBjdXN0b21lciwgcmV0dXJuIGN1c3RvbWVyIElEIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtDcmVhdGVDdXN0b21lcklucHV0fSBjdXN0b21lciAtIFRoZSBDdXN0b21lciBvYmplY3QgdG8gYmUgY3JlYXRlZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXIgb2JqZWN0IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICovXG4gIGNyZWF0ZShjdXN0b21lcjogQ3JlYXRlQ3VzdG9tZXJJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVDdXN0b21lck11dGF0aW9uICgkY3VzdG9tZXI6IENyZWF0ZUN1c3RvbWVySW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUN1c3RvbWVyKGN1c3RvbWVyOiAkY3VzdG9tZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGN1c3RvbWVyXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUN1c3RvbWVyLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBjdXN0b21lclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyIG9iamVjdFxuICAgKiBAcGFyYW0ge1VwZGF0ZUN1c3RvbWVySW5wdXR9IGN1c3RvbWVyIC0gVGhlIHVwZGF0ZWQgQ3VzdG9tZXIgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3QgdGhhdCB3YXMgdXBkYXRlZFxuICAgKi9cbiAgdXBkYXRlKGlkOiBzdHJpbmcsIGN1c3RvbWVyOiBVcGRhdGVDdXN0b21lcklucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZUN1c3RvbWVyTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJGN1c3RvbWVyOiBVcGRhdGVDdXN0b21lcklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXN0b21lcihpZDogJGlkLCBjdXN0b21lcjogJGN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjdXN0b21lclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVDdXN0b21lci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRW5yb2xsIGEgbmV3IEFQTnMgdG9rZW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gVGhlIEFQTlMgVG9rZW5cbiAgICogQHJldHVybnMge1Byb21pc2U8Q3VzdG9tZXI+fVxuICAgKi9cbiAgZW5yb2xsQXBuc1Rva2VuKGlkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEN1c3RvbWVyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBlbnJvbGxDdXN0b21lckFwbnNUb2tlbk11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBlbnJvbGxDdXN0b21lckFwbnNUb2tlbihpZDogJGlkLCB0b2tlbjogJHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0b2tlblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5lbnJvbGxDdXN0b21lckFwbnNUb2tlbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXZva2UgYW4gQVBOcyB0b2tlblxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyIE9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSBUaGUgQVBOUyBUb2tlblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDdXN0b21lcj59XG4gICAqL1xuICByZXZva2VBcG5zVG9rZW4oaWQ6IHN0cmluZywgdG9rZW46IHN0cmluZyk6IFByb21pc2U8Q3VzdG9tZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHJldm9rZUN1c3RvbWVyQXBuc1Rva2VuTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHRva2VuOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldm9rZUN1c3RvbWVyQXBuc1Rva2VuKGlkOiAkaWQsIHRva2VuOiAkdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRva2VuXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJldm9rZUN1c3RvbWVyQXBuc1Rva2VuKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVucm9sbCBhIG5ldyBGQ00gdG9rZW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gVGhlIEZDTSBUb2tlblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDdXN0b21lcj59XG4gICAqL1xuICBlbnJvbGxGY21Ub2tlbihpZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxDdXN0b21lcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gZW5yb2xsQ3VzdG9tZXJGY21Ub2tlbk11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR0b2tlbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBlbnJvbGxDdXN0b21lckZjbVRva2VuKGlkOiAkaWQsIHRva2VuOiAkdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHRva2VuXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmVucm9sbEN1c3RvbWVyRmNtVG9rZW4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV2b2tlIGFuIEZDTSB0b2tlblxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyIE9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSBUaGUgRkNNIFRva2VuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEN1c3RvbWVyPn1cbiAgICovXG4gIHJldm9rZUZjbVRva2VuKGlkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEN1c3RvbWVyPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiByZXZva2VDdXN0b21lckZjbVRva2VuTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHRva2VuOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldm9rZUN1c3RvbWVyRmNtVG9rZW4oaWQ6ICRpZCwgdG9rZW46ICR0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdG9rZW5cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmV2b2tlQ3VzdG9tZXJGY21Ub2tlbik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBjdXN0b21lcidzIGNyZWRpdCBjYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIFRoZSBTdHJpcGUgVG9rZW5cbiAgICogQHJldHVybnMge1Byb21pc2U8Q3VzdG9tZXI+fVxuICAgKi9cbiAgdXBkYXRlQ3JlZGl0Q2FyZChpZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxDdXN0b21lcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gdXBkYXRlQ3VzdG9tZXJDcmVkaXRDYXJkTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHRva2VuOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1c3RvbWVyQ3JlZGl0Q2FyZChpZDogJGlkLCB0b2tlbjogJHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0b2tlblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVDdXN0b21lckNyZWRpdENhcmQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIEN1c3RvbWVyIFdhbGxldFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEN1c3RvbWVyIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgd2FsbGV0IHRoYXQgd2FzIGNyZWF0ZWRcbiAgICovXG4gIC8vUVVFU1RJT046IFdoeSBkb2VzIHRoaXMgcmV0dXJuIGNvdXBvbj8/XG4gIGNyZWF0ZVdhbGxldChpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZUN1c3RvbWVyV2FsbGV0ICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ3VzdG9tZXJXYWxsZXQoaWQ6ICRpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlQ3VzdG9tZXJXYWxsZXQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbG9hZCBjdXN0b21lciB3YWxsZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lciBPYmplY3RcbiAgICogQHBhcmFtICB7bnVtYmVyfSBhbW91bnQgLSBUaGUgYW1vdW50IHRvIGxvYWQgdGhlIHdhbGxldCAoaW4gY2VudHMpXG4gICAqIEBwYXJhbSAge3N0cmluZ30gcGF5bWVudF9tZXRob2QgLSBUaGUgc2VsZWN0ZWQgcGF5bWVudCBtZXRob2RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIHdhbGxldCB0aGF0IHdhcyByZWxvYWRlZFxuICAgKi9cbiAgLy9RVUVTVElPTjogV2h5IGRvZXMgdGhpcyByZXR1cm4gY291cG9uPz9cbiAgcmVsb2FkV2FsbGV0KFxuICAgIGlkOiBzdHJpbmcsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgcGF5bWVudF9tZXRob2Q6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gcmVsb2FkQ3VzdG9tZXJXYWxsZXQgKCRpZDogU3RyaW5nISwgJGFtb3VudDogSW50ISwgJHBheW1lbnRfbWV0aG9kOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZEN1c3RvbWVyV2FsbGV0KGlkOiAkaWQsIGFtb3VudDogJGFtb3VudCwgcGF5bWVudF9tZXRob2Q6ICRwYXltZW50X21ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgYW1vdW50LFxuICAgICAgICAgIHBheW1lbnRfbWV0aG9kXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlbG9hZEN1c3RvbWVyV2FsbGV0Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIHBhc3N3b3JkIHJlc2V0IGNvZGUgdG8gY3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSBlbWFpbF9hZGRyZXNzIC0gVGhlIGVtYWlsIGFkZHJlc3Mgb2YgdGhlIGN1c3RvbWVyXG4gICAqIEBwYXJhbSAge1Jlc2V0Q29kZVNlbmRNZXRob2R9IG1ldGhvZCAtIFRoZSBtZXRob2QgdG8gcmVjZWl2ZSB0aGUgY29kZSBvbiwgZWl0aGVyIEVNQUlMIChkZWZhdWx0KSBvciBTTVNcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHNlbmRQYXNzd29yZFJlc2V0Q29kZShcbiAgICBlbWFpbF9hZGRyZXNzOiBzdHJpbmcsXG4gICAgbWV0aG9kOiBSZXNldENvZGVTZW5kTWV0aG9kID0gUmVzZXRDb2RlU2VuZE1ldGhvZC5FTUFJTFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gc2VuZEN1c3RvbWVyUGFzc3dvcmRSZXNldENvZGUgKCRlbWFpbF9hZGRyZXNzOiBTdHJpbmchLCAkbWV0aG9kOiBSZXNldENvZGVTZW5kTWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRDdXN0b21lclBhc3N3b3JkUmVzZXRDb2RlKGVtYWlsX2FkZHJlc3M6ICRlbWFpbF9hZGRyZXNzLCBtZXRob2Q6JG1ldGhvZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgZW1haWxfYWRkcmVzcyxcbiAgICAgICAgICBtZXRob2RcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuc2VuZEN1c3RvbWVyUGFzc3dvcmRSZXNldENvZGUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgQ3VzdG9tZXIgUGFzc3dvcmRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBlbWFpbF9hZGRyZXNzIC0gVGhlIGVtYWlsIGFkZHJlc3Mgb2YgdGhlIGN1c3RvbWVyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gY29kZSAtIFRlbXBvcmFyeSBDb2RlIGZvciBQYXNzd29yZCBSZXNldHNcbiAgICogQHBhcmFtICB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBuZXcgcGFzc3dvcmRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHJlc2V0UGFzc3dvcmQoXG4gICAgZW1haWxfYWRkcmVzczogc3RyaW5nLFxuICAgIGNvZGU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiByZXNldEN1c3RvbWVyUGFzc3dvcmQgKCRlbWFpbF9hZGRyZXNzOiBTdHJpbmchLCAkY29kZTogU3RyaW5nISwgJHBhc3N3b3JkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q3VzdG9tZXJQYXNzd29yZChlbWFpbF9hZGRyZXNzOiAkZW1haWxfYWRkcmVzcywgY29kZTogJGNvZGUsIHBhc3N3b3JkOiAkcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgY29kZSxcbiAgICAgICAgICBwYXNzd29yZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZXNldEN1c3RvbWVyUGFzc3dvcmQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnVuZCBjdXN0b21lciB3YWxsZXQgYnkgdmVuZG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSB2ZW5kb3JfaWQgLSBJRCBvZiB0aGUgVmVuZG9yIGlzc3VpbmcgdGhlIHJlZnVuZFxuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBhbW91bnQgdG8gcmVmdW5kIHRoZSB3YWxsZXQgKGluIGNlbnRzKVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IG9yZGVyX2lkIC0gT3B0aW9uYWwgb3JkZXJJZCBzZWxlY3RlZCBwYXltZW50IG1ldGhvZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgd2FsbGV0IHRoYXQgd2FzIHJlbG9hZGVkXG4gICAqL1xuICAvL1FVRVNUSU9OOiBXaHkgZG9lcyB0aGlzIHJldHVybiBjb3Vwb24/P1xuICByZWZ1bmRXYWxsZXQoXG4gICAgaWQ6IHN0cmluZyxcbiAgICB2ZW5kb3JfaWQ6IHN0cmluZyxcbiAgICBhbW91bnQ6IG51bWJlcixcbiAgICBvcmRlcl9pZDogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHZlbmRvcl9pZDogU3RyaW5nISwgJGFtb3VudDogSW50ISwgJG9yZGVyX2lkOiBTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmdW5kQ3VzdG9tZXJXYWxsZXQoaWQ6ICRpZCwgdmVuZG9yX2lkOiAkdmVuZG9yX2lkLCBhbW91bnQ6ICRhbW91bnQsIG9yZGVyX2lkOiAkb3JkZXJfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHZlbmRvcl9pZCxcbiAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgb3JkZXJfaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVmdW5kQ3VzdG9tZXJXYWxsZXQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHdhbGxldCB0cmFuc2FjdGlvbiBmb3IgY3VzdG9tZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRyYW5zYWN0aW9uX3R5cGUgLSBUcmFuc2FjdGlvbiB0eXBlLCBlaXRoZXIgJ3JlbG9hZCcgb3IgJ3B1cmNoYXNlJ1xuICAgKiBAcGFyYW0gIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBhbW91bnQgaW4gY2VudHNcbiAgICogQHBhcmFtICB7c3RyaW5nfSBkZXNjcmlwdGlvbiAtIE9wdGlvbmFsIGRlc2NyaXB0aW9uIGZvciB0cmFuc2FjdGlvblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgd2FsbGV0IHRoYXQgd2FzIHJlbG9hZGVkXG4gICAqL1xuICAvL1FVRVNUSU9OOiBXaHkgZG9lcyB0aGlzIHJldHVybiBjb3Vwb24/P1xuICBjcmVhdGVXYWxsZXRUcmFuc2FjdGlvbihcbiAgICBpZDogc3RyaW5nLFxuICAgIHRyYW5zYWN0aW9uX3R5cGU6IHN0cmluZyxcbiAgICBhbW91bnQ6IG51bWJlcixcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJHRyYW5zYWN0aW9uX3R5cGU6IFN0cmluZyEsICRhbW91bnQ6IEludCEsICRkZXNjcmlwdGlvbjogU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUN1c3RvbWVyV2FsbGV0VHJhbnNhY3Rpb24oaWQ6ICRpZCwgdHJhbnNhY3Rpb25fdHlwZTogJHRyYW5zYWN0aW9uX3R5cGUsIGFtb3VudDogJGFtb3VudCwgZGVzY3JpcHRpb246ICRkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdHJhbnNhY3Rpb25fdHlwZSxcbiAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlQ3VzdG9tZXJXYWxsZXRUcmFuc2FjdGlvbi5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgZmF2b3VyaXRlIHZlbmRvciBmb3IgY3VzdG9tZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHZlbmRvcl9pZCAtIFRoZSBpZCBvZiB0aGUgdmVuZG9yXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIGN1c3RvbWVyIHdob3NlIGZhdm91cml0ZSB2ZW5kb3Igd2FzIHVwZGF0ZWRcbiAgICovXG4gIGFkZEZhdm91cml0ZVZlbmRvcihpZDogc3RyaW5nLCB2ZW5kb3JfaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkdmVuZG9yX2lkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyIChpZDogJGlkLCB2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHZlbmRvcl9pZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5hZGRGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgZmF2b3VyaXRlIHZlbmRvciBmb3IgY3VzdG9tZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBDdXN0b21lclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHZlbmRvcl9pZCAtIFRoZSBpZCBvZiB0aGUgdmVuZG9yXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIGN1c3RvbWVyIHdob3NlIGZhdm91cml0ZSB2ZW5kb3Igd2FzIHVwZGF0ZWRcbiAgICovXG4gIHJlbW92ZUZhdm91cml0ZVZlbmRvcihpZDogc3RyaW5nLCB2ZW5kb3JfaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkdmVuZG9yX2lkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZhdm91cml0ZVZlbmRvckZvckN1c3RvbWVyIChpZDogJGlkLCB2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHZlbmRvcl9pZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZW1vdmVGYXZvdXJpdGVWZW5kb3JGb3JDdXN0b21lci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgZmF2b3VyaXRlIGl0ZW0gZm9yIGN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSBpdGVtX2lkIC0gVGhlIGlkIG9mIHRoZSBpdGVtXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIGN1c3RvbWVyIHdob3NlIGZhdm91cml0ZSBpdGVtIHdhcyB1cGRhdGVkXG4gICAqL1xuICBhZGRGYXZvdXJpdGVJdGVtKGlkOiBzdHJpbmcsIGl0ZW1faWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkaXRlbV9pZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBhZGRGYXZvdXJpdGVJdGVtRm9yQ3VzdG9tZXIgKGlkOiAkaWQsIGl0ZW1faWQ6ICRpdGVtX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBpdGVtX2lkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmFkZEZhdm91cml0ZUl0ZW1Gb3JDdXN0b21lci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgZmF2b3VyaXRlIGl0ZW0gZm9yIGN1c3RvbWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtICB7c3RyaW5nfSBpdGVtX2lkIC0gVGhlIGlkIG9mIHRoZSBpdGVtXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIGN1c3RvbWVyIHdob3NlIGZhdm91cml0ZSBpdGVtIHdhcyB1cGRhdGVkXG4gICAqL1xuICByZW1vdmVGYXZvdXJpdGVJdGVtKGlkOiBzdHJpbmcsIGl0ZW1faWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOlN0cmluZyEsICRpdGVtX2lkOlN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyIChpZDokaWQsIGl0ZW1faWQ6JGl0ZW1faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGl0ZW1faWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVtb3ZlRmF2b3VyaXRlSXRlbUZvckN1c3RvbWVyLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb250cm9sbGVyIGZvciBjdXN0b21lciB0b2tlbnMuXG4gKi9cbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tZXJUb2tlbiBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgYm9keT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEN1c3RvbWVyVG9rZW5Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEN1c3RvbWVyVG9rZW4sIHJldHVybiBDdXN0b21lclRva2VuIElEIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsX2FkZHJlc3MgLSBUaGUgZW1haWwgYWRkcmVzcyBvZiB0aGUgQ3VzdG9tZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkIG9mIHRoZSBDdXN0b21lclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxDdXN0b21lclRva2VuPn1cbiAgICovXG4gIGNyZWF0ZShlbWFpbF9hZGRyZXNzOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPEN1c3RvbWVyVG9rZW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZUN1c3RvbWVyVG9rZW5NdXRhdGlvbiAoJGVtYWlsX2FkZHJlc3M6IFN0cmluZyEsICRwYXNzd29yZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDdXN0b21lclRva2VuKGVtYWlsX2FkZHJlc3M6ICRlbWFpbF9hZGRyZXNzLCBwYXNzd29yZDogJHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBlbWFpbF9hZGRyZXNzLFxuICAgICAgICAgIHBhc3N3b3JkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUN1c3RvbWVyVG9rZW4pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4vQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSBcIi4vTWVudUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTZWxlY3RJbnB1dCB9IGZyb20gXCIuL0NvbW1vbkludGVyZmFjZVwiO1xuaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiLi9PcmRlckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG4vLyBpbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vYWRhcHRvcnMvQ2hlYXByRWF0c0dyYXBoUUxBZGFwdG9yXCI7XG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2RzIHtcbiAgYXBwbGVfcGF5PzogYm9vbGVhbjtcbiAgYW5kcm9pZF9wYXk/OiBib29sZWFuO1xuICBjcmVkaXRfY2FyZD86IGJvb2xlYW47XG4gIGluX3BlcnNvbj86IGJvb2xlYW47XG4gIHdhbGxldD86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIFBheW1lbnRNZXRob2RzSW5wdXQge1xuICBhcHBsZV9wYXk/OiBib29sZWFuOyAvLyBkZWZhdWx0IFRSVUVcbiAgYW5kcm9pZF9wYXk/OiBib29sZWFuOyAvLyBkZWZhdWx0IFRSVUVcbiAgY3JlZGl0X2NhcmQ/OiBib29sZWFuOyAvLyBkZWZhdWx0IFRSVUVcbiAgaW5fcGVyc29uPzogYm9vbGVhbjsgLy8gZGVmYXVsdCBUUlVFXG4gIHdhbGxldD86IGJvb2xlYW47IC8vIGRlZmF1bHQgVFJVRVxufVxuZXhwb3J0IGludGVyZmFjZSBDb3Vwb25UcmFuc2FjdGlvbiBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgY291cG9uPzogQ291cG9uO1xuICB0cmFuc2FjdGlvbl90eXBlPzogc3RyaW5nO1xuICB2YWx1ZT86IHN0cmluZztcbiAgb3JkZXI/OiBPcmRlcjtcbiAgY3VzdG9tZXI/OiBDdXN0b21lcjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQ291cG9uSW5wdXQge1xuICBjb2RlOiBzdHJpbmc7XG4gIGNvdXBvbl90eXBlOiBzdHJpbmc7XG4gIHZhbHVlOiBudW1iZXI7XG4gIGl0ZW1fc2NvcGU/OiBzdHJpbmc7XG4gIHZlbmRvcl9zY29wZT86IHN0cmluZztcbiAgY3VzdG9tZXJfc2NvcGU/OiBzdHJpbmc7XG4gIHVzZXM6IG51bWJlcjtcbiAgdXNlc19wZXJfY3VzdG9tZXI6IG51bWJlcjtcbiAgY2FuX2NvbWJpbmU6IGJvb2xlYW47XG4gIGNhcnJ5X292ZXI6IGJvb2xlYW47XG4gIGV4cGlyZV9hdDogc3RyaW5nO1xuICBwYWlkX2J5X3ZlbmRvcjogYm9vbGVhbjtcbiAgbWluX3B1cmNoYXNlOiBudW1iZXI7XG4gIHBheW1lbnRfbWV0aG9kcz86IFBheW1lbnRNZXRob2RzSW5wdXQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvdXBvbiBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgY29kZT86IHN0cmluZztcbiAgY291cG9uX3R5cGU/OiBzdHJpbmc7XG4gIHZhbHVlPzogbnVtYmVyO1xuICByZWFsX3ZhbHVlPzogbnVtYmVyO1xuICBpdGVtX3Njb3BlPzogTWVudUl0ZW07XG4gIHZlbmRvcl9zY29wZT86IFZlbmRvcjtcbiAgY3VzdG9tZXJfc2NvcGU/OiBDdXN0b21lcjtcbiAgdXNlcz86IG51bWJlcjtcbiAgdXNlc19wZXJfY3VzdG9tZXI/OiBudW1iZXI7XG4gIGNhbl9jb21iaW5lPzogYm9vbGVhbjtcbiAgY2Fycnlfb3Zlcj86IGJvb2xlYW47XG4gIGV4cGlyZV9hdD86IHN0cmluZztcbiAgcGFpZF9ieV92ZW5kb3I/OiBib29sZWFuO1xuICBtaW5fcHVyY2hhc2U/OiBudW1iZXI7XG4gIHRyYW5zYWN0aW9ucyhzZWxlY3Q6IFNlbGVjdElucHV0KTogQXJyYXk8Q291cG9uVHJhbnNhY3Rpb24+O1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBjb3Vwb25zLlxuICovXG5cbmV4cG9ydCBjbGFzcyBDb3Vwb25Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGNvdXBvbiwgcmV0dXJuIGNvdXBvbiBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7Q3JlYXRlQ291cG9uSW5wdXR9IGNhdGVnb3J5IC0gVGhlIENvdXBvbiBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGNyZWF0ZShjb3Vwb246IENyZWF0ZUNvdXBvbklucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZUNvdXBvbk11dGF0aW9uICgkY291cG9uOiBDcmVhdGVDb3Vwb25JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ291cG9uKGNvdXBvbjogJGNvdXBvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgY291cG9uXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUNvdXBvbi5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29udHJvbGxlciBmb3IgZW1wbG95ZWUgdG9rZW5zLlxuICovXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1wbG95ZWVUb2tlbiBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgYm9keT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEVtcGxveWVlVG9rZW5Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEVtcGxveWVlVG9rZW4sIHJldHVybiBFbXBsb3llZVRva2VuIElEIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZlbmRvcl9pZCAtIFRoZSBpZCBvZiB0aGUgVmVuZG9yIHRoaXMgZW1wbG95ZWUgd2lsbCBiZSBhc3NpZ25lZCB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBUaGUgVXNlcm5hbWUgb2YgdGhlIEVtcGxveWVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZCBvZiB0aGUgRW1wbG95ZWVcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGNyZWF0ZShcbiAgICB2ZW5kb3JfaWQ6IHN0cmluZyxcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZUVtcGxveWVlVG9rZW5NdXRhdGlvbiAoJHZlbmRvcl9pZDogU3RyaW5nISwgJHVzZXJuYW1lOiBTdHJpbmchLCAkcGFzc3dvcmQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRW1wbG95ZWVUb2tlbih2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQsIHVzZXJuYW1lOiAkdXNlcm5hbWUsIHBhc3N3b3JkOiAkcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICB2ZW5kb3JfaWQsXG4gICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgICAgcGFzc3dvcmRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlRW1wbG95ZWVUb2tlbi5ib2R5KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBDYXRlZ29yeSB9IGZyb20gXCIuL0NhdGVnb3J5Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ291cG9uIH0gZnJvbSBcIi4vQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ3VzdG9tZXIsIEdyb3VwIH0gZnJvbSBcIi4vQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBFbXBsb3llZSB9IGZyb20gXCIuL0VtcGxveWVlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRXhwbG9yZVBhZ2UgfSBmcm9tIFwiLi9FeHBsb3JlUGFnZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEZsYXNoU2FsZSB9IGZyb20gXCIuL0ZsYXNoU2FsZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEhlYWRPZmZpY2UgfSBmcm9tIFwiLi9IZWFkT2ZmaWNlQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTG95YWx0eUNhcmQgfSBmcm9tIFwiLi9Mb3lhbHR5Q2FyZENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSBcIi4vTWVudUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL09yZGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgUGF5b3V0LCBTZXJ2aWNlQ2hhcmdlIH0gZnJvbSBcIi4vUGF5b3V0Q29udHJvbGxlclwiO1xuaW1wb3J0IHsgUmF3Q29uZmlndXJhdGlvbiB9IGZyb20gXCIuL1JlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTdXJ2ZXkgfSBmcm9tIFwiLi9TdXJ2ZXlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBWZXJpZmljYXRpb25TZXNzaW9uIH0gZnJvbSBcIi4vVmVyaWZpY2F0aW9uQ29udHJvbGxlclwiO1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeVJlc3VsdCB7XG4gIHRoZV9jdXN0b21lcj86IEN1c3RvbWVyO1xuICB0aGVfZW1wbG95ZWU/OiBFbXBsb3llZTtcbiAgY2F0ZWdvcmllcz86IEFycmF5PENhdGVnb3J5PjtcbiAgY291cG9ucz86IEFycmF5PENvdXBvbj47XG4gIHZhbGlkX2NvdXBvbj86IENvdXBvbjtcbiAgY3VzdG9tZXJfZW1haWxfYWRkcmVzc19hdmFpbGFibGU/OiBib29sZWFuO1xuICBjdXN0b21lcl9waG9uZV9udW1iZXJfYXZhaWxhYmxlPzogYm9vbGVhbjtcbiAgY3VzdG9tZXJzPzogQXJyYXk8Q3VzdG9tZXI+O1xuICBlbXBsb3llZT86IEVtcGxveWVlO1xuICBleHBsb3JlX3BhZ2U/OiBFeHBsb3JlUGFnZTtcbiAgZXhwbG9yZV9wYWdlX2FyY2hpdmVzPzogQXJyYXk8RXhwbG9yZVBhZ2U+O1xuICB2ZXJzaW9uX2RldGFpbHM/OiBWZXJzaW9uRGV0YWlscztcbiAgaXNfc2RrX3ZlcnNpb25fc3VwcG9ydGVkPzogYm9vbGVhbjtcbiAgYXV0aF90b2tlbl9zY29wZT86IFVzZXJUeXBlcztcbiAgbWVudV9pdGVtcz86IEFycmF5PE1lbnVJdGVtPjtcbiAgbWVudV9pdGVtPzogTWVudUl0ZW07XG4gIGxveWFsdHlfY2FyZHM/OiBBcnJheTxMb3lhbHR5Q2FyZD47XG4gIG9yZGVycz86IEFycmF5PE9yZGVyPjtcbiAgcGF5b3V0cz86IEFycmF5PFBheW91dD47XG4gIHZlbmRvcnM/OiBBcnJheTxWZW5kb3I+O1xuICBoZWFkX29mZmljZXM/OiBBcnJheTxIZWFkT2ZmaWNlPjtcbiAgc2VydmljZV9jaGFyZ2VzPzogQXJyYXk8U2VydmljZUNoYXJnZT47XG4gIHNlcnZpY2VfY2hhcmdlPzogU2VydmljZUNoYXJnZTtcbiAgc3VydmV5cz86IEFycmF5PFN1cnZleT47XG4gIGZsYXNoX3NhbGVzPzogQXJyYXk8Rmxhc2hTYWxlPjtcbiAgdmVyZmljYXRpb25fc2Vzc2lvbj86IFZlcmlmaWNhdGlvblNlc3Npb247XG4gIGdyb3Vwcz86IEFycmF5PEdyb3VwPjtcbiAgbWVyZ2VkX2NvbmZpZ3VyYXRpb24/OiBNZXJnZWRDb25maWd1cmF0aW9uO1xuICByYXdfY29uZmlndXJhdGlvbnM/OiBBcnJheTxSYXdDb25maWd1cmF0aW9uPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVmVyc2lvbkRldGFpbHMge1xuICB2ZXJzaW9uPzogc3RyaW5nO1xuICBidWlsZD86IHN0cmluZztcbiAgY29tcGF0aWJsZV9zZGtfdmVyc2lvbj86IHN0cmluZztcbn1cbmV4cG9ydCBlbnVtIFVzZXJUeXBlcyB7XG4gIFZFTkRPUl9BRE1JTiA9IFwiVkVORE9SX0FETUlOXCIsXG4gIFZFTkRPUl9FTVBMT1lFRSA9IFwiVkVORE9SX0VNUExPWUVFXCIsXG4gIENVU1RPTUVSID0gXCJDVVNUT01FUlwiLFxuICBNQVNURVIgPSBcIk1BU1RFUlwiLFxuICBJTlZBTElEID0gXCJJTlZBTElEXCJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTWVyZ2VkQ29uZmlndXJhdGlvbiB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGF0YTogc3RyaW5nO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciB0aGUgZ3JhcGguXG4gKi9cblxuZXhwb3J0IGNsYXNzIEdyYXBoQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMucXVlcnkgPSB0aGlzLnF1ZXJ5LmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIHF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIHZhcmlhYmxlczogb2JqZWN0ID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5hcHAuZ2V0QWRhcHRvcigpLnF1ZXJ5KHF1ZXJ5LCB2YXJpYWJsZXMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBWZW5kb3IgfSBmcm9tIFwiLi9WZW5kb3JDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIGhlYWQgb2ZmaWNlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIZWFkT2ZmaWNlIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICB2ZW5kb3JzOiBBcnJheTxWZW5kb3I+O1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBIZWFkT2ZmaWNlQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEhlYWRPZmZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXIgLSBUaGUgaWRlbnRpZmllciBmb3IgdGhlIEhlYWQgT2ZmaWNlIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgSGVhZCBPZmZpY2Ugb2JqZWN0XG4gICAqL1xuICBjcmVhdGUoaWRlbnRpZmllcjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZUhlYWRPZmZpY2UgKCRpZGVudGlmaWVyOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUhlYWRPZmZpY2UoaWRlbnRpZmllcjogJGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkZW50aWZpZXJcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlSGVhZE9mZmljZS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgSGVhZE9mZmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIEhlYWQgT2ZmaWNlIE9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciAtIFRoZSBpZGVudGlmaWVyIGZvciB0aGUgSGVhZCBPZmZpY2UgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBIZWFkIE9mZmljZSBvYmplY3RcbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBpZGVudGlmaWVyOiBzdHJpbmcgfCBudWxsKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZUhlYWRPZmZpY2UgKCRpZDogU3RyaW5nISwgJGlkZW50aWZpZXI6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSGVhZE9mZmljZShpZDogJGlkLCBpZGVudGlmaWVyOiAkaWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgaWRlbnRpZmllclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVIZWFkT2ZmaWNlLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBIZWFkT2ZmaWNlIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgSGVhZCBPZmZpY2UgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICBkZWxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBkZWxldGVIZWFkT2ZmaWNlICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlSGVhZE9mZmljZShpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5kZWxldGVIZWFkT2ZmaWNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBNb2RpZmllciB9IGZyb20gXCIuL01vZGlmaWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ2F0ZWdvcnkgfSBmcm9tIFwiLi9DYXRlZ29yeUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEZsYXNoU2FsZUl0ZW0gfSBmcm9tIFwiLi9GbGFzaFNhbGVDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlTWVudUl0ZW1JbnB1dCB7XG4gIG5hbWU6IHN0cmluZztcbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuICBpbWFnZXM6IEFycmF5PHN0cmluZz47XG4gIGNhbG9yaWVzOiBudW1iZXI7XG4gIHRhZ3M6IEFycmF5PFRhZ0lucHV0PjtcbiAgaW5ncmVkaWVudHM6IEFycmF5PFRhZ0lucHV0PjtcbiAgZmVlczogQXJyYXk8RmVlSW5wdXQ+O1xuICByZWN5Y2xlX2luZm86IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgZGFpbHlfc3BlY2lhbF9kYXk/OiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIG9yaWdpbmFsX3ByaWNlOiBudW1iZXI7XG4gIHN0YXR1czogc3RyaW5nO1xuICB3YXJuaW5nX2xhYmVsPzogc3RyaW5nO1xuICBjYXRlZ29yeV9pZDogc3RyaW5nO1xuICBzb3J0X29yZGVyPzogbnVtYmVyO1xuICBlc3RpbWF0ZWRfdGltZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVGFnSW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVGFnIHtcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRmVlSW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGZlZV90eXBlOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBGZWUge1xuICBuYW1lPzogc3RyaW5nO1xuICBmZWVfdHlwZT86IHN0cmluZztcbiAgYW1vdW50PzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBNZW51SXRlbUNvbW1vblByb3BlcnRpZXMge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBpbWFnZXM/OiBBcnJheTxzdHJpbmc+O1xuICBjYWxvcmllcz86IG51bWJlcjtcbiAgcmVjeWNsZV9pbmZvPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgZGFpbHlfc3BlY2lhbF9kYXk/OiBzdHJpbmc7XG4gIHByaWNlPzogbnVtYmVyO1xuICBvcmlnaW5hbF9wcmljZT86IG51bWJlcjtcbiAgc3RhdHVzPzogc3RyaW5nO1xuICB3YXJuaW5nX2xhYmVsPzogc3RyaW5nO1xuICBzb3J0X29yZGVyPzogbnVtYmVyO1xuICBlc3RpbWF0ZWRfdGltZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTWVudUl0ZW1JbnB1dCBleHRlbmRzIE1lbnVJdGVtQ29tbW9uUHJvcGVydGllcyB7XG4gIHRhZ3M/OiBBcnJheTxUYWdJbnB1dD47XG4gIGluZ3JlZGllbnRzPzogQXJyYXk8VGFnSW5wdXQ+O1xuICBmZWVzPzogQXJyYXk8RmVlSW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBCYXRjaFVwZGF0ZU1lbnVJdGVtc0lucHV0IHtcbiAgaWQ6IHN0cmluZztcbiAgbWVudV9pdGVtOiBVcGRhdGVNZW51SXRlbUlucHV0O1xufVxuZXhwb3J0IGludGVyZmFjZSBNZW51SXRlbSBleHRlbmRzIE1lbnVJdGVtQ29tbW9uUHJvcGVydGllcywgRGVmYXVsdENvbnRyb2xsZXIge1xuICBtb2RpZmllcnM/OiBBcnJheTxNb2RpZmllcj47XG4gIHRhZ3M/OiBBcnJheTxUYWc+O1xuICBpbmdyZWRpZW50cz86IEFycmF5PFRhZz47XG4gIGZlZXM/OiBBcnJheTxGZWU+O1xuICBjYXRlZ29yeT86IENhdGVnb3J5O1xuICBmbGFzaF9zYWxlX2luZm8/OiBGbGFzaFNhbGVJdGVtO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBtZW51IGl0ZW1zLlxuICovXG5cbmV4cG9ydCBjbGFzcyBNZW51SXRlbUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmJhdGNoVXBkYXRlID0gdGhpcy5iYXRjaFVwZGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1lbnVJdGVtLCByZXR1cm5zIE1lbnVJdGVtIF9pZCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7Q3JlYXRlTWVudUl0ZW1JbnB1dH0gbWVudV9pdGVtIC0gVGhlIE1lbnVJdGVtIG9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gb2JqZWN0XG4gICAqL1xuICBjcmVhdGUobWVudV9pdGVtOiBDcmVhdGVNZW51SXRlbUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZU1lbnVJdGVtTXV0YXRpb24gKCRtZW51X2l0ZW06IENyZWF0ZU1lbnVJdGVtSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU1lbnVJdGVtKG1lbnVfaXRlbTogJG1lbnVfaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgbWVudV9pdGVtXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZU1lbnVJdGVtLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgTWVudUl0ZW0gYmFzZWQgb24gZ2l2ZW4gSUQvbWVudV9pdGVtLCByZXR1cm5zIF9pZCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gT2JqZWN0XG4gICAqIEBwYXJhbSB7VXBkYXRlTWVudUl0ZW1JbnB1dH0gbWVudV9pdGVtIC0gVGhlIE1lbnVJdGVtIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gb2JqZWN0XG4gICAqL1xuICB1cGRhdGUoaWQ6IHN0cmluZywgbWVudV9pdGVtOiBVcGRhdGVNZW51SXRlbUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZU1lbnVJdGVtTXV0YXRpb24gKCRpZDogU3RyaW5nISwgJG1lbnVfaXRlbTogVXBkYXRlTWVudUl0ZW1JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWVudUl0ZW0oaWQ6ICRpZCwgbWVudV9pdGVtOiAkbWVudV9pdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZW51X2l0ZW1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlTWVudUl0ZW0uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhdGNoIHVwZGF0ZSBhIGxpc3Qgb2YgbWVudSBpdGVtcy5cbiAgICogQHBhcmFtIHtBcnJheTxCYXRjaFVwZGF0ZU1lbnVJdGVtc0lucHV0Pn0gbWVudV9pdGVtcyBMaXN0IG9mIEJhdGNoVXBkYXRlTWVudUl0ZW1zSW5wdXRcbiAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8TWVudUl0ZW0+Pn0gTGlzdCBvZiBtZW51IGl0ZW1zIHdpdGggX2lkIGZpZWxkXG4gICAqL1xuICBiYXRjaFVwZGF0ZShcbiAgICBtZW51X2l0ZW1zOiBBcnJheTxCYXRjaFVwZGF0ZU1lbnVJdGVtc0lucHV0PlxuICApOiBQcm9taXNlPEFycmF5PE1lbnVJdGVtPj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gYmF0Y2hVcGRhdGVNZW51SXRlbXMgKCRtZW51X2l0ZW1zOiBbQmF0Y2hVcGRhdGVNZW51SXRlbXNJbnB1dF0hKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoVXBkYXRlTWVudUl0ZW1zKG1lbnVfaXRlbXM6ICRtZW51X2l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBtZW51X2l0ZW1zXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmJhdGNoVXBkYXRlTWVudUl0ZW1zKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIE1lbnVJdGVtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAtIFRoZSBpZCBvZiB0aGUgTWVudUl0ZW0gb2JqZWN0XG4gICAqL1xuICAvL1FVRVNUSU9OIGNvcnJlY3QgdXNhZ2Ugb2Ygdm9pZD9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZU1lbnVJdGVtTXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVNZW51SXRlbShpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBNb2RpZmllckNob2ljZUlucHV0IHtcbiAgbmFtZTogc3RyaW5nO1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG4gIGF2YWlsYWJsZTogYm9vbGVhbjtcbiAgcHJpY2U6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTW9kaWZpZXJDaG9pY2Uge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBhdmFpbGFibGU/OiBib29sZWFuO1xuICBwcmljZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTW9kaWZpZXJDb21tb25Qcm9wZXJ0aWVzIHtcbiAgbmFtZT86IHN0cmluZztcbiAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgZGVmYXVsdD86IHN0cmluZztcbiAgZGVmYXVsdF9jaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgaXNfdG9wcGluZz86IGJvb2xlYW47XG4gIG1heF9jaG9pY2U/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU1vZGlmaWVySW5wdXQge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcmVxdWlyZWQ6IGJvb2xlYW47XG4gIGNob2ljZXM6IEFycmF5PE1vZGlmaWVyQ2hvaWNlSW5wdXQ+O1xuICBkZWZhdWx0Pzogc3RyaW5nO1xuICBkZWZhdWx0X2Nob2ljZXM6IEFycmF5PHN0cmluZz47XG4gIG1lbnVfaXRlbV9pZDogc3RyaW5nO1xuICBpc190b3BwaW5nOiBib29sZWFuO1xuICBtYXhfY2hvaWNlPzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVNb2RpZmllcklucHV0IGV4dGVuZHMgTW9kaWZpZXJDb21tb25Qcm9wZXJ0aWVzIHtcbiAgY2hvaWNlcz86IEFycmF5PE1vZGlmaWVyQ2hvaWNlSW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBNb2RpZmllciBleHRlbmRzIE1vZGlmaWVyQ29tbW9uUHJvcGVydGllcywgRGVmYXVsdENvbnRyb2xsZXIge1xuICBjaG9pY2VzPzogQXJyYXk8TW9kaWZpZXJDaG9pY2U+O1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBtb2RpZmllcnMuXG4gKi9cblxuZXhwb3J0IGNsYXNzIE1vZGlmaWVyQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE1vZGlmaWVyXG4gICAqIEBwYXJhbSB7Q3JlYXRlTW9kaWZpZXJJbnB1dH0gbW9kaWZpZXIgLSBUaGUgTW9kaWZpZXIgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBNb2RpZmllciBPYmplY3RcbiAgICovXG4gIGNyZWF0ZShtb2RpZmllcjogQ3JlYXRlTW9kaWZpZXJJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVNb2RpZmllciAoJG1vZGlmaWVyOiBDcmVhdGVNb2RpZmllcklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVNb2RpZmllcihtb2RpZmllcjogJG1vZGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBtb2RpZmllclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVNb2RpZmllci5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFuIGV4aXN0aW5nIE1vZGlmaWVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTW9kaWZpZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7VXBkYXRlTW9kaWZpZXJJbnB1dH0gbW9kaWZpZXIgLSBUaGUgTW9kaWZpZXIgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBNb2RpZmllciBPYmplY3RcbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBtb2RpZmllcjogVXBkYXRlTW9kaWZpZXJJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiB1cGRhdGVNb2RpZmllciAoJGlkOiBTdHJpbmchLCAkbW9kaWZpZXI6IFVwZGF0ZU1vZGlmaWVySW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGlmaWVyKGlkOiAkaWQsIG1vZGlmaWVyOiAkbW9kaWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIG1vZGlmaWVyXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZU1vZGlmaWVyLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYW4gZXhpc3RpbmcgTW9kaWZpZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBNb2RpZmllciBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICAvL1FVRVNUSU9OIGNvcnJlY3QgdXNhZ2Ugb2Ygdm9pZD9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGRlbGV0ZU1vZGlmaWVyICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTW9kaWZpZXIoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIFBheW1lbnRNZXRob2RzSW5wdXQsXG4gIFBheW1lbnRNZXRob2RzLFxuICBDb3Vwb25cbn0gZnJvbSBcIi4vQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgVGFnSW5wdXQsIE1lbnVJdGVtLCBUYWcgfSBmcm9tIFwiLi9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRW1wbG95ZWUgfSBmcm9tIFwiLi9FbXBsb3llZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENhdGVnb3J5IH0gZnJvbSBcIi4vQ2F0ZWdvcnlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBIZWFkT2ZmaWNlIH0gZnJvbSBcIi4vSGVhZE9mZmljZUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFBheW91dFBsYW4sIFBheW91dCB9IGZyb20gXCIuL1BheW91dENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IExveWFsdHlQcm9ncmFtIH0gZnJvbSBcIi4vTG95YWx0eVByb2dyYW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBTdXJ2ZXkgfSBmcm9tIFwiLi9TdXJ2ZXlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBGbGFzaFNhbGUgfSBmcm9tIFwiLi9GbGFzaFNhbGVDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVZlbmRvcldpdGhFbXBsb3llZUlucHV0IHtcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbF9hZGRyZXNzOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHBsYW46IHN0cmluZztcbn1cbmV4cG9ydCBlbnVtIFZlbmRvckFwcHJvdmFsU3RhdHVzIHtcbiAgTk9UX0FQUFJPVkVEID0gXCJOT1RfQVBQUk9WRURcIixcbiAgUEVORElORyA9IFwiUEVORElOR1wiLFxuICBBUFBST1ZFRCA9IFwiQVBQUk9WRURcIlxufVxuZXhwb3J0IGVudW0gUGF5b3V0QXV0b1JlcXVlc3RTY2hlZHVsZSB7XG4gIE9GRiA9IFwiT0ZGXCIsXG4gIFdFRUtMWSA9IFwiV0VFS0xZXCIsXG4gIEJJX1dFRUtMWSA9IFwiQklfV0VFS0xZXCIsXG4gIE1PTlRITFkgPSBcIk1PTlRITFlcIlxufVxuZXhwb3J0IGludGVyZmFjZSBWZW5kb3JEYWlseURlYWxzTWVudSB7XG4gIG1vbmRheT86IEFycmF5PE1lbnVJdGVtPjtcbiAgdHVlc2RheT86IEFycmF5PE1lbnVJdGVtPjtcbiAgd2VkbmVzZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xuICB0aHVyc2RheT86IEFycmF5PE1lbnVJdGVtPjtcbiAgZnJpZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xuICBzYXR1cmRheT86IEFycmF5PE1lbnVJdGVtPjtcbiAgc3VuZGF5PzogQXJyYXk8TWVudUl0ZW0+O1xufVxuZXhwb3J0IGludGVyZmFjZSBWZW5kb3JPcmRlclR5cGVzIHtcbiAgZWF0X2luOiBib29sZWFuO1xuICB0YWtlX291dDogYm9vbGVhbjtcbiAgZGVsaXZlcnk6IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIFZlbmRvckFuYWx5dGljc0NvdXBvblVzYWdlIHtcbiAgY291cG9uPzogQ291cG9uO1xuICB1c2VfY291bnQ/OiBudW1iZXI7XG59XG5leHBvcnQgZW51bSBWZW5kb3JBbmFseXRpY3NDdXN0b21lclR5cGUge1xuICBGSVJTVF9USU1FID0gXCJGSVJTVF9USU1FXCIsXG4gIENBU1VBTCA9IFwiQ0FTVUFMXCIsXG4gIFJFR1VMQVIgPSBcIlJFR1VMQVJcIlxufVxuZXhwb3J0IGludGVyZmFjZSBWZW5kb3JBbmFseXRpY3NDdXN0b21lckFuYWx5c2lzIHtcbiAgY3VzdG9tZXJfaWQ/OiBzdHJpbmc7XG4gIGN1c3RvbWVyX25hbWU/OiBzdHJpbmc7XG4gIGN1c3RvbWVyX2VtYWlsX2FkZHJlc3M/OiBzdHJpbmc7XG4gIHZpc2l0X2NvdW50PzogbnVtYmVyO1xuICBsYXN0X3Zpc2l0X2RhdGU/OiBzdHJpbmc7XG4gIGN1c3RvbWVyX3R5cGU/OiBWZW5kb3JBbmFseXRpY3NDdXN0b21lclR5cGU7XG4gIGlzX3N0b3JlX2Zhdm91cml0ZWQ/OiBib29sZWFuO1xuICBmYXZvdXJpdGVkX2l0ZW1zPzogQXJyYXk8TWVudUl0ZW0+O1xufVxuZXhwb3J0IGludGVyZmFjZSBWZW5kb3JBbmFseXRpY3Mge1xuICBvcmRlcl9jb3VudD86IG51bWJlcjtcbiAgdG90YWxfc2FsZXM/OiBudW1iZXI7XG4gIGl0ZW1fY291bnQ/OiBudW1iZXI7XG4gIGNvdXBvbl91c2FnZT86IEFycmF5PFZlbmRvckFuYWx5dGljc0NvdXBvblVzYWdlPjtcbiAgY3VzdG9tZXJfYW5hbHlzaXM/OiBBcnJheTxWZW5kb3JBbmFseXRpY3NDdXN0b21lckFuYWx5c2lzPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVmVuZG9yIGV4dGVuZHMgVmVuZG9yQ29tbW9uUHJvcGVydGllcywgRGVmYXVsdENvbnRyb2xsZXIge1xuICBlbXBsb3llZXM/OiBBcnJheTxFbXBsb3llZT47XG4gIGNhdGVnb3JpZXM/OiBBcnJheTxDYXRlZ29yeT47XG4gIGhlYWRfb2ZmaWNlPzogSGVhZE9mZmljZTtcbiAgdGFncz86IEFycmF5PFRhZz47XG4gIGxvY2F0aW9uPzogTG9jYXRpb247XG4gIG9wZW5faG91cnM/OiBPcGVuSG91cnM7XG4gIHBheW1lbnRfbWV0aG9kcz86IFBheW1lbnRNZXRob2RzO1xuICBkaXJlY3RfZGVwb3NpdF9pbmZvPzogRGlyZWN0RGVwb3NpdEluZm9JbnB1dDtcbiAgdGltZXpvbmU/OiBzdHJpbmc7XG4gIHBheW91dF9wbGFuPzogUGF5b3V0UGxhbjtcbiAgbG95YWx0eV9wcm9ncmFtcz86IEFycmF5PExveWFsdHlQcm9ncmFtPjtcbiAgcGF5b3V0cz86IEFycmF5PFBheW91dD47XG4gIHN1cnZleXM/OiBBcnJheTxTdXJ2ZXk+O1xuICBjb3Vwb25zPzogQXJyYXk8Q291cG9uPjtcbiAgcmVxdWVzdGVkX3BheW91dD86IGJvb2xlYW47XG4gIGFuYWx5dGljcyhmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpOiBWZW5kb3JBbmFseXRpY3M7XG4gIGFjdGl2ZV9mbGFzaF9zYWxlPzogRmxhc2hTYWxlO1xuICBpc190ZXN0PzogYm9vbGVhbjtcbiAgYXBwcm92YWxfc3RhdHVzPzogVmVuZG9yQXBwcm92YWxTdGF0dXM7XG4gIHRlc3RlcnM/OiBBcnJheTxWZW5kb3JUZXN0ZXI+O1xuICBkYWlseV9kZWFsc19tZW51OiBWZW5kb3JEYWlseURlYWxzTWVudTtcbiAgb3JkZXJfdHlwZXM/OiBWZW5kb3JPcmRlclR5cGVzO1xufVxuZXhwb3J0IGludGVyZmFjZSBUaW1lU3BhbklucHV0IHtcbiAgZnJvbTogc3RyaW5nO1xuICB0bzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBUaW1lU3BhbiB7XG4gIGZyb20/OiBzdHJpbmc7XG4gIHRvPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBPcGVuSG91cnNJbnB1dCB7XG4gIG1vbmRheTogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHR1ZXNkYXk6IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xuICB3ZWRuZXNkYXk6IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xuICB0aHVyc2RheTogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIGZyaWRheTogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHNhdHVyZGF5OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgc3VuZGF5OiBBcnJheTxUaW1lU3BhbklucHV0Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgT3BlbkhvdXJzIHtcbiAgbW9uZGF5PzogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHR1ZXNkYXk/OiBBcnJheTxUaW1lU3BhbklucHV0PjtcbiAgd2VkbmVzZGF5PzogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIHRodXJzZGF5PzogQXJyYXk8VGltZVNwYW5JbnB1dD47XG4gIGZyaWRheT86IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xuICBzYXR1cmRheT86IEFycmF5PFRpbWVTcGFuSW5wdXQ+O1xuICBzdW5kYXk/OiBBcnJheTxUaW1lU3BhbklucHV0Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25JbnB1dCB7XG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuICBsYXRpdHVkZTogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbiB7XG4gIGxvbmdpdHVkZT86IG51bWJlcjtcbiAgbGF0aXR1ZGU/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdERlcG9zaXRJbmZvSW5wdXQge1xuICB0cmFuc2l0X25vOiBzdHJpbmc7XG4gIGluc3RpdHV0aW9uX25vOiBzdHJpbmc7XG4gIGFjY291bnRfbm86IHN0cmluZztcbiAgY2hlcXVlX2ltYWdlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdERlcG9zaXRJbmZvIHtcbiAgdHJhbnNpdF9ubz86IHN0cmluZztcbiAgaW5zdGl0dXRpb25fbm8/OiBzdHJpbmc7XG4gIGFjY291bnRfbm8/OiBzdHJpbmc7XG4gIGNoZXF1ZV9pbWFnZT86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVmVuZG9yQ29tbW9uUHJvcGVydGllcyB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBpbWFnZXM/OiBBcnJheTxzdHJpbmc+O1xuICBhZGRyZXNzPzogc3RyaW5nO1xuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XG4gIHN0YXR1cz86IHN0cmluZztcbiAgcGF5b3V0X2VtYWlsX2FkZHJlc3M/OiBzdHJpbmc7XG4gIGRpcmVjdGlvbnM6IHN0cmluZztcbiAgcmVjZWl2ZV9zbXNfbm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG4gIGF1dG9fb3Blbj86IGJvb2xlYW47XG4gIGF1dG9fY2xvc2U/OiBib29sZWFuO1xuICBwYXlvdXRfYXV0b19yZXF1ZXN0X3NjaGVkdWxlPzogUGF5b3V0QXV0b1JlcXVlc3RTY2hlZHVsZTtcbiAgZ2xvYmFsX3RheF9yYXRlPzogbnVtYmVyO1xuICBwb3N0YWxfY29kZT86IHN0cmluZztcbiAgc3RvcmVfbG9nbz86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVmVuZG9ySW5wdXQgZXh0ZW5kcyBWZW5kb3JDb21tb25Qcm9wZXJ0aWVzIHtcbiAgdGFncz86IEFycmF5PFRhZ0lucHV0PjtcbiAgb3Blbl9ob3Vycz86IE9wZW5Ib3Vyc0lucHV0O1xuICBsb2NhdGlvbj86IExvY2F0aW9uSW5wdXQ7XG4gIGRpcmVjdF9kZXBvc2l0X2luZm8/OiBEaXJlY3REZXBvc2l0SW5mb0lucHV0O1xuICBwYXltZW50X21ldGhvZHM/OiBQYXltZW50TWV0aG9kc0lucHV0O1xuICBvcmRlcl90eXBlcz86IE9yZGVyVHlwZXNJbnB1dDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJUeXBlc0lucHV0IHtcbiAgZWF0X2luPzogYm9vbGVhbjtcbiAgdGFrZV9vdXQ/OiBib29sZWFuO1xuICBkZWxpdmVyeT86IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIFZlbmRvclRlc3RlciB7XG4gIF9pZD86IHN0cmluZztcbiAgZW1haWxfYWRkcmVzcz86IHN0cmluZztcbiAgdmVuZG9yPzogVmVuZG9yO1xufVxuXG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIHZlbmRvcnMuXG4gKi9cblxuZXhwb3J0IGNsYXNzIFZlbmRvckNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmRlbGV0ZVZlbmRvclRlc3RlciA9IHRoaXMuZGVsZXRlVmVuZG9yVGVzdGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyA9IHRoaXMuYWRkVmVuZG9yVGVzdGVyQnlFbWFpbEFkZHJlc3MuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMudXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMgPSB0aGlzLnVwZGF0ZVZlbmRvckFwcHJvdmFsU3RhdHVzLmJpbmQoXG4gICAgICB0aGlzXG4gICAgKTtcbiAgICB0aGlzLnJlcXVlc3RWZW5kb3JBcHByb3ZhbCA9IHRoaXMucmVxdWVzdFZlbmRvckFwcHJvdmFsLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZVdpdGhFbXBsb3llZSA9IHRoaXMuY3JlYXRlV2l0aEVtcGxveWVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGVBbGxNZW51SXRlbXNTdGF0dXMgPSB0aGlzLnVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1cy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogRGVsZXRlIGEgdmVuZG9yIHRlc3RlciBieSBJRC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFZlbmRvciB0ZXN0ZXIncyBJRC5cbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGRlbGV0ZVZlbmRvclRlc3RlcihpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlVmVuZG9yVGVzdGVyKGlkOiAkaWQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZVZlbmRvclRlc3Rlcik7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgdmVuZG9yIHRlc3RlciBieSBlbWFpbCBhZGRyZXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVmVuZG9yJ3MgSUQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbF9hZGRyZXNzIEN1c3RvbWVyJ3MgZW1haWwgYWRkcmVzcyB0byBhZGQgYXMgYSB0ZXN0ZXIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFZlbmRvclRlc3Rlcj59XG4gICAqL1xuICBhZGRWZW5kb3JUZXN0ZXJCeUVtYWlsQWRkcmVzcyhcbiAgICBpZDogc3RyaW5nLFxuICAgIGVtYWlsX2FkZHJlc3M6IHN0cmluZ1xuICApOiBQcm9taXNlPFZlbmRvclRlc3Rlcj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJGVtYWlsX2FkZHJlc3M6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkVmVuZG9yVGVzdGVyQnlFbWFpbEFkZHJlc3MoaWQ6ICRpZCwgZW1haWxfYWRkcmVzczogJGVtYWlsX2FkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGVtYWlsX2FkZHJlc3NcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYWRkVmVuZG9yVGVzdGVyQnlFbWFpbEFkZHJlc3MpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGEgdmVuZG9yJ3MgYXBwcm92YWwgc3RhdHVzLCB0aGlzIGNhbiBvbmx5IGJlIGNhbGxlZCBieSBtYXN0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiB0aGUgdmVuZG9yLlxuICAgKiBAcGFyYW0ge1ZlbmRvckFwcHJvdmFsU3RhdHVzfSBhcHByb3ZhbF9zdGF0dXMgTmV3IGFwcHJvdmFsIHN0YXR1cywgY2FuIGJlIEFQUFJPVkVELCBQRU5ESU5HLCBOT1RfQVBQUk9WRURcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG5cbiAgdXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBhcHByb3ZhbF9zdGF0dXM6IFZlbmRvckFwcHJvdmFsU3RhdHVzXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkYXBwcm92YWxfc3RhdHVzOiBWZW5kb3JBcHByb3ZhbFN0YXR1cyEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMoaWQ6ICRpZCwgYXBwcm92YWxfc3RhdHVzOiAkYXBwcm92YWxfc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBhcHByb3ZhbF9zdGF0dXNcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlVmVuZG9yQXBwcm92YWxTdGF0dXMuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgcHJvZmlsZSBhcHByb3ZhbCBmcm9tIGFkbWluaXN0cmF0b3JzIGJlZm9yZSBwdWJsaXNoaW5nIHRoZSBzdG9yZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSB2ZW5kb3IuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICByZXF1ZXN0VmVuZG9yQXBwcm92YWwoaWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RWZW5kb3JBcHByb3ZhbChpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZXF1ZXN0VmVuZG9yQXBwcm92YWwpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRGVwcmVjYXRlIHRoaXMgbWV0aG9kXG4gICAqIENyZWF0ZSBhIG5ldyB2ZW5kb3IsIHJldHVybiB2ZW5kb3IgSUQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge09iamVjdH0gdmVuZG9yIC0gVGhlIFZlbmRvciBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIC8vUVVFU1RJT04gaXMgdGhpcyBmdWxseSBkZXByZWNhdGVkPz8gQmVjYXVzZSBub3QgaW4gcGxheWdyb3VuZFxuICBjcmVhdGUodmVuZG9yOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiVmVuZG9yLmNyZWF0ZSBpcyBkZXByZWNhdGVkLCBpdCBpcyByZWNvbW1lbmRlZCBmb3IgeW91IHRvIG1vdmUgdG8gVmVuZG9yLmNyZWF0ZVdpdGhFbXBsb3llZVwiXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZVZlbmRvck11dGF0aW9uICgkdmVuZG9yOiBDcmVhdGVWZW5kb3JJbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmVuZG9yKHZlbmRvcjogJHZlbmRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdmVuZG9yXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIC8vQHRzLWlnbm9yZSBkZXByZWNhdGVkXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlVmVuZG9yLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVmVuZG9yIE9iamVjdCB3aXRoIGFuIEVtcGxveWVlIE9iamVjdFxuICAgKiBAcGFyYW0ge0NyZWF0ZVZlbmRvcldpdGhFbXBsb3llZUlucHV0fSB2ZW5kb3IgLSBUaGUgVmVuZG9yIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgVmVuZG9yIE9iamVjdFxuICAgKi9cbiAgY3JlYXRlV2l0aEVtcGxveWVlKHZlbmRvcjogQ3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlSW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlTXV0YXRpb24oJHZlbmRvcjogQ3JlYXRlVmVuZG9yV2l0aEVtcGxveWVlSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVZlbmRvcldpdGhFbXBsb3llZSh2ZW5kb3I6ICR2ZW5kb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIHZlbmRvclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVWZW5kb3JXaXRoRW1wbG95ZWUuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIHZlbmRvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIFZlbmRvciBPYmplY3RcbiAgICogQHBhcmFtIHtVcGRhdGVWZW5kb3JJbnB1dH0gdmVuZG9yIC0gVGhlIFZlbmRvciBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCB2ZW5kb3I6IFVwZGF0ZVZlbmRvcklucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHVwZGF0ZVZlbmRvck11dGF0aW9uICgkaWQ6IFN0cmluZyEsICR2ZW5kb3I6IFVwZGF0ZVZlbmRvcklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWZW5kb3IoaWQ6ICRpZCwgdmVuZG9yOiAkdmVuZG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB2ZW5kb3JcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlVmVuZG9yLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSB2ZW5kb3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZlbmRvcl9pZCAtIFRoZSBpZCBvZiB0aGUgVmVuZG9yIE9iamVjdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gVXBkYXRlZCBzdGF0dXMgb2YgdGhlIGl0ZW1zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICB1cGRhdGVBbGxNZW51SXRlbXNTdGF0dXModmVuZG9yX2lkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkdmVuZG9yX2lkOiBTdHJpbmchLCAkc3RhdHVzOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUFsbE1lbnVJdGVtc1N0YXR1c0ZvclZlbmRvcih2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQsIHN0YXR1czogJHN0YXR1cylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdmVuZG9yX2lkLFxuICAgICAgICAgIHN0YXR1c1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVBbGxNZW51SXRlbXNTdGF0dXNGb3JWZW5kb3IpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29udHJvbGxlciBmb3IgdmVyaWZpY2F0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmaWNhdGlvblNlc3Npb24ge1xuICB1dWlkOiBzdHJpbmc7XG4gIHBob25lX251bWJlcjogc3RyaW5nO1xuICB2ZXJpZmllZF9zdGF0dXM6IGJvb2xlYW47XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb25Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5zdGFydFZlcmlmaWNhdGlvblNlc3Npb24gPSB0aGlzLnN0YXJ0VmVyaWZpY2F0aW9uU2Vzc2lvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2hlY2tWZXJpZmljYXRpb25TZXNzaW9uID0gdGhpcy5jaGVja1ZlcmlmaWNhdGlvblNlc3Npb24uYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG4gIC8vIFFVRVNUSU9OIG9ubHkgcmVzdWx0IGlzIHJldHVybmVkIHNvIEkgY2Fubm90IHNwZWNpZnkgd2hpY2gga2V5IHdpdGhpbiByZXN1bHQgaXMgYWN0dWFsbHkgcHJlc2VudFxuICAvKipcbiAgICogU3RhcnQgYSBuZXcgU01TIHZlcmlmaWNhdGlvbiBTZXNzaW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZV9udW1iZXIgLSBUaGUgcGhvbmUgdG8gYmUgdmVyaWZpZWRcbiAgICogQHJldHVybnMge1Byb21pc2U8TXV0YXRlUmVzdWx0Pn0gLSBUaGUgdXVpZCByZXF1aXJlZCB0byB2ZXJpZnkgdGhlIHZlcmlmaWNhdGlvbiBjb2RlXG4gICAqL1xuICBzdGFydFZlcmlmaWNhdGlvblNlc3Npb24ocGhvbmVfbnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPE11dGF0ZVJlc3VsdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gY3JlYXRlU21zVmVyaWZpY2F0aW9uU2Vzc2lvbk11dGF0aW9uICgkcGhvbmVfbnVtYmVyOlN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU21zVmVyaWZpY2F0aW9uU2Vzc2lvbihwaG9uZV9udW1iZXI6JHBob25lX251bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIHBob25lX251bWJlclxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZnkgYW4gUGhvbmUgbnVtYmVyIHZpYSBjb2RlIHJlY2VpdmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1dWlkIC0gVVVJRCBvZiB0aGUgdmVyaWZpY2F0aW9uIHJlcXVlc3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZlcmlmaWNhdGlvbl9jb2RlIC0gVmVyaWZpY2F0aW9uIGNvZGUgcmVjZWl2ZWQgb24gdGhlIGRldmljZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRhdGVSZXN1bHQ+fSAtIHZlcmlmaWNhdGlvbiBzdGF0dXMgYWxvbmcgd2l0aCB0aGUgbnVtYmVyIGNvcnJlc3BvbmRpbmcgdG8gdGhlIFVVSURcbiAgICovXG4gIGNoZWNrVmVyaWZpY2F0aW9uU2Vzc2lvbihcbiAgICB1dWlkOiBzdHJpbmcsXG4gICAgdmVyaWZpY2F0aW9uX2NvZGU6IHN0cmluZ1xuICApOiBQcm9taXNlPE11dGF0ZVJlc3VsdD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gdmVyaWZ5U21zVmVyaWZpY2F0aW9uU2Vzc2lvbk11dGF0aW9uICgkdXVpZDpTdHJpbmchLCAkdmVyaWZpY2F0aW9uX2NvZGU6U3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlTbXNWZXJpZmljYXRpb25TZXNzaW9uKHV1aWQ6JHV1aWQsIHZlcmlmaWNhdGlvbl9jb2RlOiR2ZXJpZmljYXRpb25fY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVfbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZpZWRfc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdXVpZCxcbiAgICAgICAgICB2ZXJpZmljYXRpb25fY29kZVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cExpbmsgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9IdHRwTGlua1wiO1xuLyoqXG4gKiBDb250cm9sbGVyIGZvciB2YWxpZGF0aW9uIHNlcnZpY2VzLlxuICovXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5leHBvcnQgY2xhc3MgVmFsaWRhdGlvbkNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmN1c3RvbWVyU2lnbnVwRW1haWwgPSB0aGlzLmN1c3RvbWVyU2lnbnVwRW1haWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLmN1c3RvbWVyU2lnbnVwUGhvbmUgPSB0aGlzLmN1c3RvbWVyU2lnbnVwUGhvbmUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGdldEh0dHBMaW5rKGFwcGVuZCA9IFwiXCIpOiBIdHRwTGluayB7XG4gICAgcmV0dXJuIG5ldyBIdHRwTGluayhcbiAgICAgIHRoaXMuYXBwLmdldENvbmZpZ3VyYXRpb24oKS5lbmRwb2ludHMudmFsaWRhdGlvbkVuZHBvaW50LnByb2R1Y3Rpb24gK1xuICAgICAgICBhcHBlbmRcbiAgICApO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZW1haWwgY2FuIGJlIHVzZWQgZm9yIGN1c3RvbWVyIGFjY291bnQgY3JlYXRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsIC0gQW4gZW1haWxcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIGN1c3RvbWVyU2lnbnVwRW1haWwoZW1haWw6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBsaW5rID0gdGhpcy5nZXRIdHRwTGluayhcIi9jdXN0b21lci9zaWdudXAvZW1haWxcIik7XG4gICAgICBsaW5rXG4gICAgICAgIC5wb3N0KHtcbiAgICAgICAgICBkYXRhOiB7IGVtYWlsIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGRhdGE6IHsgZGF0YTogYW55IH0pID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGhvbmUgbnVtYmVyIGNhbiBiZSB1c2VkIGZvciBjdXN0b21lciBhY2NvdW50IGNyZWF0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwaG9uZSAtIFRoZSBwaG9uZSBudW1iZXIgdG8gc2VuZCB0aGUgY29kZSB0byAoV2l0aG91dCBDb3VudHJ5IENvZGUgJiBubyBzcGFjZXMvc3BlY2lhbCBjaGFyYWN0ZXJzKVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cbiAgY3VzdG9tZXJTaWdudXBQaG9uZShwaG9uZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGxpbmsgPSB0aGlzLmdldEh0dHBMaW5rKFwiL2N1c3RvbWVyL3NpZ251cC9waG9uZVwiKTtcbiAgICAgIGxpbmtcbiAgICAgICAgLnBvc3Qoe1xuICAgICAgICAgIGRhdGE6IHsgcGhvbmUgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoZGF0YTogeyBkYXRhOiBhbnkgfSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gYXhpb3M7IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IEN1c3RvbWVyIH0gZnJvbSBcIi4vQ3VzdG9tZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL09yZGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGVudW0gU3VydmV5UXVlc3Rpb25UeXBlIHtcbiAgQ0hFQ0tCT1ggPSBcIkNIRUNLQk9YXCIsXG4gIE1VTFRJX0NIRUNLQk9YID0gXCJNVUxUSV9DSEVDS0JPWFwiLFxuICBTSE9SVF9BTlNXRVIgPSBcIlNIT1JUX0FOU1dFUlwiLFxuICBSQVRJTkcgPSBcIlJBVElOR1wiXG59XG5leHBvcnQgZW51bSBTdXJ2ZXlEZWxpdmVyeVJ1bGUge1xuICBBRlRFUl9PUkRFUiA9IFwiQUZURVJfT1JERVJcIlxufVxuZXhwb3J0IGludGVyZmFjZSBTdXJ2ZXlRdWVzdGlvblJlc3BvbnNlIHtcbiAgX2lkOiBzdHJpbmc7XG4gIHF1ZXN0aW9uX2lkOiBzdHJpbmc7XG4gIGFuc3dlcjogQXJyYXk8c3RyaW5nPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3VydmV5UmVzcG9uc2UgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlclJlcXVpcmVkIHtcbiAgY3VzdG9tZXI6IEN1c3RvbWVyO1xuICByZXNwb25zZXM6IEFycmF5PFN1cnZleVF1ZXN0aW9uUmVzcG9uc2U+O1xuICBvcmRlcj86IE9yZGVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdXJ2ZXlRdWVzdGlvbiBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyUmVxdWlyZWQge1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcXVlc3Rpb25fdHlwZTogc3RyaW5nO1xuICBjaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgbWF4X3JhdGluZz86IG51bWJlcjtcbiAgcmVxdWlyZWQ6IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIFN1cnZleSBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyUmVxdWlyZWQge1xuICB2ZW5kb3JfaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgcXVlc3Rpb25zOiBBcnJheTxTdXJ2ZXlRdWVzdGlvbj47XG4gIGRlbGl2ZXJ5X3J1bGU6IHN0cmluZztcbiAgbG95YWx0eV9yZXdhcmQ/OiBudW1iZXI7XG4gIHdhbGxldF9yZXdhcmQ/OiBudW1iZXI7XG4gIHJlc3BvbnNlcz86IEFycmF5PFN1cnZleVJlc3BvbnNlPjtcbiAgcmVsZWFzZWRfYXQ/OiBzdHJpbmc7XG4gIGFyY2hpdmVkX2F0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1cnZleVF1ZXN0aW9uSW5wdXQge1xuICBxdWVzdGlvbjogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcXVlc3Rpb25fdHlwZTogU3VydmV5UXVlc3Rpb25UeXBlO1xuICBjaG9pY2VzPzogQXJyYXk8c3RyaW5nPjtcbiAgbWF4X3JhdGluZz86IG51bWJlcjtcbiAgcmVxdWlyZWQ/OiBib29sZWFuOyAvLyBkZWZhdWx0IEZhbHNlXG59XG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVN1cnZleUlucHV0IHtcbiAgdGl0bGU6IHN0cmluZztcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIHF1ZXN0aW9uczogQXJyYXk8U3VydmV5UXVlc3Rpb25JbnB1dD47XG4gIGRlbGl2ZXJ5X3J1bGU/OiBTdXJ2ZXlEZWxpdmVyeVJ1bGU7IC8vIGRlZmF1bHQgQUZURVJfT1JERVJcbiAgbG95YWx0eV9yZXdhcmQ/OiBudW1iZXI7XG4gIHdhbGxldF9yZXdhcmQ/OiBudW1iZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVN1cnZleUlucHV0IHtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHF1ZXN0aW9ucz86IEFycmF5PFN1cnZleVF1ZXN0aW9uSW5wdXQ+O1xuICBkZWxpdmVyeV9ydWxlPzogU3VydmV5RGVsaXZlcnlSdWxlO1xuICBsb3lhbHR5X3Jld2FyZD86IG51bWJlcjtcbiAgd2FsbGV0X3Jld2FyZD86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3VydmV5UXVlc3Rpb25SZXNwb25zZUlucHV0IHtcbiAgcXVlc3Rpb25faWQ6IHN0cmluZztcbiAgYW5zd2VyOiBBcnJheTxzdHJpbmc+O1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTdXJ2ZXlSZXNwb25zZUlucHV0IHtcbiAgY3VzdG9tZXJfaWQ6IHN0cmluZztcbiAgcmVzcG9uc2VzOiBBcnJheTxTdXJ2ZXlRdWVzdGlvblJlc3BvbnNlSW5wdXQ+O1xuICBvcmRlcl9pZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFN1cnZleUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXJjaGl2ZSA9IHRoaXMuYXJjaGl2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlID0gdGhpcy5kZWxldGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbGVhc2UgPSB0aGlzLnJlbGVhc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZVN1cnZleVJlc3BvbnNlID0gdGhpcy5jcmVhdGVTdXJ2ZXlSZXNwb25zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFN1cnZleSBhbmQgcmV0dXJuIHRoZSBJRCBvZiB0aGUgY3JlYXRlZCBvYmplY3QgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge0NyZWF0ZVN1cnZleUlucHV0fSBzdXJ2ZXkgLSBUaGUgU3VydmV5IE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgY3JlYXRlKHN1cnZleTogQ3JlYXRlU3VydmV5SW5wdXQpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRzdXJ2ZXk6IENyZWF0ZVN1cnZleUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTdXJ2ZXkoc3VydmV5OiAkc3VydmV5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBzdXJ2ZXlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlU3VydmV5Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBTdXJ2ZXkgYW5kIHJldHVybiB0aGUgSUQgb2YgdGhlIHVwZGF0ZWQgb2JqZWN0IGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBzdXJ2ZXkgdG8gYmUgbW9kaWZpZWRcbiAgICogQHBhcmFtIHtVcGRhdGVTdXJ2ZXlJbnB1dH0gc3VydmV5IC0gVGhlIE1vZGlmaWVkIFN1cnZleSBPYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIHVwZGF0ZShpZDogc3RyaW5nLCBzdXJ2ZXk6IFVwZGF0ZVN1cnZleUlucHV0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRzdXJ2ZXk6IFVwZGF0ZVN1cnZleUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdXJ2ZXkoaWQ6ICRpZCwgc3VydmV5OiAkc3VydmV5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBzdXJ2ZXlcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlU3VydmV5Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcmNoaXZlIGEgU3VydmV5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgU3VydmV5IE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTdXJ2ZXk+fSAtIENvbmZpcm1hdGlvbiBTdHJpbmdcbiAgICovXG4gIGFyY2hpdmUoaWQ6IHN0cmluZyk6IFByb21pc2U8U3VydmV5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyY2hpdmVTdXJ2ZXkoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYXJjaGl2ZVN1cnZleSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBTdXJ2ZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBTdXJ2ZXkgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gQ29uZmlybWF0aW9uIFN0cmluZ1xuICAgKi9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVTdXJ2ZXkoaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlU3VydmV5KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2UgYSBTdXJ2ZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBTdXJ2ZXkgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBTdXJ2ZXkgb2JqZWN0XG4gICAqL1xuICByZWxlYXNlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZWxlYXNlU3VydmV5KGlkOiAkaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlbGVhc2VTdXJ2ZXkuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFN1cnZleVJlc3BvbnNlIG9iamVjdCBmb3IgYSBTdXJ2ZXkgb2JqZWN0IGFuZCByZXR1cm5zIHRoZSBTdXJ2ZXlSZXNwb25zZSBJRCBpZiBzdWNjZXNzZnVsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdXJ2ZXlfaWQgLSBUaGUgU3VydmV5IE9iamVjdCBJRFxuICAgKiBAcGFyYW0ge0NyZWF0ZVN1cnZleVJlc3BvbnNlSW5wdXR9IHN1cnZleV9yZXNwb25zZSAtIFRoZSBzdXJ2ZXkgcmVzcG9uc2Ugb2JqZWN0OyB0aGUgQ3JlYXRlU3VydmV5UmVzcG9uc2VJbnB1dCBvYmplY3RcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIGNyZWF0ZVN1cnZleVJlc3BvbnNlKFxuICAgIHN1cnZleV9pZDogc3RyaW5nLFxuICAgIHN1cnZleV9yZXNwb25zZTogQ3JlYXRlU3VydmV5UmVzcG9uc2VJbnB1dFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRzdXJ2ZXlfaWQ6IFN0cmluZyEsICRzdXJ2ZXlfcmVzcG9uc2U6IENyZWF0ZVN1cnZleVJlc3BvbnNlSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVN1cnZleVJlc3BvbnNlKHN1cnZleV9pZDogJHN1cnZleV9pZCwgc3VydmV5X3Jlc3BvbnNlOiAkc3VydmV5X3Jlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBzdXJ2ZXlfaWQsXG4gICAgICAgICAgc3VydmV5X3Jlc3BvbnNlXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZVN1cnZleVJlc3BvbnNlLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL0N1c3RvbWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgVmVuZG9yIH0gZnJvbSBcIi4vVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgU3VydmV5LCBTdXJ2ZXlSZXNwb25zZSB9IGZyb20gXCIuL1N1cnZleUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFRpcCB9IGZyb20gXCIuL1RpcENvbnRyb2xsZXJcIjtcbmltcG9ydCB7IENhdGVnb3J5IH0gZnJvbSBcIi4vQ2F0ZWdvcnlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBUYWcsIEZlZSB9IGZyb20gXCIuL01lbnVJdGVtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTW9kaWZpZXJDaG9pY2UgfSBmcm9tIFwiLi9Nb2RpZmllckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBlbnVtIE9yZGVyVHlwZSB7XG4gIEVBVF9JTiA9IFwiRUFUX0lOXCIsXG4gIFRBS0VfT1VUID0gXCJUQUtFX09VVFwiLFxuICBERUxJVkVSWSA9IFwiREVMSVZFUllcIlxufVxuZXhwb3J0IGVudW0gT3JkZXJDYW5jZWxsYXRpb25SZWFzb24ge1xuICBWRU5ET1JfQ0FOQ0VMTEVEID0gXCJWRU5ET1JfQ0FOQ0VMTEVEXCIsXG4gIFZFTkRPUl9QUkVQX0NBTkNFTExFRCA9IFwiVkVORE9SX1BSRVBfQ0FOQ0VMTEVEXCIsXG4gIFZFTkRPUl9JVEVNX1NPTERfT1VUID0gXCJWRU5ET1JfSVRFTV9TT0xEX09VVFwiLFxuICBWRU5ET1JfU1RPUkVfQ0xPU0lOR19TT09OID0gXCJWRU5ET1JfU1RPUkVfQ0xPU0lOR19TT09OXCIsXG4gIENVU1RPTUVSX05PVF9QSUNLRURfVVAgPSBcIkNVU1RPTUVSX05PVF9QSUNLRURfVVBcIixcbiAgQ1VTVE9NRVJfQ0FOQ0VMTEVEID0gXCJDVVNUT01FUl9DQU5DRUxMRURcIixcbiAgT1RIRVIgPSBcIk9USEVSXCJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlT3JkZXJNb2RpZmllcklucHV0IHtcbiAgbW9kaWZpZXJfaWQ6IHN0cmluZztcbiAgY2hvaWNlczogQXJyYXk8c3RyaW5nPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlT3JkZXJzSXRlbXNJbnB1dCB7XG4gIGl0ZW1faWQ6IHN0cmluZztcbiAgbW9kaWZpZXJzOiBBcnJheTxDcmVhdGVPcmRlck1vZGlmaWVySW5wdXQ+O1xufVxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVPcmRlcklucHV0IHtcbiAgdmVuZG9yX2lkOiBzdHJpbmc7XG4gIHBheW1lbnRfbWV0aG9kOiBzdHJpbmc7XG4gIGl0ZW1zOiBBcnJheTxDcmVhdGVPcmRlcnNJdGVtc0lucHV0PjtcbiAgbm90ZT86IHN0cmluZztcbiAgY291cG9ucz86IEFycmF5PHN0cmluZz47XG4gIHNjaGVkdWxlZF9waWNrdXA6IHN0cmluZztcbiAgb3JkZXJfdHlwZT86IE9yZGVyVHlwZTsgLy8gZGVmYXVsdCBUQUtFX09VVFxufVxuZXhwb3J0IGludGVyZmFjZSBPcmRlck1vZGlmaWVyIHtcbiAgX2lkPzogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgY2hvaWNlcz86IE1vZGlmaWVyQ2hvaWNlO1xufVxuZXhwb3J0IGludGVyZmFjZSBPcmRlckl0ZW0ge1xuICBfaWQ/OiBzdHJpbmc7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGlkZW50aWZpZXI/OiBzdHJpbmc7XG4gIGNhdGVnb3J5PzogQ2F0ZWdvcnk7XG4gIHRhZ3M/OiBUYWc7XG4gIHJlY3ljbGVfaW5mbz86IHN0cmluZztcbiAgcHJpY2U/OiBudW1iZXI7XG4gIGZlZXM/OiBGZWU7XG4gIGVzdGltYXRlZF90aW1lPzogbnVtYmVyO1xuICBtb2RpZmllcnM/OiBPcmRlck1vZGlmaWVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2FjdGlvbkRhdGEge1xuICBpZD86IHN0cmluZztcbiAgYW1vdW50PzogbnVtYmVyO1xuICBjYXB0dXJlZD86IGJvb2xlYW47XG4gIGNyZWF0ZWQ/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zYWN0aW9uIHtcbiAgX2lkPzogc3RyaW5nO1xuICBkYXRhPzogVHJhbnNhY3Rpb25EYXRhO1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIHJlZnVuZD86IFJlZnVuZDtcbiAgY2hhcmdlX3R5cGU/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJlZnVuZCB7XG4gIGlkPzogc3RyaW5nO1xuICBhbW91bnQ/OiBudW1iZXI7XG4gIHN0YXR1cz86IHN0cmluZztcbiAgY3JlYXRlZD86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJTdGF0dXMge1xuICBuYW1lPzogc3RyaW5nO1xuICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICBkYXRhPzogc3RyaW5nO1xuICBjcmVhdGVkX2F0Pzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBPcmRlciBleHRlbmRzIERlZmF1bHRDb250cm9sbGVyIHtcbiAgaXRlbXM/OiBBcnJheTxPcmRlckl0ZW0+O1xuICB0cmFuc2FjdGlvbnM/OiBBcnJheTxUcmFuc2FjdGlvbj47XG4gIGN1c3RvbWVyPzogQ3VzdG9tZXI7XG4gIHZlbmRvcj86IFZlbmRvcjtcbiAgc3VidG90YWw/OiBudW1iZXI7XG4gIHRvdGFsPzogbnVtYmVyO1xuICBub3RlPzogc3RyaW5nO1xuICBwYXltZW50X21ldGhvZD86IHN0cmluZztcbiAgc3RhdHVzX2hpc3Rvcnk/OiBBcnJheTxPcmRlclN0YXR1cz47XG4gIHNjaGVkdWxlZF9waWNrdXA/OiBzdHJpbmc7XG4gIHN0YXR1cz86IHN0cmluZztcbiAgY2FuY2VsX3JlYXNvbj86IE9yZGVyQ2FuY2VsbGF0aW9uUmVhc29uO1xuICBjYW5jZWxfZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHNldHRsZWRfYXQ/OiBzdHJpbmc7XG4gIHByZXBhcmluZ19hdD86IHN0cmluZztcbiAgZXN0aW1hdGVkX3ByZXBhcmluZ19zZWM/OiBudW1iZXI7XG4gIGF0YWNoZWRfc3VydmV5PzogU3VydmV5O1xuICBhdHRhY2hlZF9zdXJ2ZXlfcmVzcG9uc2U/OiBTdXJ2ZXlSZXNwb25zZTtcbiAgdGlwPzogVGlwO1xuICBvcmRlcl90eXBlPzogT3JkZXJUeXBlO1xuICBkaXNjb3VudD86IG51bWJlcjtcbn1cbi8qKlxuICogQ29udHJvbGxlciBmb3Igb3JkZXJzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBPcmRlckNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuY3JlYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jYW5jZWwgPSB0aGlzLmNhbmNlbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYmVnaW5QcmVwYXJpbmcgPSB0aGlzLmJlZ2luUHJlcGFyaW5nLmJpbmQodGhpcyk7XG4gICAgdGhpcy5wcmVwYXJlZCA9IHRoaXMucHJlcGFyZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNvbXBsZXRlID0gdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogUGxhY2UgYSBuZXcgb3JkZXIsIHlvdSBtdXN0IGJlIGF1dGhlbnRpY2F0ZWQgYXMgYSBjdXN0b21lciB0byB1c2UgdGhpc1xuICAgKiBAcGFyYW0ge0NyZWF0ZU9yZGVySW5wdXR9IG9yZGVyIC0gVGhlIE9yZGVyIE9iamVjdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkcnldIC0gSW5kaWNhdG9yIGZvciBkcnkgb3JkZXIgcGxhY2VtZW50XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NsZWFyX2NhcnRdIC0gSW5kaWNhdG9yIHRvIGNsZWFyIGFsbCBjYXJ0IGFmdGVyIG9yZGVyIHBsYWNlbWVudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgT3JkZXIgT2JqZWN0XG4gICAqL1xuICBjcmVhdGUoXG4gICAgb3JkZXI6IENyZWF0ZU9yZGVySW5wdXQsXG4gICAgZHJ5OiBib29sZWFuIHwgbnVsbCwgLy8gZGVmYXVsdCBGYWxzZVxuICAgIGNsZWFyX2NhcnQ6IGJvb2xlYW4gfCBudWxsIC8vIGRlZmF1bHQgRmFsc2VcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGNyZWF0ZU9yZGVyTXV0YXRpb24gKCRvcmRlcjogQ3JlYXRlT3JkZXJJbnB1dCEsICRkcnk6IEJvb2xlYW4sICRjbGVhcl9jYXJ0OiBCb29sZWFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU9yZGVyKG9yZGVyOiAkb3JkZXIsIGRyeTogJGRyeSwgY2xlYXJfY2FydDogJGNsZWFyX2NhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIG9yZGVyLFxuICAgICAgICAgIGRyeSxcbiAgICAgICAgICBjbGVhcl9jYXJ0XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZU9yZGVyLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvL1FVRVNUSU9OIGJlY2F1c2Ugb25seSByZXN1bHQgaXMgcmV0dXJuZWQgSSBjYW4ndCBiZSBtb3JlIHNwZWNpZmljIHRoYW4gTXV0YXRlUmVzdWx0XG4gIC8vIFVzdWFsbHkgaXQgaXMgcmVzdWx0LlttdXRhdGlvbiBuYW1lXSBhbmQgdGhlbiBpdCBpcyBtb3JlIHNwZWNpZmljIHdoYXQgaXMgd2l0aGluIHRoZSByZXN1bHRcbiAgLyoqXG4gICAqIENhbmNlbCBhIG9yZGVyLCBtdXN0IGJlIGF1dGhlbnRpY2F0ZWQgYXMgdmVuZG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgT3JkZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7T3JkZXJDYW5jZWxsYXRpb25SZWFzb259IHJlYXNvbiAtIGlucHV0IHR5cGUgT3JkZXJDYW5jZWxsYXRpb25SZWFzb24gZW51bSBpbmRpY2F0aW5nIHJlYXNvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVzY3JpcHRpb24gLSBBZGRpdGlvbmFsIGRldGFpbHMgb24gb3JkZXIgY2FuY2VsbGF0aW9uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE11dGF0ZVJlc3VsdD59XG4gICAqL1xuICBjYW5jZWwoXG4gICAgaWQ6IHN0cmluZyxcbiAgICByZWFzb246IE9yZGVyQ2FuY2VsbGF0aW9uUmVhc29uLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8TXV0YXRlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjYW5jZWxPcmRlck11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRyZWFzb246IE9yZGVyQ2FuY2VsbGF0aW9uUmVhc29uISwgJGRlc2NyaXB0aW9uOiBTdHJpbmcpe1xuICAgICAgICAgICAgICAgICAgICBjYW5jZWxPcmRlcihpZDogJGlkLCByZWFzb246ICRyZWFzb24sIGRlc2NyaXB0aW9uOiAkZGVzY3JpcHRpb24pe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgcmVhc29uLFxuICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIG9yZGVyIGFzIHByZXBhcmluZyB3aXRoIGVzdGltYXRlZCB0aW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgT3JkZXIgT2JqZWN0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlc3RpbWF0ZWRfcHJlcGFyaW5nX3NlYyAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGUgT3JkZXIgd2lsbCB0YWtlIGJlZm9yZSBpdCB3aWxsIGJlIHByZXBhcmVkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE11dGF0ZVJlc3VsdD59XG4gICAqL1xuICBiZWdpblByZXBhcmluZyhcbiAgICBpZDogc3RyaW5nLFxuICAgIGVzdGltYXRlZF9wcmVwYXJpbmdfc2VjOiBudW1iZXJcbiAgKTogUHJvbWlzZTxNdXRhdGVSZXN1bHQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIGJlZ2luUHJlcGFyaW5nT3JkZXIoJGlkOiBTdHJpbmchLCAkZXN0aW1hdGVkX3ByZXBhcmluZ19zZWM6IEludCEpe1xuICAgICAgICAgICAgICAgICAgICBiZWdpblByZXBhcmluZ09yZGVyKGlkOiAkaWQsIGVzdGltYXRlZF9wcmVwYXJpbmdfc2VjOiAkZXN0aW1hdGVkX3ByZXBhcmluZ19zZWMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZXN0aW1hdGVkX3ByZXBhcmluZ19zZWNcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IG9yZGVyIGFzIHByZXBhcmVkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgT3JkZXIgT2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE11dGF0ZVJlc3VsdD59XG4gICAqL1xuICBwcmVwYXJlZChpZDogc3RyaW5nKTogUHJvbWlzZTxNdXRhdGVSZXN1bHQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uIHByZXBhcmVkT3JkZXJNdXRhdGlvbiAoJGlkOiBTdHJpbmchKXtcbiAgICAgICAgICAgICAgICAgICAgcHJlcGFyZWRPcmRlciAoaWQ6ICRpZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGV0ZSBhbiBvcmRlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBUaGUgaWQgb2YgdGhlIE9yZGVyIE9iamVjdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxNdXRhdGVSZXN1bHQ+fVxuICAgKi9cbiAgY29tcGxldGUoaWQ6IHN0cmluZyk6IFByb21pc2U8TXV0YXRlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjb21wbGV0ZU9yZGVyTXV0YXRpb24gKCRpZDogU3RyaW5nISl7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlT3JkZXIoaWQ6ICRpZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cExpbmsgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9IdHRwTGlua1wiO1xuLyoqXG4gKiBDb250cm9sbGVyIGZvciBpbWFnZSBzZXJ2aWNlcy5cbiAqL1xuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuZXhwb3J0IGNsYXNzIEltYWdlQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMudXBsb2FkID0gdGhpcy51cGxvYWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldExpbmsgPSB0aGlzLmdldExpbmsuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgSHR0cExpbmsgYXBwZW5kZWQgd2l0aCBhcHBlbmRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBhcHBlbmQ9XCJcIlxuICAgKiBAcmV0dXJucyB7SHR0cExpbmt9XG4gICAqL1xuICBnZXRIdHRwTGluayhhcHBlbmQ6IHN0cmluZyA9IFwiXCIpOiBIdHRwTGluayB7XG4gICAgcmV0dXJuIG5ldyBIdHRwTGluayhcbiAgICAgIHRoaXMuYXBwLmdldENvbmZpZ3VyYXRpb24oKS5lbmRwb2ludHMuaW1hZ2VFbmRwb2ludC5wcm9kdWN0aW9uICsgYXBwZW5kXG4gICAgKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIFVwbG9hZCBhbiBuZXcgaW1hZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlIC0gSW1hZ2UgaW4gYmFzZTY0IGZvcm1hdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxuICAgKi9cblxuICB1cGxvYWQoaW1hZ2U6IHN0cmluZyk6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+IHtcbiAgICBjb25zdCBsaW5rID0gdGhpcy5nZXRIdHRwTGluayhcIi91cGxvYWRcIik7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxpbmtcbiAgICAgICAgLnBvc3Qoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiB7IGRhdGE6IHsgaWQ6IHN0cmluZyB9IH0pID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5kYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBpbWFnZSBsaW5rIHdpdGggc2l6ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNpemUgKDEwMHB4LCAzMDBweCwgNjAwcHggb3IgMTIwMHB4KVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0TGluayhpZDogc3RyaW5nLCBzaXplOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmFwcC5nZXRDb25maWd1cmF0aW9uKCkuZW5kcG9pbnRzLmltYWdlRW5kcG9pbnQuZGlzdHJpYnV0aW9uICtcbiAgICAgIFwiL1wiICtcbiAgICAgIGlkICtcbiAgICAgIFwiLVwiICtcbiAgICAgIHNpemUgK1xuICAgICAgXCIucG5nXCJcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFZlbmRvciB9IGZyb20gXCIuL1ZlbmRvckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4vT3JkZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuXG5leHBvcnQgZW51bSBQYXlvdXRNZXRob2Qge1xuICBNQU5VQUwgPSBcIk1BTlVBTFwiXG59XG5leHBvcnQgZW51bSBQYXlvdXRTdGF0dXMge1xuICBQRU5ESU5HID0gXCJQRU5ESU5HXCIsXG4gIElOX1RSQU5TSVQgPSBcIklOX1RSQU5TSVRcIixcbiAgUEFJRCA9IFwiUEFJRFwiLFxuICBDQU5DRUxMRUQgPSBcIkNBTkNFTExFRFwiXG59XG5leHBvcnQgaW50ZXJmYWNlIFBheW91dFBsYW4ge1xuICBmaXhlZF9wZXJfdHJhbnNhY3Rpb24/OiBudW1iZXI7XG4gIHBlcmVjZW50YWdlX3Blcl90cmFuc2FjdGlvbj86IG51bWJlcjtcbiAgZml4ZWRfcGVyX3BheW91dD86IG51bWJlcjtcbiAgcGVyY2VudGFnZV9wZXJfcGF5b3V0PzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVQYXlvdXRJbnB1dCB7XG4gIG9yZGVycz86IEFycmF5PHN0cmluZz47XG4gIHNlcnZpY2VfY2hhcmdlcz86IEFycmF5PHN0cmluZz47XG4gIG5vdGU/OiBzdHJpbmc7XG4gIG1ldGhvZD86IFBheW91dE1ldGhvZDsgLy8gZGVmYXVsdCBNQU5VQUxcbiAgc3RhdHVzPzogUGF5b3V0U3RhdHVzOyAvLyBkZWZhdWx0IFBFTkRJTkdcbn1cbmV4cG9ydCBlbnVtIFNlcnZpY2VDaGFyZ2VUeXBlIHtcbiAgQ1JFRElUID0gXCJDUkVESVRcIixcbiAgREVCSVQgPSBcIkRFQklUXCJcbn1cbmV4cG9ydCBlbnVtIFNlcnZpY2VDaGFyZ2VSZWFzb24ge1xuICBPUkRFUl9UUkFOU0FDVElPTl9GRUUgPSBcIk9SREVSX1RSQU5TQUNUSU9OX0ZFRVwiLFxuICBQQVlPVVRfUkVRVUVTVF9GRUUgPSBcIlBBWU9VVF9SRVFVRVNUX0ZFRVwiLFxuICBPVEhFUiA9IFwiT1RIRVJcIixcbiAgT1RIRVJfVEFYQUJMRSA9IFwiT1RIRVJfVEFYQUJMRVwiLFxuICBUQVggPSBcIlRBWFwiXG59XG5leHBvcnQgaW50ZXJmYWNlIFNlcnZpY2VDaGFyZ2UgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIHZlbmRvcl9pZD86IHN0cmluZztcbiAgYW1vdW50OiBudW1iZXI7XG4gIHR5cGU6IFNlcnZpY2VDaGFyZ2VUeXBlO1xuICByZWFzb246IFNlcnZpY2VDaGFyZ2VSZWFzb247XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBzZXR0bGVkX2F0Pzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBQYXlvdXQgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIHZlbmRvcl9pZDogc3RyaW5nO1xuICB2ZW5kb3I/OiBWZW5kb3I7XG4gIHRvdGFsPzogbnVtYmVyO1xuICBvcmRlcnM/OiBBcnJheTxPcmRlcj47XG4gIHNlcnZpY2VfY2hhcmdlcz86IEFycmF5PFNlcnZpY2VDaGFyZ2U+O1xuICBub3RlPzogc3RyaW5nO1xuICBtZXRob2Q/OiBzdHJpbmc7XG4gIHN0YXR1cz86IHN0cmluZztcbn1cbi8qKlxuICogQ29udHJvbGxlciByZWxhdGVkIHRvIHBheW91dHNcbiAqL1xuXG5leHBvcnQgY2xhc3MgUGF5b3V0Q29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNhbmNlbCA9IHRoaXMuY2FuY2VsLmJpbmQodGhpcyk7XG4gIH1cblxuICAvLyBBREQgTVVUQVRJT04gTUVUSE9EUyBCRUxPV1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGF5b3V0IHJlcXVlc3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZlbmRvcl9pZCAtIFZlbmRvciBJRFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRyeSAtIERyeSBydW4gb3Igbm90XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFBheW91dD59XG4gICAqL1xuICByZXF1ZXN0KFxuICAgIHZlbmRvcl9pZDogc3RyaW5nLFxuICAgIGRyeTogYm9vbGVhbiB8IG51bGwgLy8gZGVmYXVsdCBGYWxzZVxuICApOiBQcm9taXNlPFBheW91dD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCR2ZW5kb3JfaWQ6IFN0cmluZyEsICRkcnk6IEJvb2xlYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFBheW91dCh2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQsIGRyeTogJGRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIHZlbmRvcl9pZCxcbiAgICAgICAgICBkcnlcbiAgICAgICAgfSlcbiAgICAgICAgLy9RVUVTVElPTiBvbmx5IF9pZCBhbmQgdG90YWwgd2lsbCBiZSBhY2Nlc3NpYmxlIGlzIHRoaXMgdGhlIGV4cGVjdGVkIGJlaGF2aW91clxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5yZXF1ZXN0UGF5b3V0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBwZW5kaW5nIHBheW91dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBQYXlvdXQgSURcbiAgICogQHBhcmFtIHtVcGRhdGVQYXlvdXRJbnB1dH0gcGF5b3V0IC0gVXBkYXRlZCBwYXlvdXQgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICB1cGRhdGUoaWQ6IHN0cmluZywgcGF5b3V0OiBVcGRhdGVQYXlvdXRJbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkcGF5b3V0OlVwZGF0ZVBheW91dElucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYXlvdXQoaWQ6ICRpZCwgcGF5b3V0OiAkcGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBwYXlvdXRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQudXBkYXRlUGF5b3V0Ll9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWwgYSBQYXlvdXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gUGF5b3V0IElEXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFBheW91dD59XG4gICAqL1xuICBjYW5jZWwoaWQ6IHN0cmluZyk6IFByb21pc2U8UGF5b3V0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbFBheW91dChpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jYW5jZWxQYXlvdXQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgQ291cG9uIH0gZnJvbSBcIi4vQ291cG9uQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcbmV4cG9ydCBpbnRlcmZhY2UgQWR2ZXJ0aXNlbWVudCB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBsaW5rPzogc3RyaW5nO1xuICBpbWFnZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIERhaWx5RGVhbCB7XG4gIGxpbms/OiBzdHJpbmc7XG4gIG1lbnVfaXRlbV9pZDogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBTcGVjaWFsRGVhbCBleHRlbmRzIERhaWx5RGVhbCB7fVxuZXhwb3J0IGludGVyZmFjZSBUaW1lbHlEZWFsIHtcbiAgbWVudV9pdGVtX2lkOiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBsaW5rPzogc3RyaW5nO1xuICBmcm9tPzogc3RyaW5nO1xuICB0bz86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRXhwbG9yZVBhZ2UgZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIGFkdmVydGlzZW1lbnRzPzogQXJyYXk8QWR2ZXJ0aXNlbWVudD47XG4gIGRhaWx5X2RlYWxzPzogQXJyYXk8RGFpbHlEZWFsPjtcbiAgc3BlY2lhbF9kZWFscz86IEFycmF5PFNwZWNpYWxEZWFsPjtcbiAgdGltZWx5X2RlYWxzPzogQXJyYXk8VGltZWx5RGVhbD47XG4gIGNvdXBvbnM/OiBBcnJheTxDb3Vwb24+O1xuICBpc19jdXJyZW50PzogYm9vbGVhbjtcbn1cbi8qKlxuICogQ29udHJvbGxlciByZWxhdGVkIHRvIGV4cGxvcmUgcGFnZVxuICovXG5cbmV4cG9ydCBjbGFzcyBFeHBsb3JlUGFnZUNvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLnJlcGxhY2UgPSB0aGlzLnJlcGxhY2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIFJlcGxhY2UgdGhlIGV4cGxvcmUgcGFnZVxuICAgKiBAcGFyYW0ge0FycmF5PEFkdmVydGlzZW1lbnRzPn0gYWR2ZXJ0aXNlbWVudHMgLSBMaXN0IG9mIEV4cGxvcmUgcGFnZSBBZHNcbiAgICogQHBhcmFtIHtBcnJheTxEYWlseURlYWxzPn0gZGFpbHlfZGVhbHMgLSBMaXN0IG9mIEV4cGxvcmUgcGFnZSBEYWlseSBBZHNcbiAgICogQHBhcmFtIHtBcnJheTxTcGVjaWFsRGVhbHM+fSBzcGVjaWFsX2RlYWxzIC0gTGlzdCBvZiBFeHBsb3JlIHBhZ2UgU3BlY2lhbCBEZWFsc1xuICAgKiBAcGFyYW0ge0FycmF5PFRpbWVseURlYWxzPn0gdGltZWx5X2RlYWxzIC0gTGlzdCBvZiBFeHBsb3JlIHBhZ2UgVGltZWx5IERlYWxzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFN0cmluZz59IC0gVXBkYXRlZCBhdFxuICAgKi9cbiAgcmVwbGFjZShcbiAgICBhZHZlcnRpc2VtZW50czogQXJyYXk8QWR2ZXJ0aXNlbWVudD4sXG4gICAgZGFpbHlfZGVhbHM6IEFycmF5PERhaWx5RGVhbD4sXG4gICAgc3BlY2lhbF9kZWFsczogQXJyYXk8U3BlY2lhbERlYWw+LFxuICAgIHRpbWVseV9kZWFsczogQXJyYXk8VGltZWx5RGVhbD5cbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvL1FVRVNUSU9OIFBSIGNvdXBvbnMgaXMgbm90IGluY2x1ZGVkIGFzIG9wdGlvbiBpbiBtdXRhdGlvbiBidXQgZXhpc3RzIGFzIGFuIG9wdGlvbiBpbiB0aGUgc2NoZW1hPz9cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkYWR2ZXJ0aXNlbWVudHM6IFtBZHZlcnRpc2VtZW50SW5wdXRdLCAkZGFpbHlfZGVhbHM6IFtEYWlseURlYWxzSW5wdXRdLCAkc3BlY2lhbF9kZWFsczogW1NwZWNpYWxEZWFsc0lucHV0XSwgJHRpbWVseV9kZWFsczogW1RpbWVseURlYWxzSW5wdXRdKSB7IFxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlRXhwbG9yZVBhZ2UoYWR2ZXJ0aXNlbWVudHM6ICRhZHZlcnRpc2VtZW50cywgZGFpbHlfZGVhbHM6ICRkYWlseV9kZWFscywgc3BlY2lhbF9kZWFsczogJHNwZWNpYWxfZGVhbHMsIHRpbWVseV9kZWFsczogJHRpbWVseV9kZWFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZF9hdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGFkdmVydGlzZW1lbnRzLFxuICAgICAgICAgIGRhaWx5X2RlYWxzLFxuICAgICAgICAgIHNwZWNpYWxfZGVhbHMsXG4gICAgICAgICAgdGltZWx5X2RlYWxzXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlcGxhY2VFeHBsb3JlUGFnZS51cGRhdGVkX2F0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5leHBvcnQgaW50ZXJmYWNlIEZsYXNoU2FsZUl0ZW1JbnB1dCB7XG4gIF9pZDogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xufVxuZXhwb3J0IGVudW0gRmxhc2hTYWxlVHlwZSB7XG4gIERPTExBUiA9IFwiRE9MTEFSXCIsXG4gIFBFUkNFTlRBR0UgPSBcIlBFUkNFTlRBR0VcIlxufVxuZXhwb3J0IGludGVyZmFjZSBGbGFzaFNhbGVJdGVtIHtcbiAgX2lkPzogc3RyaW5nO1xuICBwcmljZT86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRmxhc2hTYWxlIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICB0eXBlPzogRmxhc2hTYWxlVHlwZTtcbiAgYW1vdW50PzogbnVtYmVyO1xuICB2ZW5kb3JfaWQ/OiBzdHJpbmc7XG4gIGl0ZW1zPzogQXJyYXk8Rmxhc2hTYWxlSXRlbT47XG4gIHN0YXJ0X2F0Pzogc3RyaW5nO1xuICBlbmRfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIENvbnRyb2xsZXIgcmVsYXRlZCB0byBmbGFzaCBzYWxlc1xuICovXG5cbmV4cG9ydCBjbGFzcyBGbGFzaFNhbGVDb250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5jcmVhdGUgPSB0aGlzLmNyZWF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBmbGFzaCBzYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2ZW5kb3JfaWQgLSBWZW5kb3IgSURcbiAgICogQHBhcmFtIHtGbGFzaFNhbGVUeXBlfSB0eXBlIC0gSWYgdGhlIGZsYXNoIHNhbGUgaXMgb24gUEVSQ0VOVEFHRSBvciBET0xMQVIgYmFzaXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIEFtb3VudCBpbiBjZW50cyB0byBiYXNlIHRoZSBmbGFzaCBzYWxlIG9mZiBvZlxuICAgKiBAcGFyYW0ge0FycmF5PEZsYXNoU2FsZUl0ZW1JbnB1dD59IGl0ZW1zIC0gTGlzdCBvZiBpdGVtcyBpbmNsdWRlZCBpbiBGbGFzaCBTYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdGFydF9hdCAtIFN0YXJ0IHRpbWUgZm9yIEZsYXNoIFNhbGUgaW4gSVNPIGZvcm1hdFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW5kX2F0IC0gRW5kIHRpbWUgZm9yIEZsYXNoIFNhbGUgaW4gSVNPIGZvcm1hdFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgY3JlYXRlKFxuICAgIHZlbmRvcl9pZDogc3RyaW5nLFxuICAgIHR5cGU6IEZsYXNoU2FsZVR5cGUsXG4gICAgYW1vdW50OiBudW1iZXIsXG4gICAgaXRlbXM6IEFycmF5PEZsYXNoU2FsZUl0ZW1JbnB1dD4sXG4gICAgc3RhcnRfYXQ6IHN0cmluZyxcbiAgICBlbmRfYXQ6IHN0cmluZ1xuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24oJHZlbmRvcl9pZDogU3RyaW5nISwgJHR5cGU6IEZsYXNoU2FsZVR5cGUhLCAkYW1vdW50OiBJbnQhLCAkaXRlbXM6IFtGbGFzaFNhbGVJdGVtSW5wdXRdISwgJHN0YXJ0X2F0OiBTdHJpbmchLCAkZW5kX2F0OiBTdHJpbmchKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUZsYXNoU2FsZSh2ZW5kb3JfaWQ6ICR2ZW5kb3JfaWQsIHR5cGU6ICR0eXBlLCBhbW91bnQ6ICRhbW91bnQsIGl0ZW1zOiRpdGVtcywgc3RhcnRfYXQ6JHN0YXJ0X2F0LCBlbmRfYXQ6JGVuZF9hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgdmVuZG9yX2lkLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgYW1vdW50LFxuICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgIHN0YXJ0X2F0LFxuICAgICAgICAgIGVuZF9hdFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVGbGFzaFNhbGUuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBleGlzdGluZyBmbGFzaCBzYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIEZsYXNoIFNhbGUgSURcbiAgICogQHBhcmFtIHtBcnJheTxGbGFzaFNhbGVJdGVtcz59IGl0ZW1zIC0gVXBkYXRlZCBMaXN0IG9mIGl0ZW1zIGZvciBGbGFzaCBTYWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRfYXQgLSBFbmQgdGltZSBmb3IgRmxhc2ggU2FsZSBpbiBJU08gZm9ybWF0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICB1cGRhdGUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBpdGVtczogQXJyYXk8Rmxhc2hTYWxlSXRlbUlucHV0PiB8IG51bGwsXG4gICAgZW5kX2F0OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbigkaWQ6IFN0cmluZyEsICRpdGVtczogW0ZsYXNoU2FsZUl0ZW1JbnB1dF0sICRlbmRfYXQ6IFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGbGFzaFNhbGUoaWQ6ICRpZCwgaXRlbXM6JGl0ZW1zLCBlbmRfYXQ6JGVuZF9hdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgZW5kX2F0XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZUZsYXNoU2FsZS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiLi9PcmRlckNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE11dGF0ZVJlc3VsdCB9IGZyb20gXCIuLi9saW5rcy9zeW5jaHJvbm91c2xpbmtzL0dyYXBoUUxMaW5rXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGlwIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXIge1xuICBhbW91bnQ/OiBudW1iZXI7XG4gIG9yZGVyPzogT3JkZXI7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVGlwQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHRpcFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IG9yZGVyX2lkIC0gSUQgb2YgdGhlIG9yZGVyIHRpcCBpcyBpc3N1ZWQgZm9yXG4gICAqIEBwYXJhbSAge251bWJlcn0gYW1vdW50IC0gVGlwIGFtb3VudCBpbiBjZW50c1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFJldHVybnMgdGhlIGlkIG9mIHRoZSB0aXAgY3JlYXRlZFxuICAgKi9cbiAgLy9RVUVTVElPTiBEZXNjcmlwdGlvbiBpcyBub3QgaW4gbXV0YXRpb24gYnV0IGl0IGlzIGFuIG9wdGlvbmFsIGZpZWxkIGluIEdSQVBIIFFMXG4gIGNyZWF0ZShvcmRlcl9pZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJG9yZGVyX2lkOlN0cmluZyEsICRhbW91bnQ6SW50ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaXAob3JkZXJfaWQ6JG9yZGVyX2lkLCBhbW91bnQ6JGFtb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICBcbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBvcmRlcl9pZCxcbiAgICAgICAgICBhbW91bnRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlVGlwLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgVmVuZG9yIH0gZnJvbSBcIi4vVmVuZG9yQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tIFwiLi9NZW51SXRlbUNvbnRyb2xsZXJcIjtcbmltcG9ydCB7IFJlZGVlbWFibGVJdGVtIH0gZnJvbSBcIi4vUmVkZWVtYWJsZUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuXG5leHBvcnQgZW51bSBMb3lhbHR5UHJvZ3JhbVR5cGUge1xuICBET0xMQVIgPSBcIkRPTExBUlwiLFxuICBPUkRFUiA9IFwiT1JERVJcIixcbiAgSVRFTSA9IFwiSVRFTVwiXG59XG5leHBvcnQgaW50ZXJmYWNlIExveWFsdHlDYXJkQXR0cmlidXRlc0lucHV0IHtcbiAgY29sb3I6IHN0cmluZztcbiAgZW1vamk6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlTG95YWx0eVByb2dyYW1JbnB1dCB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHZlbmRvcl9pZDogc3RyaW5nO1xuICBpdGVtc19yZXF1aXJlZDogQXJyYXk8c3RyaW5nPjtcbiAgcG9pbnRzOiBudW1iZXI7XG4gIHNoYXJlYWJsZV9wb2ludHM6IG51bWJlcjtcbiAgbWluX3B1cmNoYXNlPzogbnVtYmVyOyAvLyBkZWZhdWx0IDBcbiAgcHJvZ3JhbV90eXBlPzogTG95YWx0eVByb2dyYW1UeXBlOyAvLyBkZWZhdWx0IERPTExBUlxuICBwcm9ncmFtX2xveWFsdHlfY2FyZF9hdHRyaWJ1dGVzOiBMb3lhbHR5Q2FyZEF0dHJpYnV0ZXNJbnB1dDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTG95YWx0eVByb2dyYW1Db21tb25Qcm9wZXJ0aWVzIHtcbiAgbmFtZT86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHBvaW50cz86IG51bWJlcjtcbiAgc2hhcmVhYmxlX3BvaW50cz86IG51bWJlcjtcbiAgbWluX3B1cmNoYXNlPzogbnVtYmVyO1xuICBwcm9ncmFtX2xveWFsdHlfY2FyZF9hdHRyaWJ1dGVzPzogTG95YWx0eUNhcmRBdHRyaWJ1dGVzSW5wdXQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUxveWFsdHlQcm9ncmFtSW5wdXRcbiAgZXh0ZW5kcyBMb3lhbHR5UHJvZ3JhbUNvbW1vblByb3BlcnRpZXMge1xuICBpdGVtc19yZXF1aXJlZD86IEFycmF5PHN0cmluZz47XG4gIHByb2dyYW1fdHlwZT86IExveWFsdHlQcm9ncmFtVHlwZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTG95YWx0eVByb2dyYW0gZXh0ZW5kcyBMb3lhbHR5UHJvZ3JhbUNvbW1vblByb3BlcnRpZXMge1xuICBfaWQ/OiBzdHJpbmc7XG4gIHZlbmRvcj86IFZlbmRvcjtcbiAgaXRlbXNfcmVxdWlyZWQ/OiBBcnJheTxNZW51SXRlbT47XG4gIHJlZGVlbWFuYmxlX2l0ZW1zPzogQXJyYXk8UmVkZWVtYWJsZUl0ZW0+O1xuICBwcm9ncmFtX3R5cGU/OiBzdHJpbmc7XG59XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIGxveWFsdHkgcHJvZ3JhbXMuXG4gKi9cblxuZXhwb3J0IGNsYXNzIExveWFsdHlQcm9ncmFtQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IExveWFsdHkgUHJvZ3JhbSwgcmV0dXJucyBMb3lhbHR5UHJvZ3JhbSBfaWQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge0NyZWF0ZUxveWFsdHlQcm9ncmFtSW5wdXR9IGxveWFsdHlfcHJvZ3JhbSAtIFRoZSBMb3lhbHR5UHJvZ3JhbSBvYmplY3QgaW5wdXRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIExveWFsdHlQcm9ncmFtIG9iamVjdFxuICAgKi9cbiAgY3JlYXRlKGxveWFsdHlfcHJvZ3JhbTogQ3JlYXRlTG95YWx0eVByb2dyYW1JbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGxveWFsdHlfcHJvZ3JhbTogQ3JlYXRlTG95YWx0eVByb2dyYW1JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTG95YWx0eVByb2dyYW0obG95YWx0eV9wcm9ncmFtOiAkbG95YWx0eV9wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBsb3lhbHR5X3Byb2dyYW1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlTG95YWx0eVByb2dyYW0uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBMb3lhbHR5IFByb2dyYW0sIHJldHVybnMgTG95YWx0eVByb2dyYW0gX2lkIGlmIHN1Y2Nlc3NmdWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gSUQgb2YgdGhlIExveWFsdHlQcm9ncmFtIG9iamVjdCB0byB1cGRhdGVcbiAgICogQHBhcmFtIHtVcGRhdGVMb3lhbHR5UHJvZ3JhbUlucHV0fSBsb3lhbHR5X3Byb2dyYW0gLSBUaGUgTG95YWx0eVByb2dyYW0gdXBkYXRlIG9iamVjdCBpbnB1dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eVByb2dyYW0gb2JqZWN0XG4gICAqL1xuICB1cGRhdGUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBsb3lhbHR5X3Byb2dyYW06IFVwZGF0ZUxveWFsdHlQcm9ncmFtSW5wdXRcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6U3RyaW5nISwgJGxveWFsdHlfcHJvZ3JhbTogVXBkYXRlTG95YWx0eVByb2dyYW1JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTG95YWx0eVByb2dyYW0oaWQ6JGlkLCBsb3lhbHR5X3Byb2dyYW06ICRsb3lhbHR5X3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGxveWFsdHlfcHJvZ3JhbVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVMb3lhbHR5UHJvZ3JhbS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgTG95YWx0eSBQcm9ncmFtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eSBQcm9ncmFtXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gUmV0dXJuIHN0cmluZ1xuICAgKi9cbiAgZGVsZXRlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVMb3lhbHR5UHJvZ3JhbShpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5kZWxldGVMb3lhbHR5UHJvZ3JhbSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL0FwcFwiO1xuaW1wb3J0IHsgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IExveWFsdHlQcm9ncmFtIH0gZnJvbSBcIi4vTG95YWx0eVByb2dyYW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBDdXN0b21lciB9IGZyb20gXCIuL0N1c3RvbWVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgU2VsZWN0SW5wdXQgfSBmcm9tIFwiLi9Db21tb25JbnRlcmZhY2VcIjtcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4vT3JkZXJDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVMb3lhbHR5Q2FyZElucHV0IHtcbiAgbG95YWx0eV9wcm9ncmFtX2lkOiBzdHJpbmc7XG4gIGN1c3RvbWVyX2lkPzogc3RyaW5nO1xuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XG59XG5leHBvcnQgZW51bSBMb3lhbHR5VHJhbnNhY3Rpb25UeXBlIHtcbiAgRUFSTklORyA9IFwiRUFSTklOR1wiLFxuICBFQVJOSU5HX0ZSSUVORCA9IFwiRUFSTklOR19GUklFTkRcIixcbiAgU0hBUklORyA9IFwiU0hBUklOR1wiLFxuICBSRURFRU1JTkcgPSBcIlJFREVFTUlOR1wiXG59XG5leHBvcnQgaW50ZXJmYWNlIExveWFsdHlUcmFuc2FjdGlvbiB7XG4gIF9pZDogc3RyaW5nO1xuICBsb3lhbHR5X2NhcmQ6IExveWFsdHlDYXJkO1xuICB0cmFuc2FjdGlvbl90eXBlOiBMb3lhbHR5VHJhbnNhY3Rpb25UeXBlO1xuICB2YWx1ZTogbnVtYmVyO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBvcmRlcjogT3JkZXI7XG59XG5leHBvcnQgaW50ZXJmYWNlIExveWFsdHlDYXJkIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCB7XG4gIGxveWFsdHlfcHJvZ3JhbTogTG95YWx0eVByb2dyYW07XG4gIGN1c3RvbWVyPzogQ3VzdG9tZXI7XG4gIHBob25lX251bWJlcj86IHN0cmluZztcbiAgdHJhbnNhY3Rpb25zKHNlbGVjdDogU2VsZWN0SW5wdXQpOiBBcnJheTxMb3lhbHR5VHJhbnNhY3Rpb24+O1xuICBwb2ludHM6IG51bWJlcjtcbiAgc2hhcmVhYmxlX3BvaW50czogbnVtYmVyO1xufVxuLyoqXG4gKiBDb250cm9sbGVyIGZvciBsb3lhbHR5IGNhcmRzLlxuICovXG5cbmV4cG9ydCBjbGFzcyBMb3lhbHR5Q2FyZENvbnRyb2xsZXIge1xuICBhcHA6IEFwcDtcbiAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICAvLyBBREQgQklORElOR1MgQkVMT1dcbiAgICB0aGlzLmNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsID0gdGhpcy5jcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbC5iaW5kKFxuICAgICAgdGhpc1xuICAgICk7XG4gICAgdGhpcy5hd2FyZFBvaW50c1RvTG95YWx0eUNhcmQgPSB0aGlzLmF3YXJkUG9pbnRzVG9Mb3lhbHR5Q2FyZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXdhcmRTaGFyZWFibGVQb2ludHNUb0xveWFsdHlDYXJkID0gdGhpcy5hd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQuYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICAgIHRoaXMuc2hhcmVMb3lhbHR5UG9pbnRzID0gdGhpcy5zaGFyZUxveWFsdHlQb2ludHMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24gPSB0aGlzLnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24uYmluZChcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IExveWFsdHkgQ2FyZCwgYXV0b21hdGljYWxseSBlbnJvbGxpbmcgdXNlciBpbiB0aGUgbG95YWx0eSBwcm9ncmFtXG4gICAqIEBwYXJhbSB7Q3JlYXRlTG95YWx0eUNhcmRJbnB1dH0gbG95YWx0eV9jYXJkIC0gVGhlIExveWFsdHlDYXJkIG9iamVjdCBpbnB1dFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eUNhcmQgb2JqZWN0XG4gICAqL1xuICBjcmVhdGVMb3lhbHR5Q2FyZEFuZEVucm9sbChcbiAgICBsb3lhbHR5X2NhcmQ6IENyZWF0ZUxveWFsdHlDYXJkSW5wdXRcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkbG95YWx0eV9jYXJkOkNyZWF0ZUxveWFsdHlDYXJkSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsKGxveWFsdHlfY2FyZDogJGxveWFsdHlfY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgbG95YWx0eV9jYXJkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmNyZWF0ZUxveWFsdHlDYXJkQW5kRW5yb2xsLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBd2FyZCB1c2FibGUgcG9pbnRzIHRvIGEgbG95YWx0eSBjYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIG9mIHRoZSBsb3lhbHR5IGNhcmQgdG8gd2hpY2ggcG9pbnRzIGFyZSBhd2FyZGVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBOdW1iZXIgb2YgcG9pbnRzIHRvIGF3YXJkIHRvIGxveWFsdHkgY2FyZFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eVRyYW5zYWN0aW9uXG4gICAqL1xuICBhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQoaWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDogU3RyaW5nISwgJGFtb3VudDogSW50ISkge1xuICAgICAgICAgICAgICAgICAgICBhd2FyZFBvaW50c1RvTG95YWx0eUNhcmQoaWQ6ICRpZCwgYW1vdW50OiAkYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBhbW91bnRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYXdhcmRQb2ludHNUb0xveWFsdHlDYXJkLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBd2FyZCBzaGFyZWFibGUgcG9pbnRzIHRvIGEgbG95YWx0eSBjYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIElEIG9mIHRoZSBsb3lhbHR5IGNhcmQgdG8gd2hpY2ggc2hhcmVhYmxlIHBvaW50cyBhcmUgYXdhcmRlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gTnVtYmVyIG9mIHNoYXJlYWJsZSBwb2ludHMgdG8gYXdhcmQgdG8gbG95YWx0eSBjYXJkXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBMb3lhbHR5VHJhbnNhY3Rpb25cbiAgICovXG4gIGF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZChcbiAgICBpZDogc3RyaW5nLFxuICAgIGFtb3VudDogbnVtYmVyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGlkOiBTdHJpbmchLCAkYW1vdW50OiBJbnQhKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YXJkU2hhcmVhYmxlUG9pbnRzVG9Mb3lhbHR5Q2FyZChpZDogJGlkLCBhbW91bnQ6ICRhbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIGFtb3VudFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5hd2FyZFNoYXJlYWJsZVBvaW50c1RvTG95YWx0eUNhcmQuX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBzaGFyaW5nIG9mIGxveWFsdHkgcG9pbnRzIGZyb20gb25lIGxveWFsdHkgY2FyZCB0byBhbm90aGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZW5kZXJfY3VzdG9tZXJfaWQgLSBJRCBvZiB0aGUgY3VzdG9tZXIgdHJhbnNmZXJyaW5nIGxveWFsdHkgcG9pbnRzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWNlaXZlcl9waG9uZV9udW1iZXIgLSBQaG9uZSBudW1iZXIgb2YgdGhlIHJlY2VpdmVyIHJlY2VpdmluZyB0aGUgcG9pbnRzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb3lhbHR5X3Byb2dyYW1faWQgLSBJRCBvZiB0aGUgbG95YWx0eSBwcm9ncmFtIGluIGNvbnRleHQgb2Ygd2hpY2ggcG9pbnRzIGFyZSBzaGFyZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vX29mX3BvaW50c190b19zaGFyZSAtIE51bWJlciBvZiBwb2ludHMgdG8gc2hhcmVcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIExveWFsdHlUcmFuc2FjdGlvblxuICAgKi9cbiAgc2hhcmVMb3lhbHR5UG9pbnRzKFxuICAgIHNlbmRlcl9jdXN0b21lcl9pZDogc3RyaW5nLFxuICAgIHJlY2VpdmVyX3Bob25lX251bWJlcjogc3RyaW5nLFxuICAgIGxveWFsdHlfcHJvZ3JhbV9pZDogc3RyaW5nLFxuICAgIG5vX29mX3BvaW50c190b19zaGFyZTogbnVtYmVyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJHNlbmRlcl9jdXN0b21lcl9pZDogU3RyaW5nISwgJHJlY2VpdmVyX3Bob25lX251bWJlcjogU3RyaW5nISwgJGxveWFsdHlfcHJvZ3JhbV9pZDogU3RyaW5nISwgJG5vX29mX3BvaW50c190b19zaGFyZTogSW50ISkge1xuICAgICAgICAgICAgICAgICAgICBzaGFyZUxveWFsdHlQb2ludHMoc2VuZGVyX2N1c3RvbWVyX2lkOiAkc2VuZGVyX2N1c3RvbWVyX2lkLCByZWNlaXZlcl9waG9uZV9udW1iZXI6ICRyZWNlaXZlcl9waG9uZV9udW1iZXIsIGxveWFsdHlfcHJvZ3JhbV9pZDogJGxveWFsdHlfcHJvZ3JhbV9pZCwgbm9fb2ZfcG9pbnRzX3RvX3NoYXJlOiAkbm9fb2ZfcG9pbnRzX3RvX3NoYXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBzZW5kZXJfY3VzdG9tZXJfaWQsXG4gICAgICAgICAgcmVjZWl2ZXJfcGhvbmVfbnVtYmVyLFxuICAgICAgICAgIGxveWFsdHlfcHJvZ3JhbV9pZCxcbiAgICAgICAgICBub19vZl9wb2ludHNfdG9fc2hhcmVcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuc2hhcmVMb3lhbHR5UG9pbnRzLl9pZCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZTogYW55KSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRlZW0gYSBjb3Vwb24gaW4gZXhjaGFuZ2Ugb2YgbG95YWx0eSBwb2ludHMgZm9yIGEgcGFydGljdWxhciBpdGVtIHJlZGVlbWFibGUgaW4gYSB2ZW5kb3IncyBsb3lhbHR5IHByb2dyYW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxveWFsdHlfY2FyZF9pZCAtIFRoZSBpZCBvZiB0aGUgTG95YWx0eSBDYXJkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZW51X2l0ZW1faWQgLSBUaGUgaWQgb2YgdGhlIE1lbnUgSUQgd2hpY2ggbXVzdCBiZSBhIHJlZGVlbWFibGUgaW4gdGhlIHZlbmRvcidzIGxveWFsdHkgcGxhblxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIElEIG9mIHRoZSBDb3Vwb24gZ2VuZXJhdGVkXG4gICAqL1xuICByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uKFxuICAgIGxveWFsdHlfY2FyZF9pZDogc3RyaW5nLFxuICAgIG1lbnVfaXRlbV9pZDogc3RyaW5nXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJGxveWFsdHlfY2FyZF9pZDogU3RyaW5nISwgJG1lbnVfaXRlbV9pZDogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICByZWRlZW1Mb3lhbHR5UG9pbnRzRm9yQ291cG9uKGxveWFsdHlfY2FyZF9pZDogJGxveWFsdHlfY2FyZF9pZCwgbWVudV9pdGVtX2lkOiAkbWVudV9pdGVtX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBsb3lhbHR5X2NhcmRfaWQsXG4gICAgICAgICAgbWVudV9pdGVtX2lkXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnJlZGVlbUxveWFsdHlQb2ludHNGb3JDb3Vwb24uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vQXBwXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udHJvbGxlciB9IGZyb20gXCIuL0NvbnRyb2xsZXJcIjtcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSBcIi4vTWVudUl0ZW1Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBMb3lhbHR5UHJvZ3JhbSB9IGZyb20gXCIuL0xveWFsdHlQcm9ncmFtQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgTXV0YXRlUmVzdWx0IH0gZnJvbSBcIi4uL2xpbmtzL3N5bmNocm9ub3VzbGlua3MvR3JhcGhRTExpbmtcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVSZWRlZW1hYmxlSXRlbUlucHV0IHtcbiAgbG95YWx0eV9wcm9ncmFtX2lkOiBzdHJpbmc7XG4gIG1lbnVfaXRlbV9pZDogc3RyaW5nO1xuICBwb2ludHNfcmVxdWlyZWQ6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlUmVkZWVtYWJsZUl0ZW1JbnB1dCB7XG4gIHBvaW50c19yZXF1aXJlZD86IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVkZWVtYWJsZUl0ZW0gZXh0ZW5kcyBEZWZhdWx0Q29udHJvbGxlciB7XG4gIG1lbnVfaXRlbT86IE1lbnVJdGVtO1xuICBwb2ludHNfcmVxdWlyZWQ/OiBudW1iZXI7XG4gIGxveWFseV9wcm9ncmFtPzogTG95YWx0eVByb2dyYW07XG59XG4vKipcbiAqIENvbnRyb2xsZXIgZm9yIHJlZGVlbWFibGUgaXRlbXMuXG4gKi9cblxuZXhwb3J0IGNsYXNzIFJlZGVlbWFibGVJdGVtQ29udHJvbGxlciB7XG4gIGFwcDogQXBwO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuICAgIHRoaXMuYXBwID0gYXBwO1xuICAgIC8vIEFERCBCSU5ESU5HUyBCRUxPV1xuICAgIHRoaXMuY3JlYXRlID0gdGhpcy5jcmVhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGUgPSB0aGlzLmRlbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLy8gQUREIE1VVEFUSU9OIE1FVEhPRFMgQkVMT1dcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFJlZGVlbWFibGUgSXRlbSwgcmV0dXJucyBSZWRlZW1hYmxlSXRlbSBfaWQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge0NyZWF0ZVJlZGVlbWFibGVJdGVtSW5wdXR9IHJlZGVlbWFibGVfaXRlbSAtIFRoZSBSZWRlZW1hYmxlSXRlbSBvYmplY3QgaW5wdXRcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBUaGUgaWQgb2YgdGhlIFJlZGVlbWFibGVJdGVtIG9iamVjdFxuICAgKi9cbiAgY3JlYXRlKHJlZGVlbWFibGVfaXRlbTogQ3JlYXRlUmVkZWVtYWJsZUl0ZW1JbnB1dCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxldCBtdXRhdGlvblN0cmluZyA9IGBcbiAgICAgICAgICAgICAgICBtdXRhdGlvbiBjcmVhdGVSZWRlZW1hYmxlSXRlbSAoJHJlZGVlbWFibGVfaXRlbTogQ3JlYXRlUmVkZWVtYWJsZUl0ZW1JbnB1dCEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVkZWVtYWJsZUl0ZW0ocmVkZWVtYWJsZV9pdGVtOiAkcmVkZWVtYWJsZV9pdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICByZWRlZW1hYmxlX2l0ZW1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuY3JlYXRlUmVkZWVtYWJsZUl0ZW0uX2lkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBSZWRlZW1hYmxlSXRlbSwgcmV0dXJucyBSZWRlZW1hYmxlSXRlbSBfaWQgaWYgc3VjY2Vzc2Z1bFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBJRCBvZiB0aGUgUmVkZWVtYWJsZUl0ZW0gb2JqZWN0IHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0ge1VwZGF0ZVJlZGVlbWFibGVJdGVtSW5wdXR9IHJlZGVlbWFibGVfaXRlbSAtIFRoZSBSZWRlZW1hYmxlSXRlbSB1cGRhdGUgb2JqZWN0IGlucHV0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gVGhlIGlkIG9mIHRoZSBSZWRlZW1hYmxlSXRlbSBvYmplY3RcbiAgICovXG4gIHVwZGF0ZShcbiAgICBpZDogc3RyaW5nLFxuICAgIHJlZGVlbWFibGVfaXRlbTogVXBkYXRlUmVkZWVtYWJsZUl0ZW1JbnB1dFxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgbXV0YXRpb24gKCRpZDpTdHJpbmchLCAkcmVkZWVtYWJsZV9pdGVtOiBVcGRhdGVSZWRlZW1hYmxlSXRlbUlucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZWRlZW1hYmxlSXRlbShpZDogJGlkLCByZWRlZW1hYmxlX2l0ZW06ICRyZWRlZW1hYmxlX2l0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYDtcbiAgICAgIHRoaXMuYXBwXG4gICAgICAgIC5nZXRBZGFwdG9yKClcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHJlZGVlbWFibGVfaXRlbVxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC51cGRhdGVSZWRlZW1hYmxlSXRlbS5faWQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgUmVkZWVtYWJsZUl0ZW1cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIG9mIHRoZSBSZWRlZW1hYmxlSXRlbVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIFJldHVybiBzdHJpbmdcbiAgICovXG4gIGRlbGV0ZShpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVkZWVtYWJsZUl0ZW0oaWQ6ICRpZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgaWRcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3VsdDogTXV0YXRlUmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGVsZXRlUmVkZWVtYWJsZUl0ZW0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9BcHBcIjtcbmltcG9ydCB7IERlZmF1bHRDb250cm9sbGVyUmVxdWlyZWQgfSBmcm9tIFwiLi9Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBNdXRhdGVSZXN1bHQgfSBmcm9tIFwiLi4vbGlua3Mvc3luY2hyb25vdXNsaW5rcy9HcmFwaFFMTGlua1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVJhd0NvbmZpZ3VyYXRpb25JbnB1dCB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIHZlcnNpb25fbWFzaz86IHN0cmluZztcbiAgZGF0YT86IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUmF3Q29uZmlndXJhdGlvbklucHV0IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2ZXJzaW9uX21hc2s6IHN0cmluZztcbiAgZGF0YTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBSYXdDb25maWd1cmF0aW9uXG4gIGV4dGVuZHMgRGVmYXVsdENvbnRyb2xsZXJSZXF1aXJlZCxcbiAgICBDcmVhdGVSYXdDb25maWd1cmF0aW9uSW5wdXQge31cbi8qKlxuICogQ29udHJvbGxlciBmb3IgcmVtb3RlIGNvbmZpZ3VyYXRpb24uXG4gKi9cblxuZXhwb3J0IGNsYXNzIFJlbW90ZUNvbmZpZ3VyYXRpb25Db250cm9sbGVyIHtcbiAgYXBwOiBBcHA7XG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgLy8gQUREIEJJTkRJTkdTIEJFTE9XXG4gICAgdGhpcy5mZXRjaCA9IHRoaXMuZmV0Y2guYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlbGV0ZVJhd0NvbmZpZ3VyYXRpb24gPSB0aGlzLmRlbGV0ZVJhd0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24gPSB0aGlzLnVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmNyZWF0ZVJhd0NvbmZpZ3VyYXRpb24gPSB0aGlzLmNyZWF0ZVJhd0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8vIEFERCBNVVRBVElPTiBNRVRIT0RTIEJFTE9XXG5cbiAgLy9RVUVTVElPTiBpcyBpdCBjb3JyZWN0IHRvIHVzZSBKU09OIHR5cGUgaGVyZVxuICBmZXRjaChuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZyk6IFByb21pc2U8SlNPTj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgbXV0YXRpb25TdHJpbmcgPSBgXG4gICAgICAgICAgICAgICAgcXVlcnkgKCRuYW1lOiBTdHJpbmchLCAkdmVyc2lvbjogU3RyaW5nISkge1xuICAgICAgICAgICAgICAgICAgICBtZXJnZWRfY29uZmlndXJhdGlvbihuYW1lOiAkbmFtZSwgdmVyc2lvbjogJHZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC8vUVVFU1RJT04gdGhpcyBpcyBhIG11dGF0ZSBjYWxsIGJ1dCB0aGUgbXV0YXRpb24gc3RyaW5nIGFib3ZlIGlzIGEgcXVlcnksIHNob3VsZCBiZSBhIHF1ZXJ5IGNhbGxcbiAgICAgICAgLy8gSSBjYW4gbm90IGNoYW5nZSBpdCByaWdodCBub3cgYmVjYXVzZSBJIGRvIG5vdCBrbm93IHdoYXQgdXNpbmcgaXQsIHNvIEkgaGF2ZSBhZGRlZCBhIG5vdGUgaW4gdGhlXG4gICAgICAgIC8vIE11dGF0ZVJlc3VsdCBpbnRlcmZhY2VcbiAgICAgICAgLm11dGF0ZShtdXRhdGlvblN0cmluZywge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgdmVyc2lvblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UocmVzdWx0Lm1lcmdlZF9jb25maWd1cmF0aW9uLmRhdGEpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlUmF3Q29uZmlndXJhdGlvbihpZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmF3Q29uZmlndXJhdGlvbihpZDogJGlkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5kZWxldGVSYXdDb25maWd1cmF0aW9uKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUmF3Q29uZmlndXJhdGlvbihcbiAgICBpZDogc3RyaW5nLFxuICAgIHJhd0NvbmZpZ3VyYXRpb246IFVwZGF0ZVJhd0NvbmZpZ3VyYXRpb25JbnB1dFxuICApOiBQcm9taXNlPFJhd0NvbmZpZ3VyYXRpb24+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkaWQ6IFN0cmluZyEsICRyYXdDb25maWd1cmF0aW9uOiBVcGRhdGVSYXdDb25maWd1cmF0aW9uSW5wdXQhKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24oaWQ6ICRpZCwgcmF3X2NvbmZpZ3VyYXRpb246ICRyYXdDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGA7XG4gICAgICB0aGlzLmFwcFxuICAgICAgICAuZ2V0QWRhcHRvcigpXG4gICAgICAgIC5tdXRhdGUobXV0YXRpb25TdHJpbmcsIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICByYXdDb25maWd1cmF0aW9uXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXN1bHQ6IE11dGF0ZVJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0LnVwZGF0ZVJhd0NvbmZpZ3VyYXRpb24pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGU6IGFueSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVSYXdDb25maWd1cmF0aW9uKFxuICAgIHJhd0NvbmZpZ3VyYXRpb246IENyZWF0ZVJhd0NvbmZpZ3VyYXRpb25JbnB1dFxuICApOiBQcm9taXNlPFJhd0NvbmZpZ3VyYXRpb24+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IG11dGF0aW9uU3RyaW5nID0gYFxuICAgICAgICAgICAgICAgIG11dGF0aW9uICgkcmF3Q29uZmlndXJhdGlvbjogQ3JlYXRlUmF3Q29uZmlndXJhdGlvbklucHV0ISkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSYXdDb25maWd1cmF0aW9uKHJhd19jb25maWd1cmF0aW9uOiAkcmF3Q29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgICAgdGhpcy5hcHBcbiAgICAgICAgLmdldEFkYXB0b3IoKVxuICAgICAgICAubXV0YXRlKG11dGF0aW9uU3RyaW5nLCB7XG4gICAgICAgICAgcmF3Q29uZmlndXJhdGlvblxuICAgICAgICB9KVxuICAgICAgICAudGhlbigocmVzdWx0OiBNdXRhdGVSZXN1bHQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5jcmVhdGVSYXdDb25maWd1cmF0aW9uKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGdyYXBoUUxFbmRwb2ludDoge1xuICAgIHByb2R1Y3Rpb246IFwiaHR0cHM6Ly9ncmFwaHFsLXYxLmNoZWFwcmVhdHMuY29tL2dyYXBocWxcIlxuICB9LFxuICB2ZXJpZmljYXRpb25FbmRwb2ludDoge1xuICAgIHByb2R1Y3Rpb246IFwiaHR0cHM6Ly9tcy12ZXJpZmljYXRpb24tdjEuY2hlYXByZWF0cy5jb21cIlxuICB9LFxuICB2YWxpZGF0aW9uRW5kcG9pbnQ6IHtcbiAgICBwcm9kdWN0aW9uOiBcImh0dHBzOi8vbXMtdmFsaWRhdGlvbi12MS5jaGVhcHJlYXRzLmNvbVwiXG4gIH0sXG4gIGltYWdlRW5kcG9pbnQ6IHtcbiAgICBwcm9kdWN0aW9uOiBcImh0dHBzOi8vbXMtaW1hZ2UtdjEuY2hlYXByZWF0cy5jb21cIixcbiAgICBkaXN0cmlidXRpb246IFwiaHR0cHM6Ly9zdGF0aWMuY2hlYXByZWF0cy5jb21cIlxuICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==